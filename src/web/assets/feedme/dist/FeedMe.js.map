{"version":3,"file":"FeedMe.js","mappings":"wQAQAA,GAAE,WAC4C,cAAxCC,EAAOC,MAAMC,UACfD,MAAMC,OAAS,CAAC,GAIlBH,EAAEI,UAAUC,GAAG,QAAS,oBAAoB,SAAUC,GACpDA,EAAEC,iBAEF,IAAIC,EAAMR,EAAES,MAAMC,QAAQ,MAAMC,KAAK,MAAQ,YAC1BX,EAAE,wBAA0BQ,EAAM,qBAExCI,QACf,IAGA,IAAIC,EAAgBb,EAClB,oDACAc,KAAK,SACHC,EAAuBF,EAAcG,OACrCC,EAAuBJ,EAAcK,SAAS,iBAC9CC,EAA8BF,EAAqBD,OAGvDhB,EAAEI,UAAUC,GAAG,SAAU,gBAAgB,WACvCL,EAAE,mBAAmBoB,OAErB,IAAIC,EAAQrB,EAAES,MAAMa,MAAMC,QAAQ,MAAO,KACzCvB,EAAE,8BAAgCqB,EAAQ,MAAMG,OAElC,wBAAVH,GACFR,EAAcG,KAAKd,MAAMuB,EAAE,UAAW,0BACtCR,EAAqBD,KACnBd,MAAMuB,EACJ,UACA,yDAIJZ,EAAcG,KAAKD,GACnBE,EAAqBD,KAAKG,GAE9B,IAEAnB,EAAE,gBAAgB0B,QAAQ,UAG1B1B,EAAEI,UAAUC,GAAG,SAAU,gCAAgC,WACvD,IAAIsB,EAAW3B,EAAES,MAAMC,QAAQ,sBAAsBC,KAAK,UAAY,CAAC,EACnEiB,EAAU5B,EAAES,MAAMa,MAElBO,EAAaF,EADD,QAAUC,IACc,GAEpCE,EAAe9B,EAAE,+BAA+BsB,MAEhDS,EACF,oBAAsB7B,MAAMuB,EAAE,UAAW,QAAU,YACrDzB,EAAEgC,KAAKH,GAAY,SAAUI,EAAOZ,GAC9BY,IACFF,GAAc,kBAAoBE,EAAQ,KAAOZ,EAAQ,YAE7D,IAEArB,EAAE,+BAA+BkC,KAAKH,GAGlCD,EACF9B,EAAE,+BAA+BsB,IAAIQ,GAErC9B,EAAEA,EAAE,+BAA+BmC,WAAW,IAAIC,KAAK,YAAY,GAIrE,IAAIC,EAAcrC,EAAE,gBAAgBsB,MAElCpB,MAAMC,OAAOmC,aAAaD,IAC1BnC,MAAMC,OAAOmC,aAAaD,GAAaE,OAAOX,IAC9C1B,MAAMC,OAAOmC,aAAaD,GAAaE,OAAOX,GAASY,YAElDxC,EAAE,cAAcsB,QACnBtB,EAAE,cAAcsB,IAAI,KACpBtB,EAAE,cAAcoC,KAAK,CAACK,SAAS,EAAOC,UAAU,IAChD1C,EAAE,cAAcoC,KAAK,CAACK,SAAS,EAAMC,UAAU,IAC/C1C,EAAE,wBAAwBoC,KAAK,CAACK,SAAS,EAAOC,UAAU,IAC1D1C,EAAE,oBAAoBoC,KAAK,CAACK,SAAS,EAAOC,UAAU,IACtD1C,EAAE,cAAcoC,KAAK,CAACK,SAAS,EAAOC,UAAU,KAEzC1C,EAAE,cAAcsB,QACzBtB,EAAE,cAAcsB,IAAI,IACpBtB,EAAE,cAAcoC,KAAK,CAACK,SAAS,EAAMC,UAAU,IAC/C1C,EAAE,cAAcoC,KAAK,CAACK,SAAS,EAAOC,UAAU,IAChD1C,EAAE,wBAAwBoC,KAAK,CAACK,SAAS,EAAOC,UAAU,IAC1D1C,EAAE,oBAAoBoC,KAAK,CAACK,SAAS,EAAOC,UAAU,IACtD1C,EAAE,cAAcoC,KAAK,CAACK,SAAS,EAAOC,UAAU,IAEpD,IAEA1C,EAAE,wCAAwC0B,QAAQ,UAO9C1B,EAAE,mBAAmB2C,SACT3C,EAAE,kDAAkD2C,QAGhE3C,EAAE,gDAAgD4C,KAAK,WAAW,IAMtE5C,EACE,0FACAK,GAAG,UAAU,SAAUC,GACvB,IAAIuC,EAAQ,QACRC,EAAgB9C,EAAES,MAAMsC,SACxBC,EAA0BhD,EAAES,MAC7BC,QAAQ,yBACRuC,KAAK,mBAEJH,EAAcI,SAAS,uBACzBL,EAAQ,SAGN7C,EAAES,MAAMa,QAAUuB,EACpBG,EAAwBxB,QAExBwB,EAAwBC,KAAK,SAASL,KAAK,WAAW,GACtD5C,EAAE,+CAA+C0B,QAAQ,UACzDsB,EAAwB5B,OAE5B,IAGApB,EAAE,kCAAkC0B,QAAQ,UAC5C1B,EAAE,+BAA+B0B,QAAQ,UACzC1B,EAAE,6BAA6B0B,QAAQ,UAGvC1B,EAAE,yBAAyBK,GAAG,UAAU,SAAUC,GAChD,IAAI6C,EAAWnD,EAAES,MAAMC,QAAQ,yBAAyBuC,KAAK,WACzDG,EAASpD,EAAES,MACZC,QAAQ,yBACRuC,KAAK,qBACJI,EAAgBrD,EAAES,MACnBC,QAAQ,yBACRuC,KAAK,wBAEJjD,EAAES,MAAMmC,KAAK,YACfQ,EAAOE,IAAI,CAACC,QAAS,EAAGC,WAAY,YACpCL,EAASG,IAAI,CAACC,QAAS,EAAGC,WAAY,YACtCH,EAAc7B,SAEd4B,EAAOE,IAAI,CAACC,QAAS,EAAGC,WAAY,WACpCL,EAASG,IAAI,CAACC,QAAS,EAAGC,WAAY,WACtCH,EAAcjC,OAElB,IAGApB,EAAE,yBAAyB0B,QAAQ,UAGnC1B,EAAE,+CAA+CK,GAAG,UAAU,SAAUC,GACtE,IAAImD,EAAazD,EAAES,MAChBC,QAAQ,yBACRuC,KAAK,mBAEJjD,EAAES,MAAMmC,KAAK,WACfa,EAAWjC,OAEXiC,EAAWrC,MAEf,IAEApB,EAAE,+CAA+C0B,QAAQ,UAGzD1B,EAAE,uDAAuDK,GACvD,UACA,SAAUC,GACR,IAAImD,EAAazD,EAAES,MAChBC,QAAQ,yBACRuC,KAAK,4BACJtB,EAAW8B,EAAW9C,KAAK,SAC3B+C,EAAiBD,EAAW9C,KAAK,kBAGjCgD,EAAY,QAAU3D,EAAES,MAAMa,MAC9BO,EAAa,QACA+B,IAAbjC,IACEE,EAAaF,EAASgC,IAG5B,IAAI5B,EAAa,GACjB/B,EAAEgC,KAAKH,GAAY,SAAUI,EAAOZ,GAC9BY,IACFF,GACE,kBACAE,EACA,KACCA,GAASyB,EAAiB,uBAAyB,IACpD,IACArC,EACA,YAEN,IAEAoC,EAAWR,KAAK,UAAUf,KAAKH,EACjC,IAGF/B,EAAE,uDAAuD0B,QAAQ,UAGjE1B,EAAE,qCAAqC6D,UAAU,CAC/CC,kBAAkB,IAIpB9D,EAAE,4BAA4BK,GAAG,SAAS,SAAUC,GAC/BN,EAAES,MAClBC,QAAQ,sBACRuC,KAAK,gBACLtC,KAAK,eAEKC,QACf,IAGAZ,EAAE,mCAAmCK,GAAG,UAAU,SAAUC,GACvCN,EAAES,MAAME,KAAK,eACtBX,EAAES,MAAMC,QAAQ,MACAqD,UAAU,4BAEpBnD,QAClB,IAGAZ,EAAE,sBAAsBgC,MAAK,SAAUC,EAAO+B,GAC5C,IAGIC,EAAY,CAHGjE,EAAES,MAAMwC,KAAK,mBAAmB3B,MAChCtB,EAAES,MAAMwC,KAAK,sBAAsB3B,OAGlD4C,GAAc,EAGlBlE,EAAEgC,KAAKiC,GAAW,SAAUE,EAAGC,GACpB,IAALA,GAAgB,YAALA,QAAyBR,IAANQ,IAChCF,GAAc,EAElB,IAEIA,GACelE,EAAES,MAChB4D,UAAU,4BACVC,UACAC,OAC2BtB,KAAK,gBAAgBtC,KAAK,eAE3C6D,QAEjB,IAKAxE,EAAEI,UAAUC,GAAG,QAAS,oBAAoB,SAAUC,GACpDA,EAAEC,iBAEF,IAAIkE,EAAMzE,EAAES,MAAME,KAAK,OAEvBX,EAAE,gBAAkByE,EAAM,MAAMC,YAAY,SAC9C,IAGA1E,EAAEI,UAAUC,GAAG,QAAS,sBAAsB,SAAUC,GACtD,IAAIqE,EAAQ3E,EAAES,MAAMC,QAAQ,QACxBkE,EAAS5E,EAAES,MAAME,KAAK,UAE1BgE,EAAM1B,KAAK,wBAAwB3B,IAAIsD,GACvCD,EAAME,QACR,IAEA7E,EAAEI,UAAUC,GAAG,SAAU,0BAA0B,SAAUC,GAC3DA,EAAEC,iBAEFP,EAAES,MAAMC,QAAQ,QAAQmE,QAC1B,GACF,G,kRC1RIC,EAMK,WAUP,IAAIC,EAAS,SAAUC,EAAOC,GAC5BxE,KAAKuE,MAAQA,EACbvE,KAAKwE,SAAWA,GAAY,CAACC,YAAY,EAC3C,EASAH,EAAOI,UAAUC,SAAW,SAAUC,GAEpC,KADAA,EAAQC,EAAKC,OAAOF,GAAS,IAAIG,kBAClBH,EAAM1C,OAAQ,MAAO,GAEpC,IAAIwB,EAAGsB,EAAGC,EAAOC,EACbC,EAAS,GACTC,EAAQR,EAAMS,MAAM,MAExB,IAAK3B,EAAI,EAAGsB,EAAII,EAAMlD,OAAQwB,EAAIsB,EAAGtB,IAAK,CAExC,GADAuB,EAAQK,EAAaF,EAAM1B,IACvB1D,KAAKwE,SAASC,WAChB,IAAKS,KAAUK,EACTA,EAAWC,eAAeN,KAC5BD,EAAQA,EAAMnE,QAAQ,IAAI2E,OAAOP,EAAQ,KAAMK,EAAWL,KAIhEC,EAAOO,KAAK,CACVC,OAAQP,EAAM1B,GACduB,MAAO,IAAIQ,OAAOR,EAAO,MAE7B,CAEA,OAAOE,CACT,EAaAb,EAAOI,UAAUkB,SAAW,SAAUC,EAAQC,GAC5C,IAAIF,EAEFA,EADEG,EAASF,GAETG,MAAMtB,UAAUuB,SAChB,SAAUH,GACR,IAAK,IAAIpC,EAAI,EAAGsB,EAAIhF,KAAKkC,OAAQwB,EAAIsB,EAAGtB,IACtCoC,EAAS9F,KAAK0D,GAAIA,EAAG1D,KAEzB,EAES,SAAU8F,GACnB,IAAK,IAAI9B,KAAOhE,KACVA,KAAKwF,eAAexB,IACtB8B,EAAS9F,KAAKgE,GAAMA,EAAKhE,KAG/B,EAGF4F,EAASM,MAAML,EAAQ,CAACC,GAC1B,EAYAxB,EAAOI,UAAUyB,iBAAmB,SAAUC,EAAQC,GACpD,IAAUC,EAAQnB,EAAQoB,EAG1BH,EADOpG,KACOwG,cAAcJ,EAAQC,GACpClB,EAASiB,EAAOjB,OAChBmB,EAASF,EAAOC,QAAQC,OACxBC,EAAcpB,EAAOjD,OAUrB,IAqBMuE,EArBFC,EAAa,SAAU9F,EAAO+F,GAChC,IAAIC,EAAOC,EAEX,OAAKjG,GAGQ,KADbiG,GADAjG,EAAQkE,OAAOlE,GAAS,KACZwF,OAAOO,EAAM1B,QACF,GACvB2B,EAAQD,EAAMhB,OAAOzD,OAAStB,EAAMsB,OACxB,IAAR2E,IAAWD,GAAS,IACjBA,GANY,CAOrB,EAUIE,GACEL,EAAcH,EAAOpE,QAML,IAAhBuE,EACK,SAAUE,EAAOzG,GACtB,OAAOwG,EAAWxG,EAAKoG,EAAO,IAAKK,EACrC,EAEK,SAAUA,EAAOzG,GACtB,IAAK,IAAIwD,EAAI,EAAGqD,EAAM,EAAGrD,EAAI+C,EAAa/C,IACxCqD,GAAOL,EAAWxG,EAAKoG,EAAO5C,IAAKiD,GAErC,OAAOI,EAAMN,CACf,EAdS,WACL,OAAO,CACT,EAeJ,OAAKF,EAKe,IAAhBA,EACK,SAAUrG,GACf,OAAO4G,EAAY3B,EAAO,GAAIjF,EAChC,EAGiC,QAA/BkG,EAAOC,QAAQW,YACV,SAAU9G,GAEf,IADA,IAAI0G,EACKlD,EAAI,EAAGqD,EAAM,EAAGrD,EAAI6C,EAAa7C,IAAK,CAE7C,IADAkD,EAAQE,EAAY3B,EAAOzB,GAAIxD,KAClB,EAAG,OAAO,EACvB6G,GAAOH,CACT,CACA,OAAOG,EAAMR,CACf,EAEO,SAAUrG,GACf,IAAK,IAAIwD,EAAI,EAAGqD,EAAM,EAAGrD,EAAI6C,EAAa7C,IACxCqD,GAAOD,EAAY3B,EAAOzB,GAAIxD,GAEhC,OAAO6G,EAAMR,CACf,EA1BO,WACL,OAAO,CACT,CA0BJ,EAWAjC,EAAOI,UAAUuC,gBAAkB,SAAUb,EAAQC,GACnD,IAAI3C,EACFsB,EACAkC,EACAC,EACAb,EACAc,EACAC,EACAC,EACAC,EACAC,EACAC,EAqBF,GAjBAA,IADArB,GADAc,EAAOlH,MACOwG,cAAcJ,EAAQC,IACpBzB,OAASyB,EAAQqB,YAAerB,EAAQoB,KAUxDF,EAAY,SAAUI,EAAMC,GAC1B,MAAa,WAATD,EAA0BC,EAAOhB,MAC9BM,EAAK3C,MAAMqD,EAAOC,IAAIF,EAC/B,EAGArB,EAAS,GACLmB,EACF,IAAK/D,EAAI,EAAGsB,EAAIyC,EAAKvF,OAAQwB,EAAIsB,EAAGtB,KAC9B0C,EAAOxB,OAA2B,WAAlB6C,EAAK/D,GAAGyD,QAC1Bb,EAAOZ,KAAK+B,EAAK/D,IAOvB,GAAI0C,EAAOxB,MAAO,CAEhB,IADA4C,GAAiB,EACZ9D,EAAI,EAAGsB,EAAIsB,EAAOpE,OAAQwB,EAAIsB,EAAGtB,IACpC,GAAwB,WAApB4C,EAAO5C,GAAGyD,MAAoB,CAChCK,GAAiB,EACjB,KACF,CAEEA,GACFlB,EAAOwB,QAAQ,CAACX,MAAO,SAAUY,UAAW,QAEhD,MACE,IAAKrE,EAAI,EAAGsB,EAAIsB,EAAOpE,OAAQwB,EAAIsB,EAAGtB,IACpC,GAAwB,WAApB4C,EAAO5C,GAAGyD,MAAoB,CAChCb,EAAO0B,OAAOtE,EAAG,GACjB,KACF,CAKJ,IADA4D,EAAc,GACT5D,EAAI,EAAGsB,EAAIsB,EAAOpE,OAAQwB,EAAIsB,EAAGtB,IACpC4D,EAAY5B,KAA6B,SAAxBY,EAAO5C,GAAGqE,WAAwB,EAAI,GAKzD,OADAX,EAAed,EAAOpE,QAGM,IAAjBkF,GACTD,EAAQb,EAAO,GAAGa,MAClBE,EAAaC,EAAY,GAClB,SAAUW,EAAGC,GAClB,OAAOb,EAAac,EAAIZ,EAAUJ,EAAOc,GAAIV,EAAUJ,EAAOe,GAChE,GAEO,SAAUD,EAAGC,GAClB,IAAIxE,EAAGkE,EAA0BT,EACjC,IAAKzD,EAAI,EAAGA,EAAI0D,EAAc1D,IAI5B,GAHAyD,EAAQb,EAAO5C,GAAGyD,MAClBS,EACEN,EAAY5D,GAAKyE,EAAIZ,EAAUJ,EAAOc,GAAIV,EAAUJ,EAAOe,IACjD,OAAON,EAErB,OAAO,CACT,EAjBO,IAmBX,EAWAtD,EAAOI,UAAU8B,cAAgB,SAAU5B,EAAOyB,GAChD,GAAqB,WAAjB7G,EAAOoF,GAAoB,OAAOA,EAItC,IAAIwD,GAFJ/B,EAAUgC,EAAO,CAAC,EAAGhC,IAEOC,OACxBgC,EAAcjC,EAAQoB,KACtBc,EAAoBlC,EAAQqB,WAQhC,OANIU,IAAkBrC,EAASqC,KAC7B/B,EAAQC,OAAS,CAAC8B,IAChBE,IAAgBvC,EAASuC,KAAcjC,EAAQoB,KAAO,CAACa,IACvDC,IAAsBxC,EAASwC,KACjClC,EAAQqB,WAAa,CAACa,IAEjB,CACLlC,QAASA,EACTzB,MAAOE,OAAOF,GAAS,IAAIG,cAC3BI,OAAQnF,KAAK2E,SAASC,GACtB4D,MAAO,EACPjE,MAAO,GAEX,EAyBAD,EAAOI,UAAU0B,OAAS,SAAUxB,EAAOyB,GACzC,IAEEO,EACAR,EAEEqC,EACAC,EANAxB,EAAOlH,KAsCX,OA9BAoG,EAASpG,KAAKwG,cAAc5B,EAAOyB,GACnCA,EAAUD,EAAOC,QACjBzB,EAAQwB,EAAOxB,MAGf8D,EAAWrC,EAAQO,OAASM,EAAKf,iBAAiBC,GAG9CxB,EAAM1C,OACRgF,EAAKtB,SAASsB,EAAK3C,OAAO,SAAUoE,EAAMd,GACxCjB,EAAQ8B,EAASC,KACM,IAAnBtC,EAAQuC,QAAoBhC,EAAQ,IACtCR,EAAO7B,MAAMmB,KAAK,CAACkB,MAAOA,EAAOiB,GAAIA,GAEzC,IAEAX,EAAKtB,SAASsB,EAAK3C,OAAO,SAAUoE,EAAMd,GACxCzB,EAAO7B,MAAMmB,KAAK,CAACkB,MAAO,EAAGiB,GAAIA,GACnC,KAGFY,EAAUvB,EAAKD,gBAAgBb,EAAQC,KAC1BD,EAAO7B,MAAMkD,KAAKgB,GAG/BrC,EAAOoC,MAAQpC,EAAO7B,MAAMrC,OACC,iBAAlBmE,EAAQwC,QACjBzC,EAAO7B,MAAQ6B,EAAO7B,MAAMuE,MAAM,EAAGzC,EAAQwC,QAGxCzC,CACT,EAKA,IAAI+B,EAAM,SAAUF,EAAGC,GACrB,MAAiB,iBAAND,GAA+B,iBAANC,EAC3BD,EAAIC,EAAI,EAAID,EAAIC,GAAK,EAAI,GAElCD,EAAIc,EAAUjE,OAAOmD,GAAK,OAC1BC,EAAIa,EAAUjE,OAAOoD,GAAK,MACR,EACdA,EAAID,GAAW,EACZ,CACT,EAEII,EAAS,SAAUJ,EAAGC,GACxB,IAAIxE,EAAGsB,EAAGgE,EAAGnD,EACb,IAAKnC,EAAI,EAAGsB,EAAIiE,UAAU/G,OAAQwB,EAAIsB,EAAGtB,IAEvC,GADAmC,EAASoD,UAAUvF,GAEnB,IAAKsF,KAAKnD,EACJA,EAAOL,eAAewD,KACxBf,EAAEe,GAAKnD,EAAOmD,IAIpB,OAAOf,CACT,EAEIpD,EAAO,SAAUqE,GACnB,OAAQA,EAAM,IAAIpI,QAAQ,cAAe,GAC3C,EAEIwE,EAAe,SAAU4D,GAC3B,OAAQA,EAAM,IAAIpI,QAAQ,yBAA0B,OACtD,EAEIiF,EACFC,MAAMmD,SACL5J,GAAKA,EAAE4J,SACR,SAAUtD,GACR,MAAkD,mBAA3CuD,OAAO1E,UAAU2E,SAASC,KAAKzD,EACxC,EAEEN,EAAa,CACf0C,EAAG,sBACHsB,EAAG,YACHC,EAAG,UACH3J,EAAG,oBACH6D,EAAG,gBACH+F,EAAG,QACHzE,EAAG,YACH0E,EAAG,qBACHC,EAAG,QACHC,EAAG,UACH5I,EAAG,QACH6I,EAAG,kBACHC,EAAG,UACHC,EAAG,aAGDhB,EAAa,WACf,IAAIrF,EAAGsB,EAAGgE,EAAGgB,EACTC,EAAiB,GACjBC,EAAS,CAAC,EACd,IAAKlB,KAAKzD,EACR,GAAIA,EAAWC,eAAewD,GAG5B,IADAiB,GADAD,EAAQzE,EAAWyD,GAAGmB,UAAU,EAAG5E,EAAWyD,GAAG9G,OAAS,GAErDwB,EAAI,EAAGsB,EAAIgF,EAAM9H,OAAQwB,EAAIsB,EAAGtB,IACnCwG,EAAOF,EAAMI,OAAO1G,IAAMsF,EAIhC,IAAIqB,EAAS,IAAI5E,OAAO,IAAMwE,EAAiB,IAAK,KACpD,OAAO,SAAUf,GACf,OAAOA,EACJpI,QAAQuJ,GAAQ,SAAUC,GACzB,OAAOJ,EAAOI,EAChB,IACCvF,aACL,CACF,CArBiB,GA0BjB,OAAOT,CACT,EAvd4B,6GA2eK,mBAA7BD,EAMK,WACP,IAAIkG,EAAc,CAElBA,MAAoB,SAAUC,GAC5BA,EAAUC,QAAU,CAAC,EAiBrBD,EAAU9F,UAAUgG,kBAAoB,SAAUD,GAChD,IAAI/G,EAAGsB,EAAGhB,EACNkD,EAAOlH,KACP2K,EAAQ,GASZ,GAPAzD,EAAKuD,QAAU,CACbG,MAAO,GACPpG,SAAU,CAAC,EACXqG,UAAW,CAAC,EACZC,OAAQ,CAAC,GAGPC,EAAM5B,QAAQsB,GAChB,IAAK/G,EAAI,EAAGsB,EAAIyF,EAAQvI,OAAQwB,EAAIsB,EAAGtB,IACX,iBAAf+G,EAAQ/G,GACjBiH,EAAMjF,KAAK+E,EAAQ/G,KAEnBwD,EAAKuD,QAAQjG,SAASiG,EAAQ/G,GAAGiE,MAAQ8C,EAAQ/G,GAAG2C,QACpDsE,EAAMjF,KAAK+E,EAAQ/G,GAAGiE,YAGrB,GAAI8C,EACT,IAAKzG,KAAOyG,EACNA,EAAQjF,eAAexB,KACzBkD,EAAKuD,QAAQjG,SAASR,GAAOyG,EAAQzG,GACrC2G,EAAMjF,KAAK1B,IAKjB,KAAO2G,EAAMzI,QACXgF,EAAK8D,QAAQL,EAAMM,QAEvB,EAEAT,EAAU9F,UAAUwG,WAAa,SAAUvD,GACzC,IAAIT,EAAOlH,KACPyK,EAAUvD,EAAKuD,QACfU,EAASX,EAAUC,QAAQ9C,GAE/B,IAAK6C,EAAUC,QAAQjF,eAAemC,GACpC,MAAM,IAAIyD,MAAM,mBAAqBzD,EAAO,YAG9C8C,EAAQI,UAAUlD,IAAQ,EAC1B8C,EAAQK,OAAOnD,GAAQwD,EAAOE,GAAGnF,MAAMgB,EAAM,CAC3CA,EAAKuD,QAAQjG,SAASmD,IAAS,CAAC,IAElC8C,EAAQG,MAAMlF,KAAKiC,EACrB,EAOA6C,EAAU9F,UAAUsG,QAAU,SAAUrD,GACtC,IAAIT,EAAOlH,KACPyK,EAAUvD,EAAKuD,QAEnB,IAAKvD,EAAKuD,QAAQK,OAAOtF,eAAemC,GAAO,CAC7C,GAAI8C,EAAQI,UAAUlD,GACpB,MAAM,IAAIyD,MAAM,oCAAsCzD,EAAO,MAE/DT,EAAKgE,WAAWvD,EAClB,CAEA,OAAO8C,EAAQK,OAAOnD,EACxB,EAQA6C,EAAUnG,OAAS,SAAUsD,EAAM0D,GACjCb,EAAUC,QAAQ9C,GAAQ,CACxBA,KAAMA,EACN0D,GAAIA,EAER,CACF,GAEIN,EAAQ,CACV5B,QACEnD,MAAMmD,SACN,SAAUmC,GACR,MAAgD,mBAAzClC,OAAO1E,UAAU2E,SAASC,KAAKgC,EACxC,GAGJ,OAAOf,CACT,IAxHiC,uHA+I7BlG,EAAoB,CAAC,OAAU,EAAU,GAAgB,EAUpD,SAAU9E,EAAG+E,EAAQiG,GAC5B,aAEA,IAAIgB,EAAY,SAAUC,EAAUC,GAClC,GAAuB,iBAAZA,GAAyBA,EAAQvJ,OAA5C,CACA,IAAI+C,EACiB,iBAAZwG,EAAuB,IAAIhG,OAAOgG,EAAS,KAAOA,EAEvDF,EAAY,SAAZA,EAAsBG,GACxB,IAAIC,EAAO,EACX,GAAsB,IAAlBD,EAAKE,SAAgB,CACvB,IAAI/E,EAAM6E,EAAKxL,KAAKkG,OAAOnB,GAC3B,GAAI4B,GAAO,GAAK6E,EAAKxL,KAAKgC,OAAS,EAAG,CACpC,IAAIE,EAAQsJ,EAAKxL,KAAKkC,MAAM6C,GACxB4G,EAAWlM,SAASmM,cAAc,QACtCD,EAASE,UAAY,YACrB,IAAIC,EAAYN,EAAKO,UAAUpF,GAE3BqF,GADSF,EAAUC,UAAU7J,EAAM,GAAGF,QACxB8J,EAAUG,WAAU,IACtCN,EAASO,YAAYF,GACrBF,EAAUK,WAAWC,aAAaT,EAAUG,GAC5CL,EAAO,CACT,CACF,MAAO,GACa,IAAlBD,EAAKE,UACLF,EAAKa,aACJ,kBAAkBC,KAAKd,EAAKe,SAE7B,IAAK,IAAI/I,EAAI,EAAGA,EAAIgI,EAAKa,WAAWrK,SAAUwB,EAC5CA,GAAK6H,EAAUG,EAAKa,WAAW7I,IAGnC,OAAOiI,CACT,EAEA,OAAOH,EAASjK,MAAK,WACnBgK,EAAUvL,KACZ,GAjC0D,CAkC5D,EAEI0M,EAAa,WAAa,EAC9BA,EAAWhI,UAAY,CACrB9E,GAAI,SAAU+M,EAAOC,GACnB5M,KAAK6M,QAAU7M,KAAK6M,SAAW,CAAC,EAChC7M,KAAK6M,QAAQF,GAAS3M,KAAK6M,QAAQF,IAAU,GAC7C3M,KAAK6M,QAAQF,GAAOjH,KAAKkH,EAC3B,EACAE,IAAK,SAAUH,EAAOC,GACpB,IAAI5H,EAAIiE,UAAU/G,OAClB,OAAU,IAAN8C,SAAuBhF,KAAK6M,QACtB,IAAN7H,SAAuBhF,KAAK6M,QAAQF,IAExC3M,KAAK6M,QAAU7M,KAAK6M,SAAW,CAAC,OAC5BF,KAAS3M,KAAK6M,SAAY,GAC9B7M,KAAK6M,QAAQF,GAAO3E,OAAOhI,KAAK6M,QAAQF,GAAOI,QAAQH,GAAM,IAC/D,EACA3L,QAAS,SAAU0L,GAEjB,GADA3M,KAAK6M,QAAU7M,KAAK6M,SAAW,CAAC,EAC5BF,KAAS3M,KAAK6M,SAAY,EAC9B,IAAK,IAAInJ,EAAI,EAAGA,EAAI1D,KAAK6M,QAAQF,GAAOzK,OAAQwB,IAC9C1D,KAAK6M,QAAQF,GAAOjJ,GAAGwC,MACrBlG,KACAgG,MAAMtB,UAAUoE,MAAMQ,KAAKL,UAAW,GAG5C,GAUFyD,EAAWM,MAAQ,SAAUC,GAE3B,IADA,IAAIC,EAAQ,CAAC,KAAM,MAAO,WACjBxJ,EAAI,EAAGA,EAAIwJ,EAAMhL,OAAQwB,IAChCuJ,EAAWvI,UAAUwI,EAAMxJ,IAAMgJ,EAAWhI,UAAUwI,EAAMxJ,GAEhE,EAEA,IAAIyJ,EAAS,MAAMX,KAAKY,UAAUC,WAe9BC,EAAUH,EAAS,GAAK,GACxBI,EAAWJ,EAAS,GAAK,GAOzBK,GACD,WAAWhB,KAAKiB,OAAOL,UAAUC,cAChC1N,SAASmM,cAAc,QAAQ4B,SAE/BC,EAAQ,SAAU9H,GACpB,YAAyB,IAAXA,CAChB,EAkBI+H,EAAW,SAAUhN,GACvB,OAAI,MAAOA,EAAgD,KACtC,kBAAVA,EAA4BA,EAAQ,IAAM,IAC9CA,EAAQ,EACjB,EAQIiN,EAAc,SAAU3E,GAC1B,OAAQA,EAAM,IACXpI,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,SACnB,EAQIgN,EAAiB,SAAU5E,GAC7B,OAAQA,EAAM,IAAIpI,QAAQ,MAAO,OACnC,EAEIiN,EA0BS,SAAU7G,EAAM8G,EAAQ3C,GACnC,IAAI4C,EAAW/G,EAAK8G,GACpB9G,EAAK8G,GAAU,WACb,IAAIpG,EAASqG,EAAS/H,MAAMgB,EAAM+B,WAElC,OADAoC,EAAGnF,MAAMgB,EAAM+B,WACRrB,CACT,CACF,EA6CIsG,EAAkB,SAAUhH,EAAMiH,EAAO9C,GAC3C,IAAI+C,EACAnN,EAAUiG,EAAKjG,QACfoN,EAAa,CAAC,EAiBlB,IAAKD,KAdLlH,EAAKjG,QAAU,WACb,IAAImN,EAAOnF,UAAU,GACrB,IAA6B,IAAzBkF,EAAMpB,QAAQqB,GAGhB,OAAOnN,EAAQiF,MAAMgB,EAAM+B,WAF3BoF,EAAWD,GAAQnF,SAIvB,EAGAoC,EAAGnF,MAAMgB,EAAM,IACfA,EAAKjG,QAAUA,EAGFoN,EACPA,EAAW7I,eAAe4I,IAC5BnN,EAAQiF,MAAMgB,EAAMmH,EAAWD,GAGrC,EA8BIE,EAAe,SAAUC,GAC3B,IAAI3G,EAAS,CAAC,EACd,GAAI,mBAAoB2G,EACtB3G,EAAO4G,MAAQD,EAAME,eACrB7G,EAAO1F,OAASqM,EAAMG,aAAe9G,EAAO4G,WACvC,GAAI7O,SAASgP,UAAW,CAC7BJ,EAAMK,QACN,IAAIC,EAAMlP,SAASgP,UAAUG,cACzBC,EAASpP,SAASgP,UAAUG,cAAcvO,KAAK2B,OACnD2M,EAAIG,UAAU,aAAcT,EAAM3N,MAAMsB,QACxC0F,EAAO4G,MAAQK,EAAItO,KAAK2B,OAAS6M,EACjCnH,EAAO1F,OAAS6M,CAClB,CACA,OAAOnH,CACT,EAuEIqH,EAAW,SAAUC,GACvB,IAAIC,EAAe,KAEfC,EAAS,SAAUvP,EAAGwG,GACxB,IAAIzF,EAAOyO,EAASC,EAAWC,EAAaC,EACxCvE,EAAOwE,EAAWd,EAEtBtI,EAAUA,GAAW,CAAC,GADtBxG,EAAIA,GAAK4N,OAAOd,OAAS,CAAC,GAGpB+C,SAAW7P,EAAE8P,SACdtJ,EAAQuJ,QAAiC,IAAxBV,EAAOhP,KAAK,WAElCU,EAAQsO,EAAOrO,MACXhB,EAAEuO,MAAiC,YAAzBvO,EAAEuO,KAAKrJ,gBAEnBuK,GADAD,EAAUxP,EAAEwP,UAEE,IAAMA,GAAW,KAC5BA,GAAW,IAAMA,GAAW,IAC5BA,GAAW,IAAMA,GAAW,IACjB,KAAZA,EA7SS,KA+SPA,GAhTU,IAgTgBA,GAC5BV,EAAYL,EAAaY,EAAO,KAClBhN,OACZtB,EACEA,EAAMuJ,UAAU,EAAGwE,EAAUH,OAC7B5N,EAAMuJ,UAAUwE,EAAUH,MAAQG,EAAUzM,QArTpC,IAsTDmN,GAA6BV,EAAUH,MAChD5N,EACEA,EAAMuJ,UAAU,EAAGwE,EAAUH,MAAQ,GACrC5N,EAAMuJ,UAAUwE,EAAUH,MAAQ,GAxT7B,KA0TPa,QAC2B,IAApBV,EAAUH,QAEjB5N,EACEA,EAAMuJ,UAAU,EAAGwE,EAAUH,OAC7B5N,EAAMuJ,UAAUwE,EAAUH,MAAQ,IAE7Bc,IACTrE,EAAQpL,EAAEgQ,SACVJ,EAAY3K,OAAOgL,aAAajQ,EAAEwP,SAGlCzO,GAFW6O,EAAPxE,EAAmBwE,EAAUM,cAChBN,EAAU1K,gBAK/BwK,EAAcL,EAAOvN,KAAK,gBACrBf,GAAS2O,IACZ3O,EAAQ2O,IAGVC,EA7FgB,SAAUtG,EAAK8G,GACjC,IAAK9G,EACH,OAAO,EAGT,IAAI+G,EAAQ1Q,EAAE,UACXsD,IAAI,CACHqN,SAAU,WACVC,KAAM,MACNC,MAAO,MACPZ,MAAO,OACPa,QAAS,EACTC,WAAY,QAEb/P,KAAK2I,GACLqH,SAAS,SArCO,SAAUC,EAAOC,EAAKC,GACzC,IAAIhN,EACFsB,EACA2L,EAAS,CAAC,EACZ,GAAID,EACF,IAAKhN,EAAI,EAAGsB,EAAI0L,EAAWxO,OAAQwB,EAAIsB,EAAGtB,IACxCiN,EAAOD,EAAWhN,IAAM8M,EAAM3N,IAAI6N,EAAWhN,SAG/CiN,EAASH,EAAM3N,MAEjB4N,EAAI5N,IAAI8N,EACV,CA2BEC,CAAeZ,EAASC,EAAO,CAC7B,gBACA,WACA,aACA,aACA,kBAGF,IAAIT,EAAQS,EAAMT,QAGlB,OAFAS,EAAMY,SAECrB,CACT,CAgEYsB,CAAclQ,EAAOsO,GAAU,KACzBC,IACZA,EAAeK,EACfN,EAAOM,MAAMA,GACbN,EAAO6B,eAAe,WAE1B,EAEA7B,EAAOtP,GAAG,4BAA6BwP,GACvCA,GACF,EAEI4B,EAAY,SAAZA,EAAsB9B,EAAQ1K,GAChC,IACEd,EACAsB,EACAiM,EACA1C,EACArH,EAAOlH,MACTuO,EAAQW,EAAO,IACT9L,UAAY8D,EAGlB,IA5OuBmE,EAAI6F,EACvBC,EA2OAC,EACF3D,OAAO4D,kBAAoB5D,OAAO4D,iBAAiB9C,EAAO,MAyD5D,GArDA0C,GAHAA,EAAMG,EACFA,EAAcE,iBAAiB,aAC/B/C,EAAMgD,cAAgBhD,EAAMgD,aAAaxJ,YAChCmH,EAAOjP,QAAQ,eAAe0B,KAAK,QAAU,GAG1DpC,EAAE8I,OAAOnB,EAAM,CACbsK,MAAO,EACPhN,SAAUA,EACV0K,OAAQA,EACRuC,SAAUvC,EAAOvN,KAAK,aAAe,GACrC+P,QACkC,WAAhCnD,EAAM9B,QAAQ1H,cA9WH,EACD,EA8WZ4M,IAAK,OAAOnF,KAAKyE,GAEjBW,QAAS,gBAAiBZ,EAAUa,MACpCC,iBAAkB,KAClBC,QAAQ,EACRC,YAAY,EACZC,WAAY/C,EAAOgD,GAAG,cACtBC,WAAW,EACXC,UAAU,EACVC,WAAW,EACXC,eAAe,EACfC,SAAS,EACTC,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,aAAa,EACbC,YAAY,EACZC,aAAa,EACbC,YAAY,EACZC,eAAgB,KAChBC,UAAW,GACXC,SAAU,EACVC,QAAS,EACTC,eAAgB,CAAC,EAEjBC,cAAe,KACfC,aAAc,GAEdC,UAAW,CAAC,EACZjN,QAAS,CAAC,EACVkN,YAAa,CAAC,EACdhP,MAAO,GACPiP,YAAa,CAAC,EACdC,eAC4B,OAA1BjP,EAASkP,aACLxM,EAAKuM,gBA9RUpI,EA+RNnE,EAAKuM,eA/RKvC,EA+RW1M,EAASkP,aA7RxC,WACL,IAAIxM,EAAOlH,KACP2T,EAAO1K,UACXwE,OAAOmG,aAAazC,GACpBA,EAAU1D,OAAOoG,YAAW,WAC1BxI,EAAGnF,MAAMgB,EAAMyM,EACjB,GAAGzC,EACL,KA0RAhK,EAAK4M,OAAS,IAAIxP,EAAOtE,KAAKqG,QAAS,CAAC5B,WAAYD,EAASC,aAGzDyC,EAAK1C,SAAS6B,QAAS,CACzB,IAAK3C,EAAI,EAAGsB,EAAIkC,EAAK1C,SAAS6B,QAAQnE,OAAQwB,EAAIsB,EAAGtB,IACnDwD,EAAK6M,eAAe7M,EAAK1C,SAAS6B,QAAQ3C,WAErCwD,EAAK1C,SAAS6B,OACvB,CAGA,GAAIa,EAAK1C,SAAS8O,UAAW,CAC3B,IAAK5P,EAAI,EAAGsB,EAAIkC,EAAK1C,SAAS8O,UAAUpR,OAAQwB,EAAIsB,EAAGtB,IACrDwD,EAAK8M,oBAAoB9M,EAAK1C,SAAS8O,UAAU5P,WAE5CwD,EAAK1C,SAAS8O,SACvB,CAGApM,EAAK1C,SAASyP,KACZ/M,EAAK1C,SAASyP,OAAoC,IAA3B/M,EAAK1C,SAAS0P,SAAiB,SAAW,SACzB,kBAA/BhN,EAAK1C,SAAS2P,eACvBjN,EAAK1C,SAAS2P,aAAsC,UAAvBjN,EAAK1C,SAASyP,MAG7C/M,EAAKwD,kBAAkBxD,EAAK1C,SAASiG,SACrCvD,EAAKkN,iBACLlN,EAAKmN,iBACLnN,EAAKoN,OACP,EA6uFA,OAxuFA5H,EAAWM,MAAMgE,GACjBzG,EAAYyC,MAAMgE,GAKlBzR,EAAE8I,OAAO2I,EAAUtM,UAAW,CAI5B4P,MAAO,WACL,IAOIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAGAC,EACAC,EA1SwB/E,EAASrD,EAAOqI,EAAU3J,EAyRlDnE,EAAOlH,KACPwE,EAAW0C,EAAK1C,SAChBoN,EAAU1K,EAAK0K,QACfqD,EAAU1V,EAAEkO,QACZyH,EAAY3V,EAAEI,UACduP,EAAShI,EAAKgI,OAmElB,GArDA2F,EAAY3N,EAAK1C,SAASyP,KAC1Ba,EAAU5F,EAAOvN,KAAK,UAAY,GAElC4S,EAAWhV,EAAE,SACV4V,SAAS3Q,EAAS4Q,cAClBD,SAASL,GACTK,SAASN,GACZL,EAAWjV,EAAE,SACV4V,SAAS3Q,EAAS6Q,YAClBF,SAAS,SACT5E,SAASgE,GAGZE,EAAiBlV,EAAE,8CAChBgR,SAASiE,GACT7S,KAAK,WAAYuN,EAAOgD,GAAG,aAAe,KAAOhL,EAAKuK,UAEzDmD,EAAmBrV,EAAEiF,EAAS8Q,gBAAkBf,GAChDG,EAAYnV,EAAE,SACX4V,SAAS3Q,EAAS+Q,eAClBJ,SAASN,GACTlU,OACA4P,SAASqE,GACZD,EAAoBpV,EAAE,SACnB4V,SAAS3Q,EAASgR,sBAClBjF,SAASmE,GAERxN,EAAK1C,SAASiR,uBAChBf,EAAUS,SAASL,GAGrBP,EAAS1R,IAAI,CACX2M,MAAON,EAAO,GAAGwG,MAAMlG,QAGrBtI,EAAKuD,QAAQG,MAAM1I,SACrB6S,EAAkB,UAAY7N,EAAKuD,QAAQG,MAAM+K,KAAK,YACtDpB,EAASY,SAASJ,GAClBL,EAAUS,SAASJ,KAII,OAAtBvQ,EAAS0P,UAAqB1P,EAAS0P,SAAW,IAjgBxC,IAkgBXhN,EAAKwK,SAELxC,EAAOvN,KAAK,WAAY,YAGtBuF,EAAK1C,SAAS+K,aAChBkF,EAAe9S,KAAK,cAAe6C,EAAS+K,cAIzCrI,EAAK1C,SAASoR,SAAW1O,EAAK1C,SAASqR,UAAW,CACrD,IAAIC,EAAmB5O,EAAK1C,SAASqR,UAAU/U,QAC7C,yBACA,QAEFoG,EAAK1C,SAASoR,QAAU,IAAInQ,OAAO,OAASqQ,EAAmB,QACjE,CAEI5G,EAAOvN,KAAK,gBACd8S,EAAe9S,KAAK,cAAeuN,EAAOvN,KAAK,gBAG7CuN,EAAOvN,KAAK,mBACd8S,EAAe9S,KAAK,iBAAkBuN,EAAOvN,KAAK,mBAGpDuF,EAAKqN,SAAWA,EAChBrN,EAAKsN,SAAWA,EAChBtN,EAAKuN,eAAiBA,EACtBvN,EAAKwN,UAAYA,EACjBxN,EAAKyN,kBAAoBA,EAEzBD,EAAU9U,GAAG,aAAc,qBAAqB,WAC9C,OAAOsH,EAAK6O,cAAc7P,MAAMgB,EAAM+B,UACxC,IACAyL,EAAU9U,GAAG,kBAAmB,qBAAqB,WACnD,OAAOsH,EAAK8O,eAAe9P,MAAMgB,EAAM+B,UACzC,IA5XqC0D,EA6XX,YA7XkBqI,EA6XL,eA7Xe3J,EA6XC,WACrD,OAAOnE,EAAK+O,aAAa/P,MAAMgB,EAAM+B,UACvC,GA/X4B+G,EA6XZwE,GA5XV5U,GAAG+M,EAAOqI,GAAU,SAAUnV,GAEpC,IADA,IAAIqW,EAAQrW,EAAEsW,OACPD,GAASA,EAAM7J,aAAe2D,EAAQ,IAC3CkG,EAAQA,EAAM7J,WAGhB,OADAxM,EAAEuW,cAAgBF,EACX7K,EAAGnF,MAAMlG,KAAM,CAACH,GACzB,IAwXEoP,EAASwF,GAETD,EAAS5U,GAAG,CACVyW,UAAW,WACT,OAAOnP,EAAKoP,YAAYpQ,MAAMgB,EAAM+B,UACtC,EACAsN,MAAO,WACL,OAAOrP,EAAKsP,QAAQtQ,MAAMgB,EAAM+B,UAClC,IAGFwL,EAAe7U,GAAG,CAChByW,UAAW,SAAUxW,GACnBA,EAAE4W,iBACJ,EACAC,QAAS,WACP,OAAOxP,EAAKyP,UAAUzQ,MAAMgB,EAAM+B,UACpC,EACA2N,MAAO,WACL,OAAO1P,EAAK2P,QAAQ3Q,MAAMgB,EAAM+B,UAClC,EACA6N,SAAU,WACR,OAAO5P,EAAK6P,WAAW7Q,MAAMgB,EAAM+B,UACrC,EACA+N,OAAQ,WACN9P,EAAK+P,iBAAiB/Q,MAAMgB,EAAM,GACpC,EACAgQ,KAAM,WACJ,OAAOhQ,EAAKiQ,OAAOjR,MAAMgB,EAAM+B,UACjC,EACA2F,MAAO,WAEL,OADA1H,EAAK0L,YAAa,EACX1L,EAAKkQ,QAAQlR,MAAMgB,EAAM+B,UAClC,EACAoO,MAAO,WACL,OAAOnQ,EAAKoQ,QAAQpR,MAAMgB,EAAM+B,UAClC,IAGFiM,EAAUtV,GAAG,UAAYgS,GAAS,SAAU/R,GAC1CqH,EAAKuL,UAAY5S,EAAEsN,EAAS,UAAY,WACxCjG,EAAKwL,WAAa7S,EAAEsN,EAAS,SAAW,WACxCjG,EAAKsL,YAAc3S,EAAEgQ,QACvB,IAEAqF,EAAUtV,GAAG,QAAUgS,GAAS,SAAU/R,GACpCA,EAAEwP,UAAY9B,IAAUrG,EAAKwL,YAAa,GA9lBpC,KA+lBN7S,EAAEwP,UAAuBnI,EAAKsL,aAAc,GAC5C3S,EAAEwP,UAAY/B,IAASpG,EAAKuL,WAAY,EAC9C,IAEAyC,EAAUtV,GAAG,YAAcgS,GAAS,SAAU/R,GAC5C,GAAIqH,EAAKmL,UAAW,CAElB,GACExS,EAAEsW,SAAWjP,EAAKwN,UAAU,IAC5B7U,EAAEsW,OAAO9J,aAAenF,EAAKwN,UAAU,GAEvC,OAAO,EAINxN,EAAKsN,SAAS+C,IAAI1X,EAAEsW,QAAQjU,QAC7BrC,EAAEsW,SAAWjP,EAAKsN,SAAS,IAE3BtN,EAAKgQ,KAAKrX,EAAEsW,OAEhB,CACF,IAEAlB,EAAQrV,GACN,CAAC,SAAWgS,EAAS,SAAWA,GAAS+D,KAAK,MAC9C,WACMzO,EAAK6K,QACP7K,EAAK+P,iBAAiB/Q,MAAMgB,EAAM+B,UAEtC,IAEFgM,EAAQrV,GAAG,YAAcgS,GAAS,WAChC1K,EAAK2L,aAAc,CACrB,IAIA7S,KAAKwX,eAAiB,CACpBC,UAAWvI,EAAOxN,WAAWgW,SAC7BC,SAAUzI,EAAOvN,KAAK,aAGxBuN,EAAOvN,KAAK,YAAa,GAAGhB,OAAOiX,MAAM1Q,EAAKqN,UAE1ChV,EAAE4J,QAAQ3E,EAASD,SACrB2C,EAAK2Q,SAASrT,EAASD,cAChBC,EAASD,OAIdiJ,GACF0B,EAAOtP,GAAG,UAAYgS,GAAS,SAAU/R,GACvCA,EAAEC,iBACFoH,EAAKiL,WAAY,EACjBjL,EAAK4Q,cACP,IAGF5Q,EAAK6Q,sBACL7Q,EAAK8Q,eACL9Q,EAAK4Q,eACL5Q,EAAK+Q,oBACL/Q,EAAKqL,SAAU,EAEXrD,EAAOgD,GAAG,cACZhL,EAAKgR,UAGPhR,EAAKtH,GAAG,SAAUI,KAAKmY,UAEvBjJ,EAAOhP,KAAK,YAAagH,GACzBgI,EAAOiG,SAAS,cAChBjO,EAAKjG,QAAQ,eAGY,IAArBuD,EAAS4T,SACXlR,EAAKuM,eAAe,GAExB,EAKAY,eAAgB,WACd,IAAInN,EAAOlH,KACPqY,EAAcnR,EAAK1C,SAAS8T,WAC5BC,EAAiBrR,EAAK1C,SAASgU,mBAE/BC,EAAY,CACdC,SAAU,SAAUxY,GAClB,MAAO,yBAA2BA,EAAKuB,KAAO,QAChD,EACAkX,gBAAiB,SAAUzY,EAAM0Y,GAC/B,MACE,gCACAA,EAAO1Y,EAAKqY,IACZ,QAEJ,EACAM,OAAQ,SAAU3Y,EAAM0Y,GACtB,MAAO,uBAAyBA,EAAO1Y,EAAKmY,IAAgB,QAC9D,EACA1P,KAAM,SAAUzI,EAAM0Y,GACpB,MAAO,qBAAuBA,EAAO1Y,EAAKmY,IAAgB,QAC5D,EACAS,cAAe,SAAU5Y,EAAM0Y,GAC7B,MACE,mCACAA,EAAO1Y,EAAKqO,OACZ,yBAEJ,GAGFrH,EAAK1C,SAASuU,OAASxZ,EAAE8I,OAAO,CAAC,EAAGoQ,EAAWvR,EAAK1C,SAASuU,OAC/D,EAMA3E,eAAgB,WACd,IAAIpQ,EACFqH,EACA2N,EAAY,CACVC,WAAY,eACZC,OAAQ,WACRC,SAAU,YACVC,YAAa,eACbC,MAAO,UACPC,WAAY,cACZC,cAAe,iBACfC,aAAc,gBACdC,aAAc,mBACdC,gBAAiB,sBACjBC,eAAgB,qBAChBC,cAAe,iBACfC,eAAgB,kBAChBzL,KAAM,SACN0L,KAAM,SACNlL,MAAO,UACPsI,KAAM,UAGV,IAAKlT,KAAOgV,EACNA,EAAUxT,eAAexB,KAC3BqH,EAAKrL,KAAKwE,SAASwU,EAAUhV,MACrBhE,KAAKJ,GAAGoE,EAAKqH,EAG3B,EASAmL,QAAS,SAAU3W,GACNG,KAIDqS,YAJCrS,KAKJ4O,QACL/O,EAAEC,iBAEN,EASAwW,YAAa,SAAUzW,GACrB,IAAIqH,EAAOlH,KACP+Z,EAAmBla,EAAEma,qBAGzB,GAFcza,EAAEM,EAAEsW,QAEdjP,EAAKmL,WAIP,GAAIxS,EAAEsW,SAAWjP,EAAKuN,eAAe,GAOnC,MAN2B,WAAvBvN,EAAK1C,SAASyP,KAEhB/M,EAAK6K,OAAS7K,EAAK+S,QAAU/S,EAAKgT,OACxBH,GACV7S,EAAKiT,cAAc,OAEd,OAIJJ,GACHtM,OAAOoG,YAAW,WAChB3M,EAAK0H,OACP,GAAG,EAGT,EAOAuJ,SAAU,WACRnY,KAAKkP,OAAOjO,QAAQ,SACtB,EAQAqW,QAAS,SAAUzX,GACjB,IAAIqH,EAAOlH,KACPkH,EAAKkT,UAAYlT,EAAKoL,eAAiBpL,EAAKkL,SAC9CvS,EAAEC,iBAIEoH,EAAK1C,SAASoR,SAChB/B,YAAW,WAIT,IAHA,IAAIwG,EAAa9a,EAAEsF,KAAKqC,EAAKuN,eAAe5T,OAAS,IAAIwE,MACvD6B,EAAK1C,SAASoR,SAEPlS,EAAI,EAAGsB,EAAIqV,EAAWnY,OAAQwB,EAAIsB,EAAGtB,IAC5CwD,EAAKoT,WAAWD,EAAW3W,GAE/B,GAAG,EAGT,EAQAqT,WAAY,SAAUlX,GACpB,GAAIG,KAAKoS,SAAU,OAAOvS,GAAKA,EAAEC,iBACjC,IAAI2P,EAAY3K,OAAOgL,aAAajQ,EAAEwP,SAAWxP,EAAE0a,OACnD,OACEva,KAAKwE,SAASgW,QACS,UAAvBxa,KAAKwE,SAASyP,MACdxE,IAAczP,KAAKwE,SAASqR,WAE5B7V,KAAKsa,aACLza,EAAEC,kBACK,QAPT,CASF,EAQA6W,UAAW,SAAU9W,GACLA,EAAEsW,OAAWnW,KAAKyU,eAAe,GAA/C,IACIvN,EAAOlH,KAEX,GAAIkH,EAAKkL,SA12BC,IA22BJvS,EAAEwP,SACJxP,EAAEC,qBAFN,CAOA,OAAQD,EAAEwP,SACR,KAj4BM,GAk4BJ,GAAInI,EAAKuL,UAEP,YADAvL,EAAKuT,YAGP,MACF,KAp4BQ,GA04BN,YALIvT,EAAK6K,SACPlS,EAAEC,iBACFD,EAAE4W,kBACFvP,EAAK+S,UAGT,KAr4BM,GAs4BJ,IAAKpa,EAAE6a,SAAW7a,EAAE8P,OAAQ,MAC9B,KAx4BS,GAy4BP,IAAKzI,EAAK6K,QAAU7K,EAAK4L,WACvB5L,EAAKgT,YACA,GAAIhT,EAAKkM,cAAe,CAC7BlM,EAAK2L,aAAc,EACnB,IAAI8H,EAAQzT,EAAK0T,kBAAkB1T,EAAKkM,cAAe,GACnDuH,EAAMzY,QAAQgF,EAAK2T,gBAAgBF,GAAO,GAAM,EACtD,CAEA,YADA9a,EAAEC,iBAEJ,KAp5BM,GAq5BJ,IAAKD,EAAE6a,SAAW7a,EAAE8P,OAAQ,MAC9B,KAv5BO,GAw5BL,GAAIzI,EAAKkM,cAAe,CACtBlM,EAAK2L,aAAc,EACnB,IAAIiI,EAAQ5T,EAAK0T,kBAAkB1T,EAAKkM,eAAgB,GACpD0H,EAAM5Y,QAAQgF,EAAK2T,gBAAgBC,GAAO,GAAM,EACtD,CAEA,YADAjb,EAAEC,iBAEJ,KAl6BW,GAu6BT,YAJIoH,EAAK6K,QAAU7K,EAAKkM,gBACtBlM,EAAK8O,eAAe,CAACI,cAAelP,EAAKkM,gBACzCvT,EAAEC,mBAGN,KAt6BS,GAw6BP,YADAoH,EAAK6T,kBAAkB,EAAGlb,GAE5B,KAt6BU,GAw6BR,YADAqH,EAAK6T,iBAAiB,EAAGlb,GAE3B,KAj6BQ,EA86BN,OAZIqH,EAAK1C,SAASwW,aAAe9T,EAAK6K,QAAU7K,EAAKkM,gBACnDlM,EAAK8O,eAAe,CAACI,cAAelP,EAAKkM,gBAIpClM,EAAKkT,UACRva,EAAEC,uBAGFoH,EAAK1C,SAASgW,QAAUtT,EAAKoT,cAC/Bza,EAAEC,kBAGN,KAp7Bc,EAq7Bd,KAp7BW,GAs7BT,YADAoH,EAAK+T,gBAAgBpb,IAKtBqH,EAAKkT,WAAYlT,EAAKoL,gBACrBnF,EAAStN,EAAE6P,QAAU7P,EAAE6a,UAEzB7a,EAAEC,gBA1EJ,CA6EF,EAQA+W,QAAS,SAAUhX,GACjB,IAAIqH,EAAOlH,KAEX,GAAIkH,EAAKkL,SAAU,OAAOvS,GAAKA,EAAEC,iBACjC,IAAIc,EAAQsG,EAAKuN,eAAe5T,OAAS,GACrCqG,EAAK8L,YAAcpS,IACrBsG,EAAK8L,UAAYpS,EACjBsG,EAAKuM,eAAe7S,GACpBsG,EAAKgU,iBACLhU,EAAKjG,QAAQ,OAAQL,GAEzB,EAUA6S,eAAgB,SAAU7S,GACxB,IAAIsG,EAAOlH,KACPqL,EAAKnE,EAAK1C,SAASsV,KAClBzO,IACDnE,EAAKiM,eAAe3N,eAAe5E,KACvCsG,EAAKiM,eAAevS,IAAS,EAC7BsG,EAAK4S,MAAK,SAAUhU,GAClBuF,EAAGnF,MAAMgB,EAAM,CAACtG,EAAOkF,GACzB,KACF,EAQAsR,QAAS,SAAUvX,GACjB,IAAIqH,EAAOlH,KACPmb,EAAajU,EAAKmL,UAEtB,GAAInL,EAAK8K,WAGP,OAFA9K,EAAKgQ,OACLrX,GAAKA,EAAEC,kBACA,EAGLoH,EAAKyL,cACTzL,EAAKmL,WAAY,EACa,UAA1BnL,EAAK1C,SAAS4T,SAAqBlR,EAAKuM,eAAe,IAEtD0H,GAAYjU,EAAKjG,QAAQ,SAEzBiG,EAAKmM,aAAanR,SACrBgF,EAAKkU,YACLlU,EAAKiT,cAAc,MACnBjT,EAAKgU,iBAAiBhU,EAAK1C,SAAS6W,cAGtCnU,EAAK4Q,eACP,EAQAX,OAAQ,SAAUtX,EAAGyb,GACnB,IAAIpU,EAAOlH,KACX,GAAKkH,EAAKmL,YACVnL,EAAKmL,WAAY,GAEbnL,EAAKyL,aAAT,CAEO,IACJzL,EAAK0L,YACNjT,SAAS4b,gBAAkBrU,EAAKyN,kBAAkB,GAKlD,OAFAzN,EAAK0L,YAAa,OAClB1L,EAAKkQ,QAAQvX,GAIf,IAAI2b,EAAa,WACftU,EAAK+S,QACL/S,EAAKuU,gBAAgB,IACrBvU,EAAKiT,cAAc,MACnBjT,EAAK2T,gBAAgB,MACrB3T,EAAKwU,SAASxU,EAAK3C,MAAMrC,QACzBgF,EAAK4Q,gBAGJwD,GAAQ3b,SAASgc,MAAM/M,QAExB1H,EAAKyL,aAAc,EACnBzL,EAAKjG,QAAQ,OACf,EAEAiG,EAAKyL,aAAc,EACfzL,EAAK1C,SAASgW,QAAUtT,EAAK1C,SAASoX,aACxC1U,EAAKoT,WAAW,MAAM,EAAOkB,GAE7BA,GArBF,CAuBF,EASAzF,cAAe,SAAUlW,GACnBG,KAAK6S,aACT7S,KAAK6a,gBAAgBhb,EAAEuW,eAAe,EACxC,EASAJ,eAAgB,SAAUnW,GACxB,IAAIe,EACFib,EAEA3U,EAAOlH,KAELH,EAAEC,iBACJD,EAAEC,iBACFD,EAAE4W,oBAGJoF,EAAUtc,EAAEM,EAAEuW,gBACF3T,SAAS,UACnByE,EAAKoT,WAAW,MAAM,WAChBpT,EAAK1C,SAASsX,kBAChB5U,EAAK+S,OAET,SAGqB,KADrBrZ,EAAQib,EAAQla,KAAK,iBAEnBuF,EAAK6U,UAAY,KACjB7U,EAAKuU,gBAAgB,IACrBvU,EAAK8U,QAAQpb,GACTsG,EAAK1C,SAASsX,iBAChB5U,EAAK+S,SAEJ/S,EAAK1C,SAAS2P,cACftU,EAAEuO,MACF,QAAQ5B,KAAK3M,EAAEuO,OAEflH,EAAK2T,gBAAgB3T,EAAK+U,UAAUrb,IAI5C,EASAqV,aAAc,SAAUpW,GACtB,IAAIqH,EAAOlH,KAEPkH,EAAKkL,UACkB,UAAvBlL,EAAK1C,SAASyP,OAChBpU,EAAEC,iBACFoH,EAAKiT,cAActa,EAAEuW,cAAevW,GAExC,EASAia,KAAM,SAAUzO,GACd,IAAInE,EAAOlH,KACPuU,EAAWrN,EAAKqN,SAASY,SAASjO,EAAK1C,SAAS0X,cAEpDhV,EAAKgM,UACL7H,EAAGnF,MAAMgB,EAAM,CACb,SAAUiV,GACRjV,EAAKgM,QAAUkJ,KAAKC,IAAInV,EAAKgM,QAAU,EAAG,GACtCiJ,GAAWA,EAAQja,SACrBgF,EAAKoV,UAAUH,GACfjV,EAAKgU,eAAehU,EAAKmL,YAAcnL,EAAKoL,gBAEzCpL,EAAKgM,SACRqB,EAASgI,YAAYrV,EAAK1C,SAAS0X,cAErChV,EAAKjG,QAAQ,OAAQkb,EACvB,GAEJ,EAOAV,gBAAiB,SAAU7a,GACzB,IAAIsO,EAASlP,KAAKyU,eACJvF,EAAOrO,QAAUD,IAE7BsO,EAAOrO,IAAID,GAAOmQ,eAAe,UACjC/Q,KAAKgT,UAAYpS,EAErB,EAUA4b,SAAU,WACR,OA1qCa,IA0qCTxc,KAAK0R,SAA0B1R,KAAKkP,OAAOvN,KAAK,YAC3C3B,KAAKuE,MAELvE,KAAKuE,MAAMoR,KAAK3V,KAAKwE,SAASqR,UAEzC,EAOAgC,SAAU,SAAUjX,EAAO6b,GAGzBvO,EAAgBlO,KAFHyc,EAAS,GAAK,CAAC,WAEE,WAC5Bzc,KAAKqZ,MAAMoD,GACXzc,KAAK0c,SAAS9b,EAAO6b,EACvB,GACF,EAQAtC,cAAe,SAAUwC,EAAO9c,GAC9B,IACI+c,EACAlZ,EAAGmZ,EAAKC,EAAOC,EAAKpU,EAAMqU,EAC1BC,EAHA/V,EAAOlH,KAKX,GAA2B,WAAvBkH,EAAK1C,SAASyP,KAAlB,CAIA,KAHA0I,EAAQpd,EAAEod,IAGCza,OAMT,OALA3C,EAAE2H,EAAKmM,cAAckJ,YAAY,UACjCrV,EAAKmM,aAAe,QAChBnM,EAAKmL,WACPnL,EAAKkU,aAQT,GACgB,eAHhBwB,EAAY/c,GAAKA,EAAEuO,KAAKrJ,gBAItBmC,EAAKsL,aACLtL,EAAKmM,aAAanR,OAClB,CAaA,IAZA+a,EAAQ/V,EAAKsN,SAAS9S,SAAS,iBAC/Bob,EAAQ9W,MAAMtB,UAAUqI,QAAQ7G,MAAMgB,EAAKsN,SAAS,GAAGjI,WAAY,CACjE0Q,EAAM,OAERF,EAAM/W,MAAMtB,UAAUqI,QAAQ7G,MAAMgB,EAAKsN,SAAS,GAAGjI,WAAY,CAC/DoQ,EAAM,QAGNK,EAAOF,EACPA,EAAQC,EACRA,EAAMC,GAEHtZ,EAAIoZ,EAAOpZ,GAAKqZ,EAAKrZ,IACxBiF,EAAOzB,EAAKsN,SAAS,GAAGjI,WAAW7I,IACM,IAArCwD,EAAKmM,aAAatG,QAAQpE,KAC5BpJ,EAAEoJ,GAAMwM,SAAS,UACjBjO,EAAKmM,aAAa3N,KAAKiD,IAG3B9I,EAAEC,gBACJ,KACiB,cAAd8c,GAA6B1V,EAAKwL,YACpB,YAAdkK,GAA2B5c,KAAKwS,YAE7BmK,EAAMla,SAAS,WACjBoa,EAAM3V,EAAKmM,aAAatG,QAAQ4P,EAAM,IACtCzV,EAAKmM,aAAarL,OAAO6U,EAAK,GAC9BF,EAAMJ,YAAY,WAElBrV,EAAKmM,aAAa3N,KAAKiX,EAAMxH,SAAS,UAAU,KAGlD5V,EAAE2H,EAAKmM,cAAckJ,YAAY,UACjCrV,EAAKmM,aAAe,CAACsJ,EAAMxH,SAAS,UAAU,KAIhDjO,EAAKgW,YACAld,KAAKqS,WACRnL,EAAK0H,OA5DoC,CA8D7C,EAUAiM,gBAAiB,SAAUsC,EAASC,EAAQC,GAC1C,IAAIC,EAAaC,EAAazT,EAC1B0T,EAAYC,EACZvW,EAAOlH,KAEPkH,EAAKkM,eAAelM,EAAKkM,cAAcmJ,YAAY,UACvDrV,EAAKkM,cAAgB,MAErB+J,EAAU5d,EAAE4d,IACCjb,SAEbgF,EAAKkM,cAAgB+J,EAAQhI,SAAS,WAElCiI,GAAWzP,EAAMyP,KACnBE,EAAcpW,EAAKyN,kBAAkB+I,SACrCH,EAAcrW,EAAKkM,cAAcuK,aAAY,GAC7CP,EAASlW,EAAKyN,kBAAkBiJ,aAAe,EAK/CJ,EAJA1T,EACE5C,EAAKkM,cAAcyK,SAAS1N,IAC5BjJ,EAAKyN,kBAAkBkJ,SAAS1N,IAChCiN,EAEFK,EAAgB3T,EAAIwT,EAAcC,EAE9BzT,EAAIyT,EAAcD,EAAcF,EAClClW,EAAKyN,kBACFmJ,OACAT,QACC,CAACO,UAAWH,GACZJ,EAAUnW,EAAK1C,SAASuZ,eAAiB,GAEpCjU,EAAIsT,GACblW,EAAKyN,kBACFmJ,OACAT,QACC,CAACO,UAAWJ,GACZH,EAAUnW,EAAK1C,SAASuZ,eAAiB,IAInD,EAKAtD,UAAW,WACT,IAAIvT,EAAOlH,KACgB,WAAvBkH,EAAK1C,SAASyP,OAElB/M,EAAKmM,aAAerN,MAAMtB,UAAUoE,MAAM5C,MACxCgB,EAAKsN,SAAS9S,SAAS,eAAeyT,SAAS,WAE7CjO,EAAKmM,aAAanR,SACpBgF,EAAKgW,YACLhW,EAAK+S,SAEP/S,EAAK0H,QACP,EAMAsO,UAAW,WACT,IAAIhW,EAAOlH,KAEXkH,EAAKuU,gBAAgB,IACrBvU,EAAKuN,eAAe5R,IAAI,CACtBC,QAAS,EACToN,SAAU,WACVE,KAAMlJ,EAAKyK,IAAM,KAAS,MAE5BzK,EAAKoL,eAAgB,CACvB,EAKA8I,UAAW,WACTpb,KAAKyU,eAAe5R,IAAI,CAACC,QAAS,EAAGoN,SAAU,WAAYE,KAAM,IACjEpQ,KAAKsS,eAAgB,CACvB,EAKA1D,MAAO,WACL,IAAI1H,EAAOlH,KACPkH,EAAK8K,aAET9K,EAAKyL,aAAc,EACnBzL,EAAKuN,eAAe,GAAG7F,QACvBnB,OAAOoG,YAAW,WAChB3M,EAAKyL,aAAc,EACnBzL,EAAKkQ,SACP,GAAG,GACL,EAOAF,KAAM,SAAUoE,GACdtb,KAAKyU,eAAe,GAAGyC,OACvBlX,KAAKmX,OAAO,KAAMmE,EACpB,EAWAnV,iBAAkB,SAAUvB,GAC1B,OAAO5E,KAAK8T,OAAO3N,iBAAiBvB,EAAO5E,KAAKge,mBAClD,EASAA,iBAAkB,WAChB,IAAIxZ,EAAWxE,KAAKwE,SAChBiD,EAAOjD,EAASyZ,UAKpB,MAJoB,iBAATxW,IACTA,EAAO,CAAC,CAACN,MAAOM,KAGX,CACLnB,OAAQ9B,EAAS0Z,YACjBlX,YAAaxC,EAAS2Z,kBACtB1W,KAAMA,EAEV,EAgBArB,OAAQ,SAAUxB,GAChB,IAAIlB,EAAiBkE,EAAQwW,EACzBlX,EAAOlH,KACPwE,EAAW0C,EAAK1C,SAChB6B,EAAUrG,KAAKge,mBAGnB,GAAIxZ,EAASoC,OAEmB,mBAD9BwX,EAAiBlX,EAAK1C,SAASoC,MAAMV,MAAMlG,KAAM,CAAC4E,KAEhD,MAAM,IAAIwG,MACR,wEAkBN,GAZIxG,IAAUsC,EAAK6U,WACjB7U,EAAK6U,UAAYnX,EACjBgD,EAASV,EAAK4M,OAAO1N,OACnBxB,EACArF,EAAE8I,OAAOhC,EAAS,CAACO,MAAOwX,KAE5BlX,EAAK6L,eAAiBnL,GAEtBA,EAASrI,EAAE8I,QAAO,EAAM,CAAC,EAAGnB,EAAK6L,gBAI/BvO,EAAS2P,aACX,IAAKzQ,EAAIkE,EAAOrD,MAAMrC,OAAS,EAAGwB,GAAK,EAAGA,KACkB,IAAtDwD,EAAK3C,MAAMwI,QAAQa,EAAShG,EAAOrD,MAAMb,GAAGmE,MAC9CD,EAAOrD,MAAMyD,OAAOtE,EAAG,GAK7B,OAAOkE,CACT,EAQAsT,eAAgB,SAAUmD,GACxB,IAAI3a,EACF4a,EACAtV,EACAhE,EACAlD,EACAyc,EACA1F,EACA2F,EACA9F,EACApF,EACA7R,EACAgd,EACAC,EACEC,EAASC,EAAgBC,OAEE,IAApBR,IACTA,GAAkB,GAGpB,IAAInX,EAAOlH,KACP4E,EAAQrF,EAAEsF,KAAKqC,EAAKuN,eAAe5T,OACnCsb,EAAUjV,EAAKd,OAAOxB,GACtB+P,EAAoBzN,EAAKyN,kBACzBmK,EACF5X,EAAKkM,eAAiBxF,EAAS1G,EAAKkM,cAAczR,KAAK,eAYzD,IATAqD,EAAImX,EAAQ5X,MAAMrC,OACsB,iBAA7BgF,EAAK1C,SAASua,aACvB/Z,EAAIoX,KAAK4C,IAAIha,EAAGkC,EAAK1C,SAASua,aAIhCjd,EAAS,CAAC,EACVyc,EAAe,GAEV7a,EAAI,EAAGA,EAAIsB,EAAGtB,IAMjB,IALAmV,EAAS3R,EAAKb,QAAQ8V,EAAQ5X,MAAMb,GAAGmE,IACvC2W,EAActX,EAAK6R,OAAO,SAAUF,GACpCH,EAAWG,EAAO3R,EAAK1C,SAASya,gBAAkB,GAG7CX,EAAI,EAAGtV,GAFZsK,EAAY/T,EAAE4J,QAAQuP,GAAYA,EAAW,CAACA,KAEjBpF,EAAUpR,OAAQoc,EAAItV,EAAGsV,IACpD5F,EAAWpF,EAAUgL,GAChBpX,EAAKoM,UAAU9N,eAAekT,KACjCA,EAAW,IAER5W,EAAO0D,eAAekT,KACzB5W,EAAO4W,GAAY,GACnB6F,EAAa7Y,KAAKgT,IAEpB5W,EAAO4W,GAAUhT,KAAK8Y,GAe1B,IAVIxe,KAAKwE,SAAS0a,mBAChBX,EAAa9W,MAAK,SAAUQ,EAAGC,GAG7B,OAFchB,EAAKoM,UAAUrL,GAAGkX,QAAU,IAC5BjY,EAAKoM,UAAUpL,GAAGiX,QAAU,EAE5C,IAIF1d,EAAO,GACFiC,EAAI,EAAGsB,EAAIuZ,EAAarc,OAAQwB,EAAIsB,EAAGtB,IAC1CgV,EAAW6F,EAAa7a,GAEtBwD,EAAKoM,UAAU9N,eAAekT,IAC9B5W,EAAO4W,GAAUxW,QAIjBuc,EACEvX,EAAK6R,OAAO,kBAAmB7R,EAAKoM,UAAUoF,KAAc,GAC9D+F,GAAiB3c,EAAO4W,GAAU/C,KAAK,IACvClU,EAAKiE,KACHwB,EAAK6R,OACH,WACAxZ,EAAE8I,OAAO,CAAC,EAAGnB,EAAKoM,UAAUoF,GAAW,CACrCjX,KAAMgd,OAKZhd,EAAKiE,KAAK5D,EAAO4W,GAAU/C,KAAK,KAOpC,GAHAhB,EAAkBlT,KAAKA,EAAKkU,KAAK,KAI/BzO,EAAK1C,SAAS+G,WACd4Q,EAAQvX,MAAM1C,QACdia,EAAQhX,OAAOjD,OAEf,IAAKwB,EAAI,EAAGsB,EAAImX,EAAQhX,OAAOjD,OAAQwB,EAAIsB,EAAGtB,IAC5C6H,EAAUoJ,EAAmBwH,EAAQhX,OAAOzB,GAAGuB,OAKnD,IAAKiC,EAAK1C,SAAS2P,aACjB,IAAKzQ,EAAI,EAAGsB,EAAIkC,EAAK3C,MAAMrC,OAAQwB,EAAIsB,EAAGtB,IACxCwD,EAAK+U,UAAU/U,EAAK3C,MAAMb,IAAIyR,SAAS,aAK3CuJ,EAAoBxX,EAAKkY,UAAUxa,MAEjC+P,EAAkB0K,QAAQnY,EAAK6R,OAAO,gBAAiB,CAACxK,MAAO3J,KAC/Dia,EAAUtf,EAAEoV,EAAkB,GAAGpI,WAAW,KAI9CrF,EAAK4L,WAAaqJ,EAAQ5X,MAAMrC,OAAS,GAAKwc,EAC1CxX,EAAK4L,YACHqJ,EAAQ5X,MAAMrC,OAAS,IACzB0c,EAAiBE,GAAiB5X,EAAK+U,UAAU6C,KAC3BF,EAAe1c,OACnCyc,EAAUC,EACsB,WAAvB1X,EAAK1C,SAASyP,MAAqB/M,EAAK3C,MAAMrC,SACvDyc,EAAUzX,EAAK+U,UAAU/U,EAAK3C,MAAM,KAEjCoa,GAAYA,EAAQzc,SAErByc,EADEE,IAAY3X,EAAK1C,SAAS8a,cAClBpY,EAAK0T,kBAAkBiE,EAAS,GAEhClK,EAAkBnS,KAAK,6BAIrCmc,EAAUE,EAEZ3X,EAAK2T,gBAAgB8D,GACjBN,IAAoBnX,EAAK6K,QAC3B7K,EAAKgT,SAGPhT,EAAK2T,gBAAgB,MACjBwD,GAAmBnX,EAAK6K,QAC1B7K,EAAK+S,QAGX,EAcAqC,UAAW,SAAUpc,GACnB,IAAIwD,EACFsB,EACApE,EACAsG,EAAOlH,KAET,GAAIT,EAAE4J,QAAQjJ,GACZ,IAAKwD,EAAI,EAAGsB,EAAI9E,EAAKgC,OAAQwB,EAAIsB,EAAGtB,IAClCwD,EAAKoV,UAAUpc,EAAKwD,SAKnB9C,EAAQsG,EAAK6M,eAAe7T,MAC/BgH,EAAKqM,YAAY3S,IAAS,EAC1BsG,EAAK6U,UAAY,KACjB7U,EAAKjG,QAAQ,aAAcL,EAAOV,GAEtC,EAQA6T,eAAgB,SAAU7T,GACxB,IAAI8D,EAAM4J,EAAS1N,EAAKF,KAAKwE,SAAS+a,aAEtC,OACE,MAAOvb,IAEPhE,KAAKqG,QAAQb,eAAexB,KAG9B9D,EAAKif,OAASjf,EAAKif,UAAYnf,KAAKwR,MACpCxR,KAAKqG,QAAQrC,GAAO9D,EACb8D,EACT,EAQAgQ,oBAAqB,SAAU9T,GAC7B,IAAI8D,EAAM4J,EAAS1N,EAAKF,KAAKwE,SAASgb,qBACtC,QAAKxb,IAEL9D,EAAKif,OAASjf,EAAKif,UAAYnf,KAAKwR,MACpCxR,KAAKsT,UAAUtP,GAAO9D,EACf8D,EACT,EASAyb,eAAgB,SAAU5X,EAAI3H,GAC5BA,EAAKF,KAAKwE,SAASgb,oBAAsB3X,GACpCA,EAAK7H,KAAKgU,oBAAoB9T,KACjCF,KAAKiB,QAAQ,eAAgB4G,EAAI3H,EAErC,EAOAwf,kBAAmB,SAAU7X,GACvB7H,KAAKsT,UAAU9N,eAAeqC,YACzB7H,KAAKsT,UAAUzL,GACtB7H,KAAKwT,YAAc,CAAC,EACpBxT,KAAKiB,QAAQ,kBAAmB4G,GAEpC,EAKA8X,kBAAmB,WACjB3f,KAAKsT,UAAY,CAAC,EAClBtT,KAAKwT,YAAc,CAAC,EACpBxT,KAAKiB,QAAQ,iBACf,EAUA2e,aAAc,SAAUhf,EAAOV,GAC7B,IACIyc,EAAOkD,EACPC,EAAWC,EAAYC,EAAaC,EAAeC,EAFnDhZ,EAAOlH,KAQX,GAJAY,EAAQgN,EAAShN,GACjBkf,EAAYlS,EAAS1N,EAAKgH,EAAK1C,SAAS+a,aAG1B,OAAV3e,GACCsG,EAAKb,QAAQb,eAAe5E,GAAjC,CACA,GAAyB,iBAAdkf,EACT,MAAM,IAAI1U,MAAM,oCAElB8U,EAAYhZ,EAAKb,QAAQzF,GAAOue,OAG5BW,IAAclf,WACTsG,EAAKb,QAAQzF,IAEA,KADpBmf,EAAa7Y,EAAK3C,MAAMwI,QAAQnM,KAE9BsG,EAAK3C,MAAMyD,OAAO+X,EAAY,EAAGD,IAGrC5f,EAAKif,OAASjf,EAAKif,QAAUe,EAC7BhZ,EAAKb,QAAQyZ,GAAa5f,EAG1B8f,EAAc9Y,EAAKsM,YAAkB,KACrCyM,EAAgB/Y,EAAKsM,YAAoB,OAErCwM,WACKA,EAAYpf,UACZof,EAAYF,IAEjBG,WACKA,EAAcrf,UACdqf,EAAcH,KAIgB,IAAnC5Y,EAAK3C,MAAMwI,QAAQ+S,KACrBnD,EAAQzV,EAAKiZ,QAAQvf,GACrBif,EAAYtgB,EAAE2H,EAAK6R,OAAO,OAAQ7Y,IAC9Byc,EAAMla,SAAS,WAAWod,EAAU1K,SAAS,UACjDwH,EAAMyD,YAAYP,IAIpB3Y,EAAK6U,UAAY,KAGb7U,EAAK6K,QACP7K,EAAKgU,gBAAe,EA3CyB,CA6CjD,EAQAmF,aAAc,SAAUzf,EAAO6b,GAC7B,IAAIvV,EAAOlH,KACXY,EAAQgN,EAAShN,GAEjB,IAAIof,EAAc9Y,EAAKsM,YAAkB,KACrCyM,EAAgB/Y,EAAKsM,YAAoB,OACzCwM,UAAoBA,EAAYpf,GAChCqf,UAAsBA,EAAcrf,UAEjCsG,EAAKqM,YAAY3S,UACjBsG,EAAKb,QAAQzF,GACpBsG,EAAK6U,UAAY,KACjB7U,EAAKjG,QAAQ,gBAAiBL,GAC9BsG,EAAKoZ,WAAW1f,EAAO6b,EACzB,EAKA8D,aAAc,WACZ,IAAIrZ,EAAOlH,KAEXkH,EAAKiM,eAAiB,CAAC,EACvBjM,EAAKqM,YAAc,CAAC,EACpBrM,EAAKsM,YAAc,CAAC,EACpBtM,EAAKb,QAAUa,EAAK4M,OAAOvP,MAAQ,CAAC,EACpC2C,EAAK6U,UAAY,KACjB7U,EAAKjG,QAAQ,gBACbiG,EAAKmS,OACP,EASA4C,UAAW,SAAUrb,GACnB,OAAOZ,KAAKwgB,oBACV5f,EACAZ,KAAK2U,kBAAkBnS,KAAK,qBAEhC,EAUAoY,kBAAmB,SAAUuC,EAASpV,GACpC,IAAIrF,EAAW1C,KAAK0U,UAAUlS,KAAK,qBAC/BhB,EAAQkB,EAASlB,MAAM2b,GAAWpV,EAEtC,OAAOvG,GAAS,GAAKA,EAAQkB,EAASR,OAASQ,EAAS+d,GAAGjf,GAASjC,GACtE,EAUAihB,oBAAqB,SAAU5f,EAAO8f,GAGpC,GAAI,OAFJ9f,EAAQgN,EAAShN,IAGf,IAAK,IAAI8C,EAAI,EAAGsB,EAAI0b,EAAKxe,OAAQwB,EAAIsB,EAAGtB,IACtC,GAAIgd,EAAKhd,GAAGid,aAAa,gBAAkB/f,EACzC,OAAOrB,EAAEmhB,EAAKhd,IAKpB,OAAOnE,GACT,EASA4gB,QAAS,SAAUvf,GACjB,OAAOZ,KAAKwgB,oBAAoB5f,EAAOZ,KAAKwU,SAAS9S,WACvD,EASAgb,SAAU,SAAUkE,EAAQnE,GAE1B,IADA,IAAIlY,EAAQhF,EAAE4J,QAAQyX,GAAUA,EAAS,CAACA,GACjCld,EAAI,EAAGsB,EAAIT,EAAMrC,OAAQwB,EAAIsB,EAAGtB,IACvC1D,KAAK6gB,UAAYnd,EAAIsB,EAAI,EACzBhF,KAAKgc,QAAQzX,EAAMb,GAAI+Y,EAE3B,EASAT,QAAS,SAAUpb,EAAO6b,GAGxBvO,EAAgBlO,KAFHyc,EAAS,GAAK,CAAC,WAEE,WAC5B,IAAIE,EAAOQ,EAASza,EAGLoe,EAAYC,EAFvB7Z,EAAOlH,KACP6U,EAAY3N,EAAK1C,SAASyP,KAE9BrT,EAAQgN,EAAShN,IAEkB,IAA/BsG,EAAK3C,MAAMwI,QAAQnM,GAKlBsG,EAAKb,QAAQb,eAAe5E,KACf,WAAdiU,GAAwB3N,EAAKmS,MAAMoD,GACrB,UAAd5H,GAAyB3N,EAAKkT,WAElCuC,EAAQpd,EAAE2H,EAAK6R,OAAO,OAAQ7R,EAAKb,QAAQzF,KAC3CmgB,EAAU7Z,EAAKkT,SACflT,EAAK3C,MAAMyD,OAAOd,EAAK+L,SAAU,EAAGrS,GACpCsG,EAAK8Z,cAAcrE,KACdzV,EAAK2Z,YAAeE,GAAW7Z,EAAKkT,WACvClT,EAAK4Q,eAGH5Q,EAAKqL,UACP7P,EAAWwE,EAAKyN,kBAAkBnS,KAAK,qBAGlC0E,EAAK2Z,YACR1D,EAAUjW,EAAK+U,UAAUrb,GACzBkgB,EAAa5Z,EAAK0T,kBAAkBuC,EAAS,GAAGxb,KAAK,cACrDuF,EAAKgU,eAAehU,EAAKmL,WAA2B,WAAdwC,GAClCiM,GACF5Z,EAAK2T,gBAAgB3T,EAAK+U,UAAU6E,MAKnCpe,EAASR,QAAUgF,EAAKkT,SAC3BlT,EAAK+S,QAEL/S,EAAK+P,mBAGP/P,EAAK+Q,oBACL/Q,EAAKjG,QAAQ,WAAYL,EAAO+b,GAChCzV,EAAK6Q,oBAAoB,CAAC0E,OAAQA,OAtChB,WAAd5H,GAAwB3N,EAAK+S,OAwCrC,GACF,EAQAqG,WAAY,SAAU1f,EAAO6b,GAC3B,IACIE,EAAOjZ,EAAGmZ,EADV3V,EAAOlH,KAGX2c,EAAyB,WAAjBnd,EAAOoB,GAAqBA,EAAQsG,EAAKiZ,QAAQvf,GACzDA,EAAQgN,EAAS+O,EAAMhb,KAAK,gBAGjB,KAFX+B,EAAIwD,EAAK3C,MAAMwI,QAAQnM,MAGrB+b,EAAM9L,SACF8L,EAAMla,SAAS,YACjBoa,EAAM3V,EAAKmM,aAAatG,QAAQ4P,EAAM,IACtCzV,EAAKmM,aAAarL,OAAO6U,EAAK,IAGhC3V,EAAK3C,MAAMyD,OAAOtE,EAAG,GACrBwD,EAAK6U,UAAY,MACZ7U,EAAK1C,SAASyc,SAAW/Z,EAAKqM,YAAY/N,eAAe5E,IAC5DsG,EAAKmZ,aAAazf,EAAO6b,GAGvB/Y,EAAIwD,EAAK+L,UACX/L,EAAKwU,SAASxU,EAAK+L,SAAW,GAGhC/L,EAAK4Q,eACL5Q,EAAK+Q,oBACL/Q,EAAK6Q,oBAAoB,CAAC0E,OAAQA,IAClCvV,EAAK+P,mBACL/P,EAAKjG,QAAQ,cAAeL,EAAO+b,GAEvC,EAeArC,WAAY,SAAU/L,EAAO8P,GAC3B,IAAInX,EAAOlH,KACPkhB,EAAQha,EAAK+L,SACjB1E,EAAQA,GAAShP,EAAEsF,KAAKqC,EAAKuN,eAAe5T,OAAS,IAErD,IAAIiF,EAAWmD,UAAUA,UAAU/G,OAAS,GAO5C,GANwB,mBAAb4D,IAAyBA,EAAW,WAAa,GAE7B,kBAApBuY,IACTA,GAAkB,IAGfnX,EAAKkY,UAAU7Q,GAElB,OADAzI,KACO,EAGToB,EAAKia,OAEL,IA96DiB9V,EACf+V,EA66DE9M,EAC8B,mBAAzBpN,EAAK1C,SAASgW,OACjBxa,KAAKwE,SAASgW,OACd,SAAUjM,GACR,IAAIrO,EAAO,CAAC,EAGZ,OAFAA,EAAKgH,EAAK1C,SAAS8T,YAAc/J,EACjCrO,EAAKgH,EAAK1C,SAAS+a,YAAchR,EAC1BrO,CACT,EAEFsa,GAx7DanP,EAw7DC,SAAUnL,GAG1B,GAFAgH,EAAKma,UAEAnhB,GAAwB,WAAhBV,EAAOU,GAAmB,OAAO4F,IAC9C,IAAIlF,EAAQgN,EAAS1N,EAAKgH,EAAK1C,SAAS+a,aACxC,GAAqB,iBAAV3e,EAAoB,OAAOkF,IAEtCoB,EAAKuU,gBAAgB,IACrBvU,EAAKoV,UAAUpc,GACfgH,EAAKwU,SAASwF,GACdha,EAAK8U,QAAQpb,GACbsG,EAAKgU,eAAemD,GAA0C,WAAvBnX,EAAK1C,SAASyP,MACrDnO,EAAS5F,EACX,EAp8DEkhB,GAAS,EACN,WACDA,IACJA,GAAS,EACT/V,EAAGnF,MAAMlG,KAAMiJ,WACjB,GAi8DMqY,EAAShN,EAAMpO,MAAMlG,KAAM,CAACuO,EAAOiM,IAKvC,YAJsB,IAAX8G,GACT9G,EAAO8G,IAGF,CACT,EAKAtJ,aAAc,WACZhY,KAAK+b,UAAY,KAEb/b,KAAKuS,SACPvS,KAAKgc,QAAQhc,KAAKuE,OAGpBvE,KAAK8X,eACL9X,KAAK+X,qBACP,EAMAD,aAAc,WACZ,IACE5Q,EAAOlH,KACLkH,EAAK+K,aACH/K,EAAK3C,MAAMrC,SAAQgF,EAAKiL,WAAY,GACxCjL,EAAKuN,eAAetS,KAAK,WAJvBof,YAMJra,EAAKsa,gBACP,EAKAA,eAAgB,WACd,IAAIta,EAAOlH,KACPoa,EAASlT,EAAKkT,SACdhI,EAAWlL,EAAKkL,SAEpBlL,EAAKqN,SAAStQ,YAAY,MAAOiD,EAAKyK,KAEtCzK,EAAKsN,SACFvQ,YAAY,QAASiD,EAAKmL,WAC1BpO,YAAY,WAAYiD,EAAK8K,YAC7B/N,YAAY,WAAYiD,EAAK+K,YAC7BhO,YAAY,UAAWiD,EAAKiL,WAC5BlO,YAAY,SAAUmO,GACtBnO,YAAY,OAAQmW,GACpBnW,YAAY,YAAamW,GACzBnW,YAAY,eAAgBiD,EAAKmL,YAAcnL,EAAKoL,eACpDrO,YAAY,kBAAmBiD,EAAK6K,QACpC9N,YAAY,eAAgB1E,EAAEkiB,cAAcva,EAAKb,UACjDpC,YAAY,YAAaiD,EAAK3C,MAAMrC,OAAS,GAEhDgF,EAAKuN,eAAevU,KAAK,QAASka,IAAWhI,EAC/C,EAQAgI,OAAQ,WACN,OAC6B,OAA3Bpa,KAAKwE,SAAS0P,UACdlU,KAAKuE,MAAMrC,QAAUlC,KAAKwE,SAAS0P,QAEvC,EAMA6D,oBAAqB,SAAU2J,GAC7B,IAAIhe,EACFsB,EACAqB,EACAsb,EACAza,EAAOlH,KAGT,GAFA0hB,EAAOA,GAAQ,CAAC,EA/nEH,IAioETxa,EAAKwK,QAAwB,CAE/B,IADArL,EAAU,GACL3C,EAAI,EAAGsB,EAAIkC,EAAK3C,MAAMrC,OAAQwB,EAAIsB,EAAGtB,IACxCie,EAAQza,EAAKb,QAAQa,EAAK3C,MAAMb,IAAIwD,EAAK1C,SAAS8T,aAAe,GACjEjS,EAAQX,KACN,kBACEmI,EAAY3G,EAAK3C,MAAMb,IACvB,yBACAmK,EAAY8T,GACZ,aAGDtb,EAAQnE,QAAWlC,KAAKkP,OAAOvN,KAAK,aACvC0E,EAAQX,KAAK,kDAEfwB,EAAKgI,OAAOzN,KAAK4E,EAAQsP,KAAK,IAChC,MACEzO,EAAKgI,OAAOrO,IAAIqG,EAAKsV,YACrBtV,EAAKgI,OAAOvN,KAAK,QAASuF,EAAKgI,OAAOrO,OAGpCqG,EAAKqL,UACFmP,EAAKjF,QACRvV,EAAKjG,QAAQ,SAAUiG,EAAKgI,OAAOrO,OAGzC,EAMAoX,kBAAmB,WACjB,GAAKjY,KAAKwE,SAAS+K,YAAnB,CACA,IAAIL,EAASlP,KAAKyU,eAEdzU,KAAKuE,MAAMrC,OACbgN,EAAO0S,WAAW,eAElB1S,EAAOvN,KAAK,cAAe3B,KAAKwE,SAAS+K,aAE3CL,EAAO6B,eAAe,SAAU,CAACnB,OAAO,GARF,CASxC,EAMAsK,KAAM,WACJ,IAAIhT,EAAOlH,KAGTkH,EAAKkL,UACLlL,EAAK6K,QACmB,UAAvB7K,EAAK1C,SAASyP,MAAoB/M,EAAKkT,WAG1ClT,EAAK0H,QACL1H,EAAK6K,QAAS,EACd7K,EAAK4Q,eACL5Q,EAAKwN,UAAU7R,IAAI,CAACE,WAAY,SAAU8e,QAAS,UACnD3a,EAAK+P,mBACL/P,EAAKwN,UAAU7R,IAAI,CAACE,WAAY,YAChCmE,EAAKjG,QAAQ,gBAAiBiG,EAAKwN,WACrC,EAKAuF,MAAO,WACL,IAAI/S,EAAOlH,KACPiB,EAAUiG,EAAK6K,OAEQ,WAAvB7K,EAAK1C,SAASyP,MAAqB/M,EAAK3C,MAAMrC,QAChDgF,EAAKgW,YAGPhW,EAAK6K,QAAS,EACd7K,EAAKwN,UAAU/T,OACfuG,EAAK2T,gBAAgB,MACrB3T,EAAK4Q,eAED7W,GAASiG,EAAKjG,QAAQ,iBAAkBiG,EAAKwN,UACnD,EAMAuC,iBAAkB,WAChB,IAAIzC,EAAWxU,KAAKwU,SAChBqJ,EAC+B,SAAjC7d,KAAKwE,SAAS8Q,eACVd,EAASqJ,SACTrJ,EAAStE,WACf2N,EAAO1N,KAAOqE,EAASmJ,aAAY,GAEnC3d,KAAK0U,UAAU7R,IAAI,CACjB2M,MAAOgF,EAASsN,aAChB3R,IAAK0N,EAAO1N,IACZC,KAAMyN,EAAOzN,MAEjB,EAQAiJ,MAAO,SAAUoD,GACf,IAAIvV,EAAOlH,KAENkH,EAAK3C,MAAMrC,SAChBgF,EAAKsN,SAAS9S,SAAS,eAAemP,SACtC3J,EAAK3C,MAAQ,GACb2C,EAAK6U,UAAY,KACjB7U,EAAKwU,SAAS,GACdxU,EAAKiT,cAAc,MACnBjT,EAAK+Q,oBACL/Q,EAAK6Q,oBAAoB,CAAC0E,OAAQA,IAClCvV,EAAK4Q,eACL5Q,EAAKkU,YACLlU,EAAKjG,QAAQ,SACf,EAQA+f,cAAe,SAAUe,GACvB,IAAIb,EAAQ9E,KAAK4C,IAAIhf,KAAKiT,SAAUjT,KAAKuE,MAAMrC,QACjC,IAAVgf,EACFlhB,KAAKwU,SAAS6K,QAAQ0C,GAEtBxiB,EAAES,KAAKwU,SAAS,GAAGjI,WAAW2U,IAAQc,OAAOD,GAE/C/hB,KAAK0b,SAASwF,EAAQ,EACxB,EAQAjG,gBAAiB,SAAUpb,GACzB,IAAI6D,EACFsB,EACA+C,EACA4G,EACAiS,EACAM,EACAe,EACAC,EACAC,EACEjb,EAAOlH,KAcX,GAZA+H,EAAYlI,GAxyEI,IAwyECA,EAAEwP,SAA6B,EAAI,EACpDV,EAAYL,EAAapH,EAAKuN,eAAe,IAEzCvN,EAAKkM,gBAAkBlM,EAAK1C,SAAS2P,eACvC8N,EAAgB/a,EACb0T,kBAAkB1T,EAAKkM,eAAgB,GACvCzR,KAAK,eAIVif,EAAS,GAEL1Z,EAAKmM,aAAanR,OAAQ,CAS5B,IARAigB,EAAQjb,EAAKsN,SAAS9S,SACpB,YAAcqG,EAAY,EAAI,OAAS,UAEzCmZ,EAAQha,EAAKsN,SAAS9S,SAAS,eAAeF,MAAM2gB,GAChDpa,EAAY,GACdmZ,IAGGxd,EAAI,EAAGsB,EAAIkC,EAAKmM,aAAanR,OAAQwB,EAAIsB,EAAGtB,IAC/Ckd,EAAOlb,KAAKnG,EAAE2H,EAAKmM,aAAa3P,IAAI/B,KAAK,eAEvC9B,IACFA,EAAEC,iBACFD,EAAE4W,kBAEN,MACGvP,EAAKmL,WAAoC,WAAvBnL,EAAK1C,SAASyP,OACjC/M,EAAK3C,MAAMrC,SAEP6F,EAAY,GAAyB,IAApB4G,EAAUH,OAAoC,IAArBG,EAAUzM,OACtD0e,EAAOlb,KAAKwB,EAAK3C,MAAM2C,EAAK+L,SAAW,IAEvClL,EAAY,GACZ4G,EAAUH,QAAUtH,EAAKuN,eAAe5T,MAAMqB,QAE9C0e,EAAOlb,KAAKwB,EAAK3C,MAAM2C,EAAK+L,YAKhC,IACG2N,EAAO1e,QAC2B,mBAA3BgF,EAAK1C,SAAS4d,WAC6B,IAAjDlb,EAAK1C,SAAS4d,SAASlc,MAAMgB,EAAM,CAAC0Z,IAEtC,OAAO,EAOT,SAHqB,IAAVM,GACTha,EAAKwU,SAASwF,GAETN,EAAO1e,QACZgF,EAAKoZ,WAAWM,EAAOyB,OAezB,OAZAnb,EAAKkU,YACLlU,EAAK+P,mBACL/P,EAAKgU,gBAAe,GAGhB+G,IACFC,EAAiBhb,EAAK+U,UAAUgG,IACb/f,QACjBgF,EAAK2T,gBAAgBqH,IAIlB,CACT,EAYAnH,iBAAkB,SAAUhT,EAAWlI,GACrC,IAAIyiB,EAAM3T,EAAWkO,EAAK0F,EAA2BJ,EACjDjb,EAAOlH,KAEO,IAAd+H,IACAb,EAAKyK,MAAK5J,IAAc,GAE5Bua,EAAOva,EAAY,EAAI,OAAS,QAChC4G,EAAYL,EAAapH,EAAKuN,eAAe,IAEzCvN,EAAKmL,YAAcnL,EAAKoL,eAC1BiQ,EAAcrb,EAAKuN,eAAe5T,MAAMqB,QAEtC6F,EAAY,EACY,IAApB4G,EAAUH,OAAoC,IAArBG,EAAUzM,OACnCyM,EAAUH,QAAU+T,KAELA,GACnBrb,EAAKsb,aAAaza,EAAWlI,KAG/BsiB,EAAQjb,EAAKsN,SAAS9S,SAAS,WAAa4gB,IAClCpgB,SACR2a,EAAM3V,EAAKsN,SAAS9S,SAAS,eAAeF,MAAM2gB,GAClDjb,EAAKiT,cAAc,MACnBjT,EAAKwU,SAAS3T,EAAY,EAAI8U,EAAM,EAAIA,IAG9C,EAQA2F,aAAc,SAAUza,EAAWlI,GACjC,IACEwL,EACAoX,EAFEvb,EAAOlH,KAIO,IAAd+H,IAEJsD,EAAKtD,EAAY,EAAI,OAAS,OAC1Bb,EAAKsL,aACPiQ,EAAOvb,EAAKuN,eAAepJ,MAClBnJ,SACPgF,EAAKgW,YACLhW,EAAKiT,cAAcsI,GACnB5iB,GAAKA,EAAEC,kBAGToH,EAAKwU,SAASxU,EAAK+L,SAAWlL,GAElC,EAOA2T,SAAU,SAAUhY,GAClB,IAYM4a,EAAGtZ,EAAOyS,EAAWiL,EAZvBxb,EAAOlH,KAQX,GALE0D,EADyB,WAAvBwD,EAAK1C,SAASyP,KACZ/M,EAAK3C,MAAMrC,OAEXka,KAAKC,IAAI,EAAGD,KAAK4C,IAAI9X,EAAK3C,MAAMrC,OAAQwB,KAGzCwD,EAAK2Z,UAMR,IAAKvC,EAAI,EAAGtZ,GADZyS,EAAYvQ,EAAKsN,SAAS9S,SAAS,gBACTQ,OAAQoc,EAAItZ,EAAGsZ,IACvCoE,EAASnjB,EAAEkY,EAAU6G,IAAI5G,SACrB4G,EAAI5a,EACNwD,EAAKuN,eAAeuN,OAAOU,GAE3Bxb,EAAKsN,SAASmO,OAAOD,GAK3Bxb,EAAK+L,SAAWvP,CAClB,EAMAyd,KAAM,WACJnhB,KAAKia,QACLja,KAAKoS,UAAW,EAChBpS,KAAK8X,cACP,EAKAuJ,OAAQ,WACNrhB,KAAKoS,UAAW,EAChBpS,KAAK8X,cACP,EAMAI,QAAS,WACP,IAAIhR,EAAOlH,KACXkH,EAAKgI,OAAO/M,KAAK,YAAY,GAC7B+E,EAAKuN,eAAetS,KAAK,YAAY,GAAMA,KAAK,YAAa,GAC7D+E,EAAK8K,YAAa,EAClB9K,EAAKia,MACP,EAMAyB,OAAQ,WACN,IAAI1b,EAAOlH,KACXkH,EAAKgI,OAAO/M,KAAK,YAAY,GAC7B+E,EAAKuN,eACFtS,KAAK,YAAY,GACjBA,KAAK,WAAY+E,EAAKuK,UACzBvK,EAAK8K,YAAa,EAClB9K,EAAKma,QACP,EAOAwB,QAAS,WACP,IAAI3b,EAAOlH,KACP4R,EAAU1K,EAAK0K,QACf4F,EAAiBtQ,EAAKsQ,eAE1BtQ,EAAKjG,QAAQ,WACbiG,EAAK4F,MACL5F,EAAKqN,SAAS1D,SACd3J,EAAKwN,UAAU7D,SAEf3J,EAAKgI,OACFzN,KAAK,IACLkhB,OAAOnL,EAAeC,WACtBmK,WAAW,YACXrF,YAAY,cACZ5a,KAAK,CAACgW,SAAUH,EAAeG,WAC/B5W,OAEHmG,EAAKuN,eAAeqO,WAAW,QAC/B5b,EAAKgI,OAAO4T,WAAW,aAEvBvjB,EAAEkO,QAAQX,IAAI8E,GACdrS,EAAEI,UAAUmN,IAAI8E,GAChBrS,EAAEI,SAASgc,MAAM7O,IAAI8E,UAEd1K,EAAKgI,OAAO,GAAG9L,SACxB,EAUA2V,OAAQ,SAAUgK,EAAc7iB,GAC9B,IAAIU,EAAOiH,EACPpG,EAAO,GACPuhB,GAAQ,EACR9b,EAAOlH,KACPijB,EACF,2DAQF,MANqB,WAAjBF,GAA8C,SAAjBA,IAE/BC,KADApiB,EAAQgN,EAAS1N,EAAKgH,EAAK1C,SAAS+a,eAKlCyD,IACGrV,EAAMzG,EAAKsM,YAAYuP,MAC1B7b,EAAKsM,YAAYuP,GAAgB,CAAC,GAEhC7b,EAAKsM,YAAYuP,GAAcvd,eAAe5E,IACzCsG,EAAKsM,YAAYuP,GAAcniB,IAK1Ca,EAAOyF,EAAK1C,SAASuU,OAAOgK,GAAc7c,MAAMlG,KAAM,CACpDE,EACA2N,IAImB,WAAjBkV,GAA8C,kBAAjBA,IAC/BthB,EAAOA,EAAKX,QAAQmiB,EAAW,wBAEZ,aAAjBF,IACFlb,EAAK3H,EAAKgH,EAAK1C,SAASgb,qBAAuB,GAC/C/d,EAAOA,EAAKX,QACVmiB,EACA,mBAAqBnV,EAAeD,EAAYhG,IAAO,MAGtC,WAAjBkb,GAA8C,SAAjBA,IAC/BthB,EAAOA,EAAKX,QACVmiB,EACA,mBAAqBnV,EAAeD,EAAYjN,GAAS,KAAO,MAKhEoiB,IACF9b,EAAKsM,YAAYuP,GAAcniB,GAASa,GAGnCA,EACT,EASAyhB,WAAY,SAAUH,QAEQ,IAAjBA,EADA/iB,KAEJwT,YAAc,CAAC,SAFXxT,KAIGwT,YAAYuP,EAE5B,EASA3D,UAAW,SAAU7Q,GACnB,IAAIrH,EAAOlH,KACX,IAAKkH,EAAK1C,SAASgW,OAAQ,OAAO,EAClC,IAAI5R,EAAS1B,EAAK1C,SAAS2e,aAC3B,OACE5U,EAAMrM,SACa,mBAAX0G,GAAyBA,EAAO1C,MAAMgB,EAAM,CAACqH,OAClC,iBAAX3F,GAAuB,IAAInD,OAAOmD,GAAQ4D,KAAK+B,QACpD3F,aAAkBnD,SAAWmD,EAAO4D,KAAK+B,GAEhD,IAGFyC,EAAUa,MAAQ,EAClBb,EAAUoS,SAAW,CACnB/c,QAAS,GACTiN,UAAW,GAEX7I,QAAS,GACToL,UAAW,IACXD,QAAS,KACTqL,SAAS,EACTxc,YAAY,EACZ+V,QAAQ,EACRoB,cAAc,EACduH,aAAc,KACd5X,WAAW,EACX8P,aAAa,EACb0D,WAAY,IACZ7K,SAAU,KACVC,aAAc,KACdmL,eAAe,EACftE,aAAa,EACb5C,SAAS,EACT/U,kBAAkB,EAClByY,kBAAkB,EAElBiC,eAAgB,GAChBrK,aAAc,IACdwI,aAAc,UAEdmH,SAAU,YACVpE,cAAe,WACfM,WAAY,QACZjH,WAAY,OACZE,mBAAoB,QACpBgH,mBAAoB,QACpBN,mBAAmB,EAEnBjB,UAAW,SACXC,YAAa,CAAC,QACdC,kBAAmB,MAEnBlK,KAAM,KACNmB,aAAc,oBACdC,WAAY,kBACZE,cAAe,qBACfC,qBAAsB,6BAEtBF,eAAgB,KAEhBG,uBAAuB,EAsBvBsD,OAAQ,CACN,GAUJxZ,EAAE8L,GAAGjI,UAAY,SAAUkgB,GACzB,IAAIF,EAAW7jB,EAAE8L,GAAGjI,UAAUggB,SAC1B5e,EAAWjF,EAAE8I,OAAO,CAAC,EAAG+a,EAAUE,GAClCC,EAAY/e,EAAS6e,SACrBhL,EAAc7T,EAAS8T,WACvBkL,EAAchf,EAAS+a,WACvBhH,EAAiB/T,EAASya,cAC1BwE,EAAuBjf,EAASgU,mBAChCkL,EAAuBlf,EAASgb,mBA4HpC,OAAOxf,KAAKuB,MAAK,WACf,IAAIvB,KAAKoD,UAAT,CAEA,IACI8L,EAAS3P,EAAES,MACX2jB,EAAW3jB,KAAKyM,QAAQ1H,cACxBwK,EACFL,EAAOvN,KAAK,gBAAkBuN,EAAOvN,KAAK,oBACvC4N,GAAgB/K,EAASnB,mBAC5BkM,EAAcL,EAAOxN,SAAS,oBAAoBnB,QAGpD,IAAIqjB,EAAmB,CACrBrU,YAAaA,EACblJ,QAAS,GACTiN,UAAW,GACX/O,MAAO,IAGQ,WAAbof,EAzGY,SAAUzU,EAAQ0U,GAClC,IAAIlgB,EACFsB,EACAyH,EACAgL,EAEEpR,EAAUud,EAAiBvd,QAC3Bwd,EAAa,CAAC,EAEdC,EAAW,SAAU/B,GACvB,IAAI7hB,EAAOqjB,GAAaxB,EAAIpgB,KAAK4hB,GACjC,MAAoB,iBAATrjB,GAAqBA,EAAKgC,OAC5B6hB,KAAKC,MAAM9jB,GAEb,IACT,EAEIoc,EAAY,SAAUa,EAAS8G,GACjC9G,EAAU5d,EAAE4d,GAEZ,IAAIvc,EAAQgN,EAASuP,EAAQxb,KAAK,UAClC,GAAKf,GAAU4D,EAASnB,iBAMxB,GAAIwgB,EAAWre,eAAe5E,IAC5B,GAAIqjB,EAAO,CACT,IAAIC,EAAML,EAAWjjB,GAAO2X,GACvB2L,EAEO3kB,EAAE4J,QAAQ+a,GAGpBA,EAAIxe,KAAKue,GAFTJ,EAAWjjB,GAAO2X,GAAkB,CAAC2L,EAAKD,GAF1CJ,EAAWjjB,GAAO2X,GAAkB0L,CAMxC,MAVF,CAcA,IAAIpL,EAASiL,EAAS3G,IAAY,CAAC,EACnCtE,EAAOR,GAAeQ,EAAOR,IAAgB8E,EAAQ5c,OACrDsY,EAAO2K,GAAe3K,EAAO2K,IAAgB5iB,EAC7CiY,EAAON,GAAkBM,EAAON,IAAmB0L,EAEnDJ,EAAWjjB,GAASiY,EACpBxS,EAAQX,KAAKmT,GAETsE,EAAQjL,GAAG,cACb0R,EAAiBrf,MAAMmB,KAAK9E,EAX9B,CAaF,EAEIujB,EAAW,SAAUC,GACvB,IAAI1gB,EAAGsB,EAAG6C,EAAI6Q,EAAUhW,EAaxB,KAVAmF,GADAuc,EAAY7kB,EAAE6kB,IACCziB,KAAK,aAGlB+W,EAAWoL,EAASM,IAAc,CAAC,GAC1BX,GAAwB5b,EACjC6Q,EAASgL,GAAwB7b,EACjC+b,EAAiBtQ,UAAU5N,KAAKgT,IAI7BhV,EAAI,EAAGsB,GADZtC,EAAWnD,EAAE,SAAU6kB,IACEliB,OAAQwB,EAAIsB,EAAGtB,IACtC4Y,EAAU5Z,EAASgB,GAAImE,EAE3B,EAKA,IAHA+b,EAAiB1P,SAAWhF,EAAOvN,KAAK,YAAc,KAAO,EAGxD+B,EAAI,EAAGsB,GADZyS,EAAYvI,EAAOxN,YACOQ,OAAQwB,EAAIsB,EAAGtB,IAEvB,cADhB+I,EAAUgL,EAAU/T,GAAG+I,QAAQ1H,eAE7Bof,EAAS1M,EAAU/T,IACE,WAAZ+I,GACT6P,EAAU7E,EAAU/T,GAG1B,CAsBI2gB,CAAYnV,EAAQ0U,GAxIL,SAAU1U,EAAQ0U,GACnC,IAAIlgB,EAAGsB,EAAG4b,EAAQ/H,EAEdyL,EAAWpV,EAAOvN,KAAK4hB,GAE3B,GAAKe,EAaH,IADAV,EAAiBvd,QAAU0d,KAAKC,MAAMM,GACjC5gB,EAAI,EAAGsB,EAAI4e,EAAiBvd,QAAQnE,OAAQwB,EAAIsB,EAAGtB,IACtDkgB,EAAiBrf,MAAMmB,KAAKke,EAAiBvd,QAAQ3C,GAAG8f,QAd7C,CACb,IAAI5iB,EAAQrB,EAAEsF,KAAKqK,EAAOrO,OAAS,IACnC,IAAK2D,EAASnB,mBAAqBzC,EAAMsB,OAAQ,OAEjD,IAAKwB,EAAI,EAAGsB,GADZ4b,EAAShgB,EAAMyE,MAAMb,EAASqR,YACP3T,OAAQwB,EAAIsB,EAAGtB,KACpCmV,EAAS,CAAC,GACHR,GAAeuI,EAAOld,GAC7BmV,EAAO2K,GAAe5C,EAAOld,GAC7BkgB,EAAiBvd,QAAQX,KAAKmT,GAEhC+K,EAAiBrf,MAAQqc,CAC3B,CAMF,CAoHI2D,CAAarV,EAAQ0U,GAGZ,IAAI5S,EACb9B,EACA3P,EAAE8I,QAAO,EAAM,CAAC,EAAG+a,EAAUQ,EAAkBN,GA1BvB,CA4B5B,GACF,EAEA/jB,EAAE8L,GAAGjI,UAAUggB,SAAWpS,EAAUoS,SACpC7jB,EAAE8L,GAAGjI,UAAUohB,QAAU,CACvB9W,SAAUF,GAGZwD,EAAU3M,OAAO,aAAa,SAAUgC,GACtC,IAAK9G,EAAE8L,GAAGoZ,SACR,MAAM,IAAIrZ,MAAM,yDAClB,GAA2B,UAAvBpL,KAAKwE,SAASyP,KAAlB,CACA,IAGMhG,EAHF/G,EAAOlH,KAEXkH,EAAKia,MACClT,EAAW/G,EAAKia,KACb,WACL,IAAIsD,EAAWvd,EAAKsN,SAAStU,KAAK,YAElC,OADIukB,GAAUA,EAASvM,UAChBjK,EAAS/H,MAAMgB,EAAM+B,UAC9B,GAGF/B,EAAKma,OAAU,WACb,IAAIpT,EAAW/G,EAAKma,OACpB,OAAO,WACL,IAAIoD,EAAWvd,EAAKsN,SAAStU,KAAK,YAElC,OADIukB,GAAUA,EAAS7B,SAChB3U,EAAS/H,MAAMgB,EAAM+B,UAC9B,CACF,CAPe,GASf/B,EAAKoN,MAAS,WACZ,IAAIrG,EAAW/G,EAAKoN,MACpB,OAAO,WACLrG,EAAS/H,MAAMlG,KAAMiJ,WAErB,IAAIuL,EAAWtN,EAAKsN,SAASiQ,SAAS,CACpClgB,MAAO,eACPmgB,sBAAsB,EACtBziB,SAAUiF,EAAKkL,SACf5D,MAAO,SAAU3O,EAAG8kB,GAClBA,EAAGpV,YAAY1M,IAAI,QAAS8hB,EAAGC,OAAO/hB,IAAI,UAC1C2R,EAAS3R,IAAI,CAACgiB,SAAU,WAC1B,EACA/G,KAAM,WACJtJ,EAAS3R,IAAI,CAACgiB,SAAU,WACxB,IAAIC,EAAS5d,EAAKmM,aAAenM,EAAKmM,aAAavK,QAAU,KACzD8X,EAAS,GACbpM,EAAS9S,SAAS,gBAAgBH,MAAK,WACrCqf,EAAOlb,KAAKnG,EAAES,MAAM2B,KAAK,cAC3B,IACAuF,EAAK2Q,SAAS+I,GACd1Z,EAAKiT,cAAc2K,EACrB,GAEJ,CACF,CAzBc,EArB4B,CA+C5C,IAEA9T,EAAU3M,OAAO,mBAAmB,SAAUgC,GAC5C,IAmCM4H,EAnCF/G,EAAOlH,KAEXqG,EAAU9G,EAAE8I,OACV,CACE0c,MAAO,WACPC,YAAa,4BACbC,cAAe,kCACfC,WAAY,kCACZC,WAAY,kCAEZ1jB,KAAM,SAAUvB,GACd,MACE,eACAA,EAAK8kB,YADL,iBAIA9kB,EAAK+kB,cAJL,kBAOA/kB,EAAKglB,WACL,KACAhlB,EAAK6kB,MATL,8CAYA7kB,EAAKilB,WAZL,2BAiBJ,GAEF9e,GAGFa,EAAKoN,OACCrG,EAAW/G,EAAKoN,MACb,WACLrG,EAAS/H,MAAMgB,EAAM+B,WACrB/B,EAAKke,iBAAmB7lB,EAAE8G,EAAQ5E,KAAK4E,IACvCa,EAAKwN,UAAU2K,QAAQnY,EAAKke,iBAC9B,EAEJ,IAEApU,EAAU3M,OAAO,oBAAoB,SAAUgC,GAC7C,IAkBM4H,EAlBF/G,EAAOlH,KAEXqG,EAAU9G,EAAE8I,OACV,CACEgd,eAAe,EACfC,gBAAgB,GAElBjf,GAGFrG,KAAK4a,kBAAoB,SAAUuC,EAASpV,GAC1C,IAAIrF,EAAWya,EAAQoI,QAAQ,gBAAgB/iB,KAAK,qBAChDhB,EAAQkB,EAASlB,MAAM2b,GAAWpV,EAEtC,OAAOvG,GAAS,GAAKA,EAAQkB,EAASR,OAASQ,EAAS+d,GAAGjf,GAASjC,GACtE,EAEAS,KAAK2W,WACC1I,EAAW/G,EAAKyP,UACb,SAAU9W,GACf,IAAI2B,EAAO2b,EAASza,EAAU0hB,EAE9B,OACEpkB,KAAK+R,QA9/FE,KA+/FNlS,EAAEwP,SA5/FK,KA4/FmBxP,EAAEwP,QAoBxBpB,EAAS/H,MAAMlG,KAAMiJ,YAlB1B/B,EAAK2L,aAAc,EAEnBrR,GADA4iB,EAAYpkB,KAAKoT,cAAcmS,QAAQ,iBACrB/iB,KAAK,qBAAqBhB,MAAMxB,KAAKoT,qBASvD+J,GADAza,GALE0hB,EAtgGK,KAqgGHvkB,EAAEwP,QACQ+U,EAAUtgB,KAAK,gBAEfsgB,EAAU/jB,KAAK,iBAGRmC,KAAK,sBACPie,GAAGrE,KAAK4C,IAAItc,EAASR,OAAS,EAAGV,KACxCU,QACVlC,KAAK6a,gBAAgBsC,IAM3B,GAGF,IAAIqI,EAAoB,SAApBA,IACF,IAAIC,EACAjW,EAAQgW,EAAkBhW,MAC1BkW,EAAM/lB,SAWV,YATqB,IAAV6P,KACTiW,EAAMC,EAAI5Z,cAAc,QACpB6Z,UACF,8IACFF,EAAMA,EAAIG,WACVF,EAAI/J,KAAKvP,YAAYqZ,GACrBjW,EAAQgW,EAAkBhW,MAAQiW,EAAII,YAAcJ,EAAIK,YACxDJ,EAAI/J,KAAKoK,YAAYN,IAEhBjW,CACT,EAEIwW,EAAgB,WAClB,IAAItiB,EAAGsB,EAAGihB,EAAYzW,EAAO0W,EAAYC,EAAcC,EAIvD,IADAphB,GADAohB,EAAa7mB,EAAE,eAAgB2H,EAAKyN,oBACrBzS,SACJgF,EAAKyN,kBAAkBnF,QAAlC,CAEA,GAAInJ,EAAQif,eAAgB,CAE1B,IADAW,EAAa,EACRviB,EAAI,EAAGA,EAAIsB,EAAGtB,IACjBuiB,EAAa7J,KAAKC,IAAI4J,EAAYG,EAAW3F,GAAG/c,GAAGga,UAErD0I,EAAWvjB,IAAI,CAAC6a,OAAQuI,GAC1B,CAEI5f,EAAQgf,gBACVc,EACEjf,EAAKyN,kBAAkB0R,aAAeb,IACxChW,EAAQ4M,KAAKkK,MAAMH,EAAenhB,GAClCohB,EAAWvjB,IAAI,CAAC2M,MAAOA,IACnBxK,EAAI,IACNkhB,EAAaC,EAAe3W,GAASxK,EAAI,GACzCohB,EAAW3F,GAAGzb,EAAI,GAAGnC,IAAI,CAAC2M,MAAO0W,KAjBY,CAoBnD,GAEI7f,EAAQif,gBAAkBjf,EAAQgf,iBACpCtX,EAAW/N,KAAM,mBAAoBgmB,GACrCjY,EAAW/N,KAAM,iBAAkBgmB,GAEvC,IAEAhV,EAAU3M,OAAO,iBAAiB,SAAUgC,GAC1C,GAA2B,WAAvBrG,KAAKwE,SAASyP,KAAlB,CAEA5N,EAAU9G,EAAE8I,OACV,CACEsZ,MAAO,UACPoD,MAAO,SACPhZ,UAAW,SACX4W,QAAQ,GAEVtc,GAGF,IA2BM4H,EA3BF/G,EAAOlH,KACPyB,EACF,uCACA4E,EAAQ0F,UACR,0BACA8B,EAAYxH,EAAQ0e,OACpB,KACA1e,EAAQsb,MACR,OAkBF3hB,KAAKsU,OACCrG,EAAW/G,EAAKoN,MACb,WAEL,GAAIjO,EAAQsc,OAAQ,CAClB,IAAI4D,EAAcrf,EAAK1C,SAASuU,OAAOpQ,KACvCzB,EAAK1C,SAASuU,OAAOpQ,KAAO,SAAUzI,GACpC,OAhBesmB,EAgBDD,EAAYrgB,MAAMlG,KAAMiJ,WAhBPwd,EAgBmBhlB,EAfpDoF,EAAM2f,EAAepgB,OAAO,mBAE9BogB,EAAerc,UAAU,EAAGtD,GAC5B4f,EACAD,EAAerc,UAAUtD,GALhB,IAAU2f,EAAgBC,EACjC5f,CAgBA,CACF,CAEAoH,EAAS/H,MAAMlG,KAAMiJ,WAGrBjJ,KAAKwU,SAAS5U,GAAG,QAAS,IAAMyG,EAAQ0F,WAAW,SAAUlM,GAE3D,GADAA,EAAEC,kBACEoH,EAAKkL,SAAT,CAEA,IAAIuK,EAAQpd,EAAEM,EAAEuW,eAAe9T,SAC/B4E,EAAKiT,cAAcwC,GACfzV,EAAK+T,mBACP/T,EAAKwU,SAASxU,EAAK3C,MAAMrC,OALF,CAO3B,GACF,EA9DyC,CAgE7C,IAEA8O,EAAU3M,OAAO,wBAAwB,SAAUgC,GACjD,IASM4H,EAPN5H,EAAQ9F,KACN8F,EAAQ9F,MACR,SAAUsY,GACR,OAAOA,EAAO7Y,KAAKwE,SAAS8T,WAC9B,EAEFtY,KAAK2W,WACC1I,EATKjO,KASW2W,UACb,SAAU9W,GACf,IAAI2B,EAAOqX,EACX,OAnpGc,IAopGZhZ,EAAEwP,SAC4B,KAA9BrP,KAAKyU,eAAe5T,QACnBb,KAAKqT,aAAanR,SAEnBV,EAAQxB,KAAKiT,SAAW,IACX,GAAKzR,EAAQxB,KAAKuE,MAAMrC,QACnC2W,EAAS7Y,KAAKqG,QAAQrG,KAAKuE,MAAM/C,IAC7BxB,KAAKib,gBAAgBpb,KACvBG,KAAKyb,gBAAgBpV,EAAQ9F,KAAK2F,MAAMlG,KAAM,CAAC6Y,KAC/C7Y,KAAKkb,gBAAe,SAEtBrb,EAAEC,kBAICmO,EAAS/H,MAAMlG,KAAMiJ,UAC9B,EAEJ,IAEO+H,CACT,OAjxGoE,mC,uCCzoBpE,IAAI0V,EAAU,EAAQ,KACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOhf,GAAI6e,EAAS,MAC7DA,EAAQI,SAAQD,EAAOE,QAAUL,EAAQI,SAG/BE,EADH,UACO,WAAYN,GAAS,EAAM,CAAC,E,mCCL9B,SAASO,EAAcC,EAAUC,GAG9C,IAFA,IAAIxW,EAAS,GACTyW,EAAY,CAAC,EACR1jB,EAAI,EAAGA,EAAIyjB,EAAKjlB,OAAQwB,IAAK,CACpC,IAAIiF,EAAOwe,EAAKzjB,GACZmE,EAAKc,EAAK,GAIV0e,EAAO,CACTxf,GAAIqf,EAAW,IAAMxjB,EACrBb,IALQ8F,EAAK,GAMb2e,MALU3e,EAAK,GAMf4e,UALc5e,EAAK,IAOhBye,EAAUvf,GAGbuf,EAAUvf,GAAI2f,MAAM9hB,KAAK2hB,GAFzB1W,EAAOjL,KAAK0hB,EAAUvf,GAAM,CAAEA,GAAIA,EAAI2f,MAAO,CAACH,IAIlD,CACA,OAAO1W,CACT,C,gCClBA,IAAI8W,EAAkC,oBAAb9nB,SAEzB,GAAqB,oBAAV+nB,OAAyBA,QAC7BD,EACH,MAAM,IAAIrc,MACV,2JAkBJ,IAAIuc,EAAc,CAMhB,EAEEC,EAAOH,IAAgB9nB,SAASioB,MAAQjoB,SAASkoB,qBAAqB,QAAQ,IAC9EC,EAAmB,KACnBC,EAAmB,EACnBC,GAAe,EACfC,EAAO,WAAa,EACpB5hB,EAAU,KACV6hB,EAAW,kBAIXC,EAA+B,oBAAd/a,WAA6B,eAAeZ,KAAKY,UAAUC,UAAUtI,eAE3E,SAASqjB,EAAiBlB,EAAUC,EAAMkB,EAAeC,GACtEN,EAAeK,EAEfhiB,EAAUiiB,GAAY,CAAC,EAEvB,IAAI3X,EAASsW,EAAaC,EAAUC,GAGpC,OAFAoB,EAAe5X,GAER,SAAiB6X,GAEtB,IADA,IAAIC,EAAY,GACP/kB,EAAI,EAAGA,EAAIiN,EAAOzO,OAAQwB,IAAK,CACtC,IAAIiF,EAAOgI,EAAOjN,IACdglB,EAAWf,EAAYhf,EAAKd,KACvB8gB,OACTF,EAAU/iB,KAAKgjB,EACjB,CAOA,IANIF,EAEFD,EADA5X,EAASsW,EAAaC,EAAUsB,IAGhC7X,EAAS,GAEFjN,EAAI,EAAGA,EAAI+kB,EAAUvmB,OAAQwB,IAAK,CACzC,IAAIglB,EACJ,GAAsB,KADlBA,EAAWD,EAAU/kB,IACZilB,KAAY,CACvB,IAAK,IAAIrK,EAAI,EAAGA,EAAIoK,EAASlB,MAAMtlB,OAAQoc,IACzCoK,EAASlB,MAAMlJ,YAEVqJ,EAAYe,EAAS7gB,GAC9B,CACF,CACF,CACF,CAEA,SAAS0gB,EAAgB5X,GACvB,IAAK,IAAIjN,EAAI,EAAGA,EAAIiN,EAAOzO,OAAQwB,IAAK,CACtC,IAAIiF,EAAOgI,EAAOjN,GACdglB,EAAWf,EAAYhf,EAAKd,IAChC,GAAI6gB,EAAU,CACZA,EAASC,OACT,IAAK,IAAIrK,EAAI,EAAGA,EAAIoK,EAASlB,MAAMtlB,OAAQoc,IACzCoK,EAASlB,MAAMlJ,GAAG3V,EAAK6e,MAAMlJ,IAE/B,KAAOA,EAAI3V,EAAK6e,MAAMtlB,OAAQoc,IAC5BoK,EAASlB,MAAM9hB,KAAKkjB,EAASjgB,EAAK6e,MAAMlJ,KAEtCoK,EAASlB,MAAMtlB,OAASyG,EAAK6e,MAAMtlB,SACrCwmB,EAASlB,MAAMtlB,OAASyG,EAAK6e,MAAMtlB,OAEvC,KAAO,CACL,IAAIslB,EAAQ,GACZ,IAASlJ,EAAI,EAAGA,EAAI3V,EAAK6e,MAAMtlB,OAAQoc,IACrCkJ,EAAM9hB,KAAKkjB,EAASjgB,EAAK6e,MAAMlJ,KAEjCqJ,EAAYhf,EAAKd,IAAM,CAAEA,GAAIc,EAAKd,GAAI8gB,KAAM,EAAGnB,MAAOA,EACxD,CACF,CACF,CAEA,SAASqB,IACP,IAAIC,EAAenpB,SAASmM,cAAc,SAG1C,OAFAgd,EAAa1a,KAAO,WACpBwZ,EAAKxb,YAAY0c,GACVA,CACT,CAEA,SAASF,EAAUG,GACjB,IAAI3Z,EAAQyB,EACRiY,EAAenpB,SAASqpB,cAAc,SAAWd,EAAW,MAAQa,EAAIlhB,GAAK,MAEjF,GAAIihB,EAAc,CAChB,GAAId,EAGF,OAAOC,EAOPa,EAAazc,WAAW0Z,YAAY+C,EAExC,CAEA,GAAIX,EAAS,CAEX,IAAIc,EAAalB,IACjBe,EAAehB,IAAqBA,EAAmBe,KACvDzZ,EAAS8Z,EAAoBC,KAAK,KAAML,EAAcG,GAAY,GAClEpY,EAASqY,EAAoBC,KAAK,KAAML,EAAcG,GAAY,EACpE,MAEEH,EAAeD,IACfzZ,EAASga,EAAWD,KAAK,KAAML,GAC/BjY,EAAS,WACPiY,EAAazc,WAAW0Z,YAAY+C,EACtC,EAKF,OAFA1Z,EAAO2Z,GAEA,SAAsBM,GAC3B,GAAIA,EAAQ,CACV,GAAIA,EAAOxmB,MAAQkmB,EAAIlmB,KACnBwmB,EAAO/B,QAAUyB,EAAIzB,OACrB+B,EAAO9B,YAAcwB,EAAIxB,UAC3B,OAEFnY,EAAO2Z,EAAMM,EACf,MACExY,GAEJ,CACF,CAEA,IACMyY,EADFC,GACED,EAAY,GAET,SAAU9nB,EAAOgoB,GAEtB,OADAF,EAAU9nB,GAASgoB,EACZF,EAAU1gB,OAAO6gB,SAAS9T,KAAK,KACxC,GAGF,SAASuT,EAAqBJ,EAActnB,EAAOqP,EAAQkY,GACzD,IAAIlmB,EAAMgO,EAAS,GAAKkY,EAAIlmB,IAE5B,GAAIimB,EAAaY,WACfZ,EAAaY,WAAWC,QAAUJ,EAAY/nB,EAAOqB,OAChD,CACL,IAAI+mB,EAAUjqB,SAASkqB,eAAehnB,GAClC0J,EAAauc,EAAavc,WAC1BA,EAAW/K,IAAQsnB,EAAa/C,YAAYxZ,EAAW/K,IACvD+K,EAAWrK,OACb4mB,EAAagB,aAAaF,EAASrd,EAAW/K,IAE9CsnB,EAAa1c,YAAYwd,EAE7B,CACF,CAEA,SAASR,EAAYN,EAAcC,GACjC,IAAIlmB,EAAMkmB,EAAIlmB,IACVykB,EAAQyB,EAAIzB,MACZC,EAAYwB,EAAIxB,UAiBpB,GAfID,GACFwB,EAAaiB,aAAa,QAASzC,GAEjCjhB,EAAQ2jB,OACVlB,EAAaiB,aAAa7B,EAAUa,EAAIlhB,IAGtC0f,IAGF1kB,GAAO,mBAAqB0kB,EAAU0C,QAAQ,GAAK,MAEnDpnB,GAAO,uDAAyDqnB,KAAKC,SAASC,mBAAmBrG,KAAKsG,UAAU9C,MAAgB,OAG9HuB,EAAaY,WACfZ,EAAaY,WAAWC,QAAU9mB,MAC7B,CACL,KAAOimB,EAAalD,YAClBkD,EAAa/C,YAAY+C,EAAalD,YAExCkD,EAAa1c,YAAYzM,SAASkqB,eAAehnB,GACnD,CACF,C,+BC7NAgkB,EAAOE,QAAUuD,M,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBtnB,IAAjBunB,EACH,OAAOA,EAAa3D,QAGrB,IAAIF,EAAS0D,EAAyBE,GAAY,CACjD5iB,GAAI4iB,EAEJ1D,QAAS,CAAC,GAOX,OAHA4D,EAAoBF,GAAUnhB,KAAKud,EAAOE,QAASF,EAAQA,EAAOE,QAASyD,GAGpE3D,EAAOE,OACf,CCrBAyD,EAAoBxlB,EAAI,SAAS6hB,GAChC,IAAI+D,EAAS/D,GAAUA,EAAOF,WAC7B,WAAa,OAAOE,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADA2D,EAAoBhhB,EAAEohB,EAAQ,CAAE3iB,EAAG2iB,IAC5BA,CACR,ECNAJ,EAAoBhhB,EAAI,SAASud,EAAS8D,GACzC,IAAI,IAAI7mB,KAAO6mB,EACXL,EAAoB9gB,EAAEmhB,EAAY7mB,KAASwmB,EAAoB9gB,EAAEqd,EAAS/iB,IAC5EoF,OAAO0hB,eAAe/D,EAAS/iB,EAAK,CAAE+mB,YAAY,EAAMC,IAAKH,EAAW7mB,IAG3E,ECPAwmB,EAAoB9gB,EAAI,SAASqf,EAAK5mB,GAAQ,OAAOiH,OAAO1E,UAAUc,eAAe8D,KAAKyf,EAAK5mB,EAAO,E","sources":["webpack:///./js/feed-me.js","webpack:///./lib/selectize.js","webpack:///./scss/feed-me.scss?6475","webpack:///../../../../../node_modules/vue-style-loader/lib/listToStyles.js","webpack:///../../../../../node_modules/vue-style-loader/lib/addStylesClient.js","webpack:///external var \"jQuery\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["/* globals Craft, $ */\n\n// ==========================================================================\n\n// Feed Me Plugin for Craft CMS\n\n// ==========================================================================\n\n$(function () {\n  if (typeof Craft.FeedMe === typeof undefined) {\n    Craft.FeedMe = {};\n  }\n\n  // Settings pane toggle for feeds index\n  $(document).on('click', '#feeds .settings', function (e) {\n    e.preventDefault();\n\n    var row = $(this).parents('tr').data('id') + '-settings';\n    var $settingsRow = $('tr[data-settings-id=\"' + row + '\"] .settings-pane');\n\n    $settingsRow.toggle();\n  });\n\n  // Change the import strategy for Users\n  var $disableLabel = $(\n    'input[name=\"duplicateHandle[]\"][value=\"disable\"]',\n  ).next('label');\n  var originalDisableLabel = $disableLabel.text();\n  var $disableInstructions = $disableLabel.siblings('.instructions');\n  var originalDisableInstructions = $disableInstructions.text();\n\n  // Toggle various field when changing element type\n  $(document).on('change', '#elementType', function () {\n    $('.element-select').hide();\n\n    var value = $(this).val().replace(/\\\\/g, '-');\n    $('.element-select[data-type=\"' + value + '\"]').show();\n\n    if (value === 'craft-elements-User') {\n      $disableLabel.text(Craft.t('feed-me', 'Suspend missing users'));\n      $disableInstructions.text(\n        Craft.t(\n          'feed-me',\n          'Suspends any users that are missing from the feed.',\n        ),\n      );\n    } else {\n      $disableLabel.text(originalDisableLabel);\n      $disableInstructions.text(originalDisableInstructions);\n    }\n  });\n\n  $('#elementType').trigger('change');\n\n  // Toggle the Entry Type field when changing the section select\n  $(document).on('change', '.element-parent-group select', function () {\n    var sections = $(this).parents('.element-sub-group').data('items') || {};\n    var groupId = $(this).val();\n    var entryType = 'item_' + groupId;\n    var entryTypes = sections[entryType] || [];\n\n    var currentValue = $('.element-child-group select').val();\n\n    var newOptions =\n      '<option value=\"\">' + Craft.t('feed-me', 'None') + '</option>';\n    $.each(entryTypes, function (index, value) {\n      if (index) {\n        newOptions += '<option value=\"' + index + '\">' + value + '</option>';\n      }\n    });\n\n    $('.element-child-group select').html(newOptions);\n\n    // Select the first non-empty, or pre-selected\n    if (currentValue) {\n      $('.element-child-group select').val(currentValue);\n    } else {\n      $($('.element-child-group select').children()[1]).attr('selected', true);\n    }\n\n    // Show/hide the import settings depending on whether this group is a singleton\n    var elementType = $('#elementType').val();\n    if (\n      Craft.FeedMe.elementTypes[elementType] &&\n      Craft.FeedMe.elementTypes[elementType].groups[groupId] &&\n      Craft.FeedMe.elementTypes[elementType].groups[groupId].isSingleton\n    ) {\n      if (!$('#singleton').val()) {\n        $('#singleton').val('1');\n        $('#is-create').attr({checked: false, disabled: true});\n        $('#is-update').attr({checked: true, disabled: true});\n        $('#is-disable-globally').attr({checked: false, disabled: true});\n        $('#is-disable-site').attr({checked: false, disabled: true});\n        $('#is-delete').attr({checked: false, disabled: true});\n      }\n    } else if ($('#singleton').val()) {\n      $('#singleton').val('');\n      $('#is-create').attr({checked: true, disabled: false});\n      $('#is-update').attr({checked: false, disabled: false});\n      $('#is-disable-globally').attr({checked: false, disabled: false});\n      $('#is-disable-site').attr({checked: false, disabled: false});\n      $('#is-delete').attr({checked: false, disabled: false});\n    }\n  });\n\n  $('.element-parent-group select:visible').trigger('change');\n\n  //\n  // Field Mapping\n  //\n\n  // For field-mapping, auto-select Title if no unique checkboxes are set\n  if ($('.feedme-uniques').length) {\n    var checked = $('.feedme-uniques input[type=\"checkbox\"]:checked').length;\n\n    if (!checked) {\n      $('.feedme-uniques input[type=\"checkbox\"]:first').prop('checked', true);\n    }\n  }\n\n  // for categories and entries - only show \"create if they do not exist\" if matching done by \"title\"\n  // for users - only show \"create if they do not exist\" if matching done by \"email\"\n  $(\n    '.categories-field-match select, .entries-field-match select, .users-field-match select',\n  ).on('change', function (e) {\n    var match = 'title';\n    var $selectParent = $(this).parent();\n    var $elementCreateContainer = $(this)\n      .parents('.field-extra-settings')\n      .find('.element-create');\n\n    if ($selectParent.hasClass('users-field-match')) {\n      match = 'email';\n    }\n\n    if ($(this).val() === match) {\n      $elementCreateContainer.show();\n    } else {\n      $elementCreateContainer.find('input').prop('checked', false);\n      $('.field-extra-settings .element-create input').trigger('change');\n      $elementCreateContainer.hide();\n    }\n  });\n\n  // On-load, hide/show element create container\n  $('.categories-field-match select').trigger('change');\n  $('.entries-field-match select').trigger('change');\n  $('.users-field-match select').trigger('change');\n\n  // For Assets, only show the upload options if we decide to upload\n  $('.assets-uploads input').on('change', function (e) {\n    var $options = $(this).parents('.field-extra-settings').find('.select');\n    var $label = $(this)\n      .parents('.field-extra-settings')\n      .find('.asset-label-hide');\n    var $filenameNode = $(this)\n      .parents('.field-extra-settings')\n      .find('.asset-filename-node');\n\n    if ($(this).prop('checked')) {\n      $label.css({opacity: 1, visibility: 'visible'});\n      $options.css({opacity: 1, visibility: 'visible'});\n      $filenameNode.show();\n    } else {\n      $label.css({opacity: 0, visibility: 'hidden'});\n      $options.css({opacity: 0, visibility: 'hidden'});\n      $filenameNode.hide();\n    }\n  });\n\n  // On-load, hide/show upload options\n  $('.assets-uploads input').trigger('change');\n\n  // For elements, show the grouping select(s)\n  $('.field-extra-settings .element-create input').on('change', function (e) {\n    var $container = $(this)\n      .parents('.field-extra-settings')\n      .find('.element-groups');\n\n    if ($(this).prop('checked')) {\n      $container.show();\n    } else {\n      $container.hide();\n    }\n  });\n\n  $('.field-extra-settings .element-create input').trigger('change');\n\n  // Toggle various field when changing element type\n  $('.field-extra-settings .element-group-section select').on(\n    'change',\n    function (e) {\n      var $container = $(this)\n        .parents('.field-extra-settings')\n        .find('.element-group-entrytype');\n      var sections = $container.data('items');\n      var selectedTypeId = $container.data('selectedtypeid');\n\n      // var sections = $(this).parents('.element-sub-group').data('items');\n      var entryType = 'item_' + $(this).val();\n      var entryTypes = [];\n      if (sections !== undefined) {\n        var entryTypes = sections[entryType];\n      }\n\n      var newOptions = '';\n      $.each(entryTypes, function (index, value) {\n        if (index) {\n          newOptions +=\n            '<option value=\"' +\n            index +\n            '\"' +\n            (index == selectedTypeId ? ' selected=\"selected\"' : '') +\n            '>' +\n            value +\n            '</option>';\n        }\n      });\n\n      $container.find('select').html(newOptions);\n    },\n  );\n\n  $('.field-extra-settings .element-group-section select').trigger('change');\n\n  // Selectize inputs\n  $('.feedme-mapping .selectize select').selectize({\n    allowEmptyOption: true,\n  });\n\n  // Help with sub-element field toggle\n  $('.subelement-toggle label').on('click', function (e) {\n    var $lightswitch = $(this)\n      .parents('.subelement-toggle')\n      .find('.lightswitch')\n      .data('lightswitch');\n\n    $lightswitch.toggle();\n  });\n\n  // Show initially hidden element sub-fields. A little tricky because they're in a table, and all equal siblings\n  $('.subelement-toggle .lightswitch').on('change', function (e) {\n    var $lightswitch = $(this).data('lightswitch');\n    var $tr = $(this).parents('tr');\n    var $directSiblings = $tr.nextUntil(':not(.element-sub-field)');\n\n    $directSiblings.toggle();\n  });\n\n  // If we have any element sub-fields that are being mapped, we want to show the panel to notify users they're mapping stuff\n  $('.element-sub-field').each(function (index, element) {\n    var mappingValue = $(this).find('.col-map select').val();\n    var defaultValue = $(this).find('.col-default input').val();\n\n    var rowValues = [mappingValue, defaultValue];\n    var rowHasValue = false;\n\n    // Check for inputs and selects which have a value\n    $.each(rowValues, function (i, v) {\n      if (v != '' && v != 'noimport' && v !== undefined) {\n        rowHasValue = true;\n      }\n    });\n\n    if (rowHasValue) {\n      var $parentRow = $(this)\n        .prevUntil(':not(.element-sub-field)')\n        .addBack()\n        .prev();\n      var $lightswitch = $parentRow.find('.lightswitch').data('lightswitch');\n\n      $lightswitch.turnOn();\n    }\n  });\n\n  //\n  // Logs\n  //\n  $(document).on('click', '.log-detail-link', function (e) {\n    e.preventDefault();\n\n    var key = $(this).data('key');\n\n    $('tr[data-key=\"' + key + '\"]').toggleClass('hidden');\n  });\n\n  // Allow multiple submit actions, that trigger different actions as required\n  $(document).on('click', 'input[data-action]', function (e) {\n    var $form = $(this).parents('form');\n    var action = $(this).data('action');\n\n    $form.find('input[name=\"action\"]').val(action);\n    $form.submit();\n  });\n\n  $(document).on('change', '.log-type-form .select', function (e) {\n    e.preventDefault();\n\n    $(this).parents('form').submit();\n  });\n});\n","/**\n * sifter.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('sifter', factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Sifter = factory();\n  }\n})(this, function () {\n  /**\n   * Textually searches arrays and hashes of objects\n   * by property (or multiple properties). Designed\n   * specifically for autocomplete.\n   *\n   * @constructor\n   * @param {array|object} items\n   * @param {object} items\n   */\n  var Sifter = function (items, settings) {\n    this.items = items;\n    this.settings = settings || {diacritics: true};\n  };\n\n  /**\n   * Splits a search string into an array of individual\n   * regexps to be used to match results.\n   *\n   * @param {string} query\n   * @returns {array}\n   */\n  Sifter.prototype.tokenize = function (query) {\n    query = trim(String(query || '').toLowerCase());\n    if (!query || !query.length) return [];\n\n    var i, n, regex, letter;\n    var tokens = [];\n    var words = query.split(/ +/);\n\n    for (i = 0, n = words.length; i < n; i++) {\n      regex = escape_regex(words[i]);\n      if (this.settings.diacritics) {\n        for (letter in DIACRITICS) {\n          if (DIACRITICS.hasOwnProperty(letter)) {\n            regex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n          }\n        }\n      }\n      tokens.push({\n        string: words[i],\n        regex: new RegExp(regex, 'i'),\n      });\n    }\n\n    return tokens;\n  };\n\n  /**\n   * Iterates over arrays and hashes.\n   *\n   * ```\n   * this.iterator(this.items, function(item, id) {\n   *    // invoked for each item\n   * });\n   * ```\n   *\n   * @param {array|object} object\n   */\n  Sifter.prototype.iterator = function (object, callback) {\n    var iterator;\n    if (is_array(object)) {\n      iterator =\n        Array.prototype.forEach ||\n        function (callback) {\n          for (var i = 0, n = this.length; i < n; i++) {\n            callback(this[i], i, this);\n          }\n        };\n    } else {\n      iterator = function (callback) {\n        for (var key in this) {\n          if (this.hasOwnProperty(key)) {\n            callback(this[key], key, this);\n          }\n        }\n      };\n    }\n\n    iterator.apply(object, [callback]);\n  };\n\n  /**\n   * Returns a function to be used to score individual results.\n   *\n   * Good matches will have a higher score than poor matches.\n   * If an item is not a match, 0 will be returned by the function.\n   *\n   * @param {object|string} search\n   * @param {object} options (optional)\n   * @returns {function}\n   */\n  Sifter.prototype.getScoreFunction = function (search, options) {\n    var self, fields, tokens, token_count;\n\n    self = this;\n    search = self.prepareSearch(search, options);\n    tokens = search.tokens;\n    fields = search.options.fields;\n    token_count = tokens.length;\n\n    /**\n     * Calculates how close of a match the\n     * given value is against a search token.\n     *\n     * @param {mixed} value\n     * @param {object} token\n     * @return {number}\n     */\n    var scoreValue = function (value, token) {\n      var score, pos;\n\n      if (!value) return 0;\n      value = String(value || '');\n      pos = value.search(token.regex);\n      if (pos === -1) return 0;\n      score = token.string.length / value.length;\n      if (pos === 0) score += 0.5;\n      return score;\n    };\n\n    /**\n     * Calculates the score of an object\n     * against the search query.\n     *\n     * @param {object} token\n     * @param {object} data\n     * @return {number}\n     */\n    var scoreObject = (function () {\n      var field_count = fields.length;\n      if (!field_count) {\n        return function () {\n          return 0;\n        };\n      }\n      if (field_count === 1) {\n        return function (token, data) {\n          return scoreValue(data[fields[0]], token);\n        };\n      }\n      return function (token, data) {\n        for (var i = 0, sum = 0; i < field_count; i++) {\n          sum += scoreValue(data[fields[i]], token);\n        }\n        return sum / field_count;\n      };\n    })();\n\n    if (!token_count) {\n      return function () {\n        return 0;\n      };\n    }\n    if (token_count === 1) {\n      return function (data) {\n        return scoreObject(tokens[0], data);\n      };\n    }\n\n    if (search.options.conjunction === 'and') {\n      return function (data) {\n        var score;\n        for (var i = 0, sum = 0; i < token_count; i++) {\n          score = scoreObject(tokens[i], data);\n          if (score <= 0) return 0;\n          sum += score;\n        }\n        return sum / token_count;\n      };\n    } else {\n      return function (data) {\n        for (var i = 0, sum = 0; i < token_count; i++) {\n          sum += scoreObject(tokens[i], data);\n        }\n        return sum / token_count;\n      };\n    }\n  };\n\n  /**\n   * Returns a function that can be used to compare two\n   * results, for sorting purposes. If no sorting should\n   * be performed, `null` will be returned.\n   *\n   * @param {string|object} search\n   * @param {object} options\n   * @return function(a,b)\n   */\n  Sifter.prototype.getSortFunction = function (search, options) {\n    var i,\n      n,\n      self,\n      field,\n      fields,\n      fields_count,\n      multiplier,\n      multipliers,\n      get_field,\n      implicit_score,\n      sort;\n\n    self = this;\n    search = self.prepareSearch(search, options);\n    sort = (!search.query && options.sort_empty) || options.sort;\n\n    /**\n     * Fetches the specified sort field value\n     * from a search result item.\n     *\n     * @param  {string} name\n     * @param  {object} result\n     * @return {mixed}\n     */\n    get_field = function (name, result) {\n      if (name === '$score') return result.score;\n      return self.items[result.id][name];\n    };\n\n    // parse options\n    fields = [];\n    if (sort) {\n      for (i = 0, n = sort.length; i < n; i++) {\n        if (search.query || sort[i].field !== '$score') {\n          fields.push(sort[i]);\n        }\n      }\n    }\n\n    // the \"$score\" field is implied to be the primary\n    // sort field, unless it's manually specified\n    if (search.query) {\n      implicit_score = true;\n      for (i = 0, n = fields.length; i < n; i++) {\n        if (fields[i].field === '$score') {\n          implicit_score = false;\n          break;\n        }\n      }\n      if (implicit_score) {\n        fields.unshift({field: '$score', direction: 'desc'});\n      }\n    } else {\n      for (i = 0, n = fields.length; i < n; i++) {\n        if (fields[i].field === '$score') {\n          fields.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    multipliers = [];\n    for (i = 0, n = fields.length; i < n; i++) {\n      multipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n    }\n\n    // build function\n    fields_count = fields.length;\n    if (!fields_count) {\n      return null;\n    } else if (fields_count === 1) {\n      field = fields[0].field;\n      multiplier = multipliers[0];\n      return function (a, b) {\n        return multiplier * cmp(get_field(field, a), get_field(field, b));\n      };\n    } else {\n      return function (a, b) {\n        var i, result, a_value, b_value, field;\n        for (i = 0; i < fields_count; i++) {\n          field = fields[i].field;\n          result =\n            multipliers[i] * cmp(get_field(field, a), get_field(field, b));\n          if (result) return result;\n        }\n        return 0;\n      };\n    }\n  };\n\n  /**\n   * Parses a search query and returns an object\n   * with tokens and fields ready to be populated\n   * with results.\n   *\n   * @param {string} query\n   * @param {object} options\n   * @returns {object}\n   */\n  Sifter.prototype.prepareSearch = function (query, options) {\n    if (typeof query === 'object') return query;\n\n    options = extend({}, options);\n\n    var option_fields = options.fields;\n    var option_sort = options.sort;\n    var option_sort_empty = options.sort_empty;\n\n    if (option_fields && !is_array(option_fields))\n      options.fields = [option_fields];\n    if (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n    if (option_sort_empty && !is_array(option_sort_empty))\n      options.sort_empty = [option_sort_empty];\n\n    return {\n      options: options,\n      query: String(query || '').toLowerCase(),\n      tokens: this.tokenize(query),\n      total: 0,\n      items: [],\n    };\n  };\n\n  /**\n   * Searches through all items and returns a sorted array of matches.\n   *\n   * The `options` parameter can contain:\n   *\n   *   - fields {string|array}\n   *   - sort {array}\n   *   - score {function}\n   *   - filter {bool}\n   *   - limit {integer}\n   *\n   * Returns an object containing:\n   *\n   *   - options {object}\n   *   - query {string}\n   *   - tokens {array}\n   *   - total {int}\n   *   - items {array}\n   *\n   * @param {string} query\n   * @param {object} options\n   * @returns {object}\n   */\n  Sifter.prototype.search = function (query, options) {\n    var self = this,\n      value,\n      score,\n      search,\n      calculateScore;\n    var fn_sort;\n    var fn_score;\n\n    search = this.prepareSearch(query, options);\n    options = search.options;\n    query = search.query;\n\n    // generate result scoring function\n    fn_score = options.score || self.getScoreFunction(search);\n\n    // perform search and sort\n    if (query.length) {\n      self.iterator(self.items, function (item, id) {\n        score = fn_score(item);\n        if (options.filter === false || score > 0) {\n          search.items.push({score: score, id: id});\n        }\n      });\n    } else {\n      self.iterator(self.items, function (item, id) {\n        search.items.push({score: 1, id: id});\n      });\n    }\n\n    fn_sort = self.getSortFunction(search, options);\n    if (fn_sort) search.items.sort(fn_sort);\n\n    // apply limits\n    search.total = search.items.length;\n    if (typeof options.limit === 'number') {\n      search.items = search.items.slice(0, options.limit);\n    }\n\n    return search;\n  };\n\n  // utilities\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  var cmp = function (a, b) {\n    if (typeof a === 'number' && typeof b === 'number') {\n      return a > b ? 1 : a < b ? -1 : 0;\n    }\n    a = asciifold(String(a || ''));\n    b = asciifold(String(b || ''));\n    if (a > b) return 1;\n    if (b > a) return -1;\n    return 0;\n  };\n\n  var extend = function (a, b) {\n    var i, n, k, object;\n    for (i = 1, n = arguments.length; i < n; i++) {\n      object = arguments[i];\n      if (!object) continue;\n      for (k in object) {\n        if (object.hasOwnProperty(k)) {\n          a[k] = object[k];\n        }\n      }\n    }\n    return a;\n  };\n\n  var trim = function (str) {\n    return (str + '').replace(/^\\s+|\\s+$|/g, '');\n  };\n\n  var escape_regex = function (str) {\n    return (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n  };\n\n  var is_array =\n    Array.isArray ||\n    ($ && $.isArray) ||\n    function (object) {\n      return Object.prototype.toString.call(object) === '[object Array]';\n    };\n\n  var DIACRITICS = {\n    a: '[a]',\n    c: '[c]',\n    d: '[d]',\n    e: '[e]',\n    i: '[i]',\n    l: '[l]',\n    n: '[n]',\n    o: '[o]',\n    r: '[r]',\n    s: '[s]',\n    t: '[t]',\n    u: '[u]',\n    y: '[y]',\n    z: '[z]',\n  };\n\n  var asciifold = (function () {\n    var i, n, k, chunk;\n    var foreignletters = '';\n    var lookup = {};\n    for (k in DIACRITICS) {\n      if (DIACRITICS.hasOwnProperty(k)) {\n        chunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n        foreignletters += chunk;\n        for (i = 0, n = chunk.length; i < n; i++) {\n          lookup[chunk.charAt(i)] = k;\n        }\n      }\n    }\n    var regexp = new RegExp('[' + foreignletters + ']', 'g');\n    return function (str) {\n      return str\n        .replace(regexp, function (foreignletter) {\n          return lookup[foreignletter];\n        })\n        .toLowerCase();\n    };\n  })();\n\n  // export\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  return Sifter;\n});\n\n/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('microplugin', factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.MicroPlugin = factory();\n  }\n})(this, function () {\n  var MicroPlugin = {};\n\n  MicroPlugin.mixin = function (Interface) {\n    Interface.plugins = {};\n\n    /**\n     * Initializes the listed plugins (with options).\n     * Acceptable formats:\n     *\n     * List (without options):\n     *   ['a', 'b', 'c']\n     *\n     * List (with options):\n     *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n     *\n     * Hash (with options):\n     *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n     *\n     * @param {mixed} plugins\n     */\n    Interface.prototype.initializePlugins = function (plugins) {\n      var i, n, key;\n      var self = this;\n      var queue = [];\n\n      self.plugins = {\n        names: [],\n        settings: {},\n        requested: {},\n        loaded: {},\n      };\n\n      if (utils.isArray(plugins)) {\n        for (i = 0, n = plugins.length; i < n; i++) {\n          if (typeof plugins[i] === 'string') {\n            queue.push(plugins[i]);\n          } else {\n            self.plugins.settings[plugins[i].name] = plugins[i].options;\n            queue.push(plugins[i].name);\n          }\n        }\n      } else if (plugins) {\n        for (key in plugins) {\n          if (plugins.hasOwnProperty(key)) {\n            self.plugins.settings[key] = plugins[key];\n            queue.push(key);\n          }\n        }\n      }\n\n      while (queue.length) {\n        self.require(queue.shift());\n      }\n    };\n\n    Interface.prototype.loadPlugin = function (name) {\n      var self = this;\n      var plugins = self.plugins;\n      var plugin = Interface.plugins[name];\n\n      if (!Interface.plugins.hasOwnProperty(name)) {\n        throw new Error('Unable to find \"' + name + '\" plugin');\n      }\n\n      plugins.requested[name] = true;\n      plugins.loaded[name] = plugin.fn.apply(self, [\n        self.plugins.settings[name] || {},\n      ]);\n      plugins.names.push(name);\n    };\n\n    /**\n     * Initializes a plugin.\n     *\n     * @param {string} name\n     */\n    Interface.prototype.require = function (name) {\n      var self = this;\n      var plugins = self.plugins;\n\n      if (!self.plugins.loaded.hasOwnProperty(name)) {\n        if (plugins.requested[name]) {\n          throw new Error('Plugin has circular dependency (\"' + name + '\")');\n        }\n        self.loadPlugin(name);\n      }\n\n      return plugins.loaded[name];\n    };\n\n    /**\n     * Registers a plugin.\n     *\n     * @param {string} name\n     * @param {function} fn\n     */\n    Interface.define = function (name, fn) {\n      Interface.plugins[name] = {\n        name: name,\n        fn: fn,\n      };\n    };\n  };\n\n  var utils = {\n    isArray:\n      Array.isArray ||\n      function (vArg) {\n        return Object.prototype.toString.call(vArg) === '[object Array]';\n      },\n  };\n\n  return MicroPlugin;\n});\n\n/**\n * selectize.js (v0.12.1)\n * Copyright (c) 20132015 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/*jshint curly:false */\n/*jshint browser:true */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('selectize', ['jquery', 'sifter', 'microplugin'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(\n      require('jquery'),\n      require('sifter'),\n      require('microplugin'),\n    );\n  } else {\n    root.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n  }\n})(this, function ($, Sifter, MicroPlugin) {\n  'use strict';\n\n  var highlight = function ($element, pattern) {\n    if (typeof pattern === 'string' && !pattern.length) return;\n    var regex =\n      typeof pattern === 'string' ? new RegExp(pattern, 'i') : pattern;\n\n    var highlight = function (node) {\n      var skip = 0;\n      if (node.nodeType === 3) {\n        var pos = node.data.search(regex);\n        if (pos >= 0 && node.data.length > 0) {\n          var match = node.data.match(regex);\n          var spannode = document.createElement('span');\n          spannode.className = 'highlight';\n          var middlebit = node.splitText(pos);\n          var endbit = middlebit.splitText(match[0].length);\n          var middleclone = middlebit.cloneNode(true);\n          spannode.appendChild(middleclone);\n          middlebit.parentNode.replaceChild(spannode, middlebit);\n          skip = 1;\n        }\n      } else if (\n        node.nodeType === 1 &&\n        node.childNodes &&\n        !/(script|style)/i.test(node.tagName)\n      ) {\n        for (var i = 0; i < node.childNodes.length; ++i) {\n          i += highlight(node.childNodes[i]);\n        }\n      }\n      return skip;\n    };\n\n    return $element.each(function () {\n      highlight(this);\n    });\n  };\n\n  var MicroEvent = function () {};\n  MicroEvent.prototype = {\n    on: function (event, fct) {\n      this._events = this._events || {};\n      this._events[event] = this._events[event] || [];\n      this._events[event].push(fct);\n    },\n    off: function (event, fct) {\n      var n = arguments.length;\n      if (n === 0) return delete this._events;\n      if (n === 1) return delete this._events[event];\n\n      this._events = this._events || {};\n      if (event in this._events === false) return;\n      this._events[event].splice(this._events[event].indexOf(fct), 1);\n    },\n    trigger: function (event /* , args... */) {\n      this._events = this._events || {};\n      if (event in this._events === false) return;\n      for (var i = 0; i < this._events[event].length; i++) {\n        this._events[event][i].apply(\n          this,\n          Array.prototype.slice.call(arguments, 1),\n        );\n      }\n    },\n  };\n\n  /**\n   * Mixin will delegate all MicroEvent.js function in the destination object.\n   *\n   * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n   *\n   * @param {object} the object which will support MicroEvent\n   */\n  MicroEvent.mixin = function (destObject) {\n    var props = ['on', 'off', 'trigger'];\n    for (var i = 0; i < props.length; i++) {\n      destObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n    }\n  };\n\n  var IS_MAC = /Mac/.test(navigator.userAgent);\n\n  var KEY_A = 65;\n  var KEY_COMMA = 188;\n  var KEY_RETURN = 13;\n  var KEY_ESC = 27;\n  var KEY_LEFT = 37;\n  var KEY_UP = 38;\n  var KEY_P = 80;\n  var KEY_RIGHT = 39;\n  var KEY_DOWN = 40;\n  var KEY_N = 78;\n  var KEY_BACKSPACE = 8;\n  var KEY_DELETE = 46;\n  var KEY_SHIFT = 16;\n  var KEY_CMD = IS_MAC ? 91 : 17;\n  var KEY_CTRL = IS_MAC ? 18 : 17;\n  var KEY_TAB = 9;\n\n  var TAG_SELECT = 1;\n  var TAG_INPUT = 2;\n\n  // for now, android support in general is too spotty to support validity\n  var SUPPORTS_VALIDITY_API =\n    !/android/i.test(window.navigator.userAgent) &&\n    !!document.createElement('form').validity;\n\n  var isset = function (object) {\n    return typeof object !== 'undefined';\n  };\n\n  /**\n   * Converts a scalar to its best string representation\n   * for hash keys and HTML attribute values.\n   *\n   * Transformations:\n   *   'str'     -> 'str'\n   *   null      -> ''\n   *   undefined -> ''\n   *   true      -> '1'\n   *   false     -> '0'\n   *   0         -> '0'\n   *   1         -> '1'\n   *\n   * @param {string} value\n   * @returns {string|null}\n   */\n  var hash_key = function (value) {\n    if (typeof value === 'undefined' || value === null) return null;\n    if (typeof value === 'boolean') return value ? '1' : '0';\n    return value + '';\n  };\n\n  /**\n   * Escapes a string for use within HTML.\n   *\n   * @param {string} str\n   * @returns {string}\n   */\n  var escape_html = function (str) {\n    return (str + '')\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/\"/g, '&quot;');\n  };\n\n  /**\n   * Escapes \"$\" characters in replacement strings.\n   *\n   * @param {string} str\n   * @returns {string}\n   */\n  var escape_replace = function (str) {\n    return (str + '').replace(/\\$/g, '$$$$');\n  };\n\n  var hook = {};\n\n  /**\n   * Wraps `method` on `self` so that `fn`\n   * is invoked before the original method.\n   *\n   * @param {object} self\n   * @param {string} method\n   * @param {function} fn\n   */\n  hook.before = function (self, method, fn) {\n    var original = self[method];\n    self[method] = function () {\n      fn.apply(self, arguments);\n      return original.apply(self, arguments);\n    };\n  };\n\n  /**\n   * Wraps `method` on `self` so that `fn`\n   * is invoked after the original method.\n   *\n   * @param {object} self\n   * @param {string} method\n   * @param {function} fn\n   */\n  hook.after = function (self, method, fn) {\n    var original = self[method];\n    self[method] = function () {\n      var result = original.apply(self, arguments);\n      fn.apply(self, arguments);\n      return result;\n    };\n  };\n\n  /**\n   * Wraps `fn` so that it can only be invoked once.\n   *\n   * @param {function} fn\n   * @returns {function}\n   */\n  var once = function (fn) {\n    var called = false;\n    return function () {\n      if (called) return;\n      called = true;\n      fn.apply(this, arguments);\n    };\n  };\n\n  /**\n   * Wraps `fn` so that it can only be called once\n   * every `delay` milliseconds (invoked on the falling edge).\n   *\n   * @param {function} fn\n   * @param {int} delay\n   * @returns {function}\n   */\n  var debounce = function (fn, delay) {\n    var timeout;\n    return function () {\n      var self = this;\n      var args = arguments;\n      window.clearTimeout(timeout);\n      timeout = window.setTimeout(function () {\n        fn.apply(self, args);\n      }, delay);\n    };\n  };\n\n  /**\n   * Debounce all fired events types listed in `types`\n   * while executing the provided `fn`.\n   *\n   * @param {object} self\n   * @param {array} types\n   * @param {function} fn\n   */\n  var debounce_events = function (self, types, fn) {\n    var type;\n    var trigger = self.trigger;\n    var event_args = {};\n\n    // override trigger method\n    self.trigger = function () {\n      var type = arguments[0];\n      if (types.indexOf(type) !== -1) {\n        event_args[type] = arguments;\n      } else {\n        return trigger.apply(self, arguments);\n      }\n    };\n\n    // invoke provided function\n    fn.apply(self, []);\n    self.trigger = trigger;\n\n    // trigger queued events\n    for (type in event_args) {\n      if (event_args.hasOwnProperty(type)) {\n        trigger.apply(self, event_args[type]);\n      }\n    }\n  };\n\n  /**\n   * A workaround for http://bugs.jquery.com/ticket/6696\n   *\n   * @param {object} $parent - Parent element to listen on.\n   * @param {string} event - Event name.\n   * @param {string} selector - Descendant selector to filter by.\n   * @param {function} fn - Event handler.\n   */\n  var watchChildEvent = function ($parent, event, selector, fn) {\n    $parent.on(event, selector, function (e) {\n      var child = e.target;\n      while (child && child.parentNode !== $parent[0]) {\n        child = child.parentNode;\n      }\n      e.currentTarget = child;\n      return fn.apply(this, [e]);\n    });\n  };\n\n  /**\n   * Determines the current selection within a text input control.\n   * Returns an object containing:\n   *   - start\n   *   - length\n   *\n   * @param {object} input\n   * @returns {object}\n   */\n  var getSelection = function (input) {\n    var result = {};\n    if ('selectionStart' in input) {\n      result.start = input.selectionStart;\n      result.length = input.selectionEnd - result.start;\n    } else if (document.selection) {\n      input.focus();\n      var sel = document.selection.createRange();\n      var selLen = document.selection.createRange().text.length;\n      sel.moveStart('character', -input.value.length);\n      result.start = sel.text.length - selLen;\n      result.length = selLen;\n    }\n    return result;\n  };\n\n  /**\n   * Copies CSS properties from one element to another.\n   *\n   * @param {object} $from\n   * @param {object} $to\n   * @param {array} properties\n   */\n  var transferStyles = function ($from, $to, properties) {\n    var i,\n      n,\n      styles = {};\n    if (properties) {\n      for (i = 0, n = properties.length; i < n; i++) {\n        styles[properties[i]] = $from.css(properties[i]);\n      }\n    } else {\n      styles = $from.css();\n    }\n    $to.css(styles);\n  };\n\n  /**\n   * Measures the width of a string within a\n   * parent element (in pixels).\n   *\n   * @param {string} str\n   * @param {object} $parent\n   * @returns {int}\n   */\n  var measureString = function (str, $parent) {\n    if (!str) {\n      return 0;\n    }\n\n    var $test = $('<test>')\n      .css({\n        position: 'absolute',\n        top: -99999,\n        left: -99999,\n        width: 'auto',\n        padding: 0,\n        whiteSpace: 'pre',\n      })\n      .text(str)\n      .appendTo('body');\n\n    transferStyles($parent, $test, [\n      'letterSpacing',\n      'fontSize',\n      'fontFamily',\n      'fontWeight',\n      'textTransform',\n    ]);\n\n    var width = $test.width();\n    $test.remove();\n\n    return width;\n  };\n\n  /**\n   * Sets up an input to grow horizontally as the user\n   * types. If the value is changed manually, you can\n   * trigger the \"update\" handler to resize:\n   *\n   * $input.trigger('update');\n   *\n   * @param {object} $input\n   */\n  var autoGrow = function ($input) {\n    var currentWidth = null;\n\n    var update = function (e, options) {\n      var value, keyCode, printable, placeholder, width;\n      var shift, character, selection;\n      e = e || window.event || {};\n      options = options || {};\n\n      if (e.metaKey || e.altKey) return;\n      if (!options.force && $input.data('grow') === false) return;\n\n      value = $input.val();\n      if (e.type && e.type.toLowerCase() === 'keydown') {\n        keyCode = e.keyCode;\n        printable =\n          (keyCode >= 97 && keyCode <= 122) || // a-z\n          (keyCode >= 65 && keyCode <= 90) || // A-Z\n          (keyCode >= 48 && keyCode <= 57) || // 0-9\n          keyCode === 32; // space\n\n        if (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n          selection = getSelection($input[0]);\n          if (selection.length) {\n            value =\n              value.substring(0, selection.start) +\n              value.substring(selection.start + selection.length);\n          } else if (keyCode === KEY_BACKSPACE && selection.start) {\n            value =\n              value.substring(0, selection.start - 1) +\n              value.substring(selection.start + 1);\n          } else if (\n            keyCode === KEY_DELETE &&\n            typeof selection.start !== 'undefined'\n          ) {\n            value =\n              value.substring(0, selection.start) +\n              value.substring(selection.start + 1);\n          }\n        } else if (printable) {\n          shift = e.shiftKey;\n          character = String.fromCharCode(e.keyCode);\n          if (shift) character = character.toUpperCase();\n          else character = character.toLowerCase();\n          value += character;\n        }\n      }\n\n      placeholder = $input.attr('placeholder');\n      if (!value && placeholder) {\n        value = placeholder;\n      }\n\n      width = measureString(value, $input) + 4;\n      if (width !== currentWidth) {\n        currentWidth = width;\n        $input.width(width);\n        $input.triggerHandler('resize');\n      }\n    };\n\n    $input.on('keydown keyup update blur', update);\n    update();\n  };\n\n  var Selectize = function ($input, settings) {\n    var key,\n      i,\n      n,\n      dir,\n      input,\n      self = this;\n    input = $input[0];\n    input.selectize = self;\n\n    // detect rtl environment\n    var computedStyle =\n      window.getComputedStyle && window.getComputedStyle(input, null);\n    dir = computedStyle\n      ? computedStyle.getPropertyValue('direction')\n      : input.currentStyle && input.currentStyle.direction;\n    dir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\n    // setup default state\n    $.extend(self, {\n      order: 0,\n      settings: settings,\n      $input: $input,\n      tabIndex: $input.attr('tabindex') || '',\n      tagType:\n        input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n      rtl: /rtl/i.test(dir),\n\n      eventNS: '.selectize' + ++Selectize.count,\n      highlightedValue: null,\n      isOpen: false,\n      isDisabled: false,\n      isRequired: $input.is('[required]'),\n      isInvalid: false,\n      isLocked: false,\n      isFocused: false,\n      isInputHidden: false,\n      isSetup: false,\n      isShiftDown: false,\n      isCmdDown: false,\n      isCtrlDown: false,\n      ignoreFocus: false,\n      ignoreBlur: false,\n      ignoreHover: false,\n      hasOptions: false,\n      currentResults: null,\n      lastValue: '',\n      caretPos: 0,\n      loading: 0,\n      loadedSearches: {},\n\n      $activeOption: null,\n      $activeItems: [],\n\n      optgroups: {},\n      options: {},\n      userOptions: {},\n      items: [],\n      renderCache: {},\n      onSearchChange:\n        settings.loadThrottle === null\n          ? self.onSearchChange\n          : debounce(self.onSearchChange, settings.loadThrottle),\n    });\n\n    // search system\n    self.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\n    // build options table\n    if (self.settings.options) {\n      for (i = 0, n = self.settings.options.length; i < n; i++) {\n        self.registerOption(self.settings.options[i]);\n      }\n      delete self.settings.options;\n    }\n\n    // build optgroup table\n    if (self.settings.optgroups) {\n      for (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n        self.registerOptionGroup(self.settings.optgroups[i]);\n      }\n      delete self.settings.optgroups;\n    }\n\n    // option-dependent defaults\n    self.settings.mode =\n      self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n    if (typeof self.settings.hideSelected !== 'boolean') {\n      self.settings.hideSelected = self.settings.mode === 'multi';\n    }\n\n    self.initializePlugins(self.settings.plugins);\n    self.setupCallbacks();\n    self.setupTemplates();\n    self.setup();\n  };\n\n  // mixins\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  MicroEvent.mixin(Selectize);\n  MicroPlugin.mixin(Selectize);\n\n  // methods\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  $.extend(Selectize.prototype, {\n    /**\n     * Creates all elements and sets up event bindings.\n     */\n    setup: function () {\n      var self = this;\n      var settings = self.settings;\n      var eventNS = self.eventNS;\n      var $window = $(window);\n      var $document = $(document);\n      var $input = self.$input;\n\n      var $wrapper;\n      var $control;\n      var $control_input;\n      var $dropdown;\n      var $dropdown_content;\n      var $dropdown_parent;\n      var inputMode;\n      var timeout_blur;\n      var timeout_focus;\n      var classes;\n      var classes_plugins;\n\n      inputMode = self.settings.mode;\n      classes = $input.attr('class') || '';\n\n      $wrapper = $('<div>')\n        .addClass(settings.wrapperClass)\n        .addClass(classes)\n        .addClass(inputMode);\n      $control = $('<div>')\n        .addClass(settings.inputClass)\n        .addClass('items')\n        .appendTo($wrapper);\n      /* HACK */\n      //$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n      $control_input = $('<input type=\"text\" autocomplete=\"false\" />')\n        .appendTo($control)\n        .attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n      /* END HACK */\n      $dropdown_parent = $(settings.dropdownParent || $wrapper);\n      $dropdown = $('<div>')\n        .addClass(settings.dropdownClass)\n        .addClass(inputMode)\n        .hide()\n        .appendTo($dropdown_parent);\n      $dropdown_content = $('<div>')\n        .addClass(settings.dropdownContentClass)\n        .appendTo($dropdown);\n\n      if (self.settings.copyClassesToDropdown) {\n        $dropdown.addClass(classes);\n      }\n\n      $wrapper.css({\n        width: $input[0].style.width,\n      });\n\n      if (self.plugins.names.length) {\n        classes_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n        $wrapper.addClass(classes_plugins);\n        $dropdown.addClass(classes_plugins);\n      }\n\n      if (\n        (settings.maxItems === null || settings.maxItems > 1) &&\n        self.tagType === TAG_SELECT\n      ) {\n        $input.attr('multiple', 'multiple');\n      }\n\n      if (self.settings.placeholder) {\n        $control_input.attr('placeholder', settings.placeholder);\n      }\n\n      // if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n      if (!self.settings.splitOn && self.settings.delimiter) {\n        var delimiterEscaped = self.settings.delimiter.replace(\n          /[-\\/\\\\^$*+?.()|[\\]{}]/g,\n          '\\\\$&',\n        );\n        self.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n      }\n\n      if ($input.attr('autocorrect')) {\n        $control_input.attr('autocorrect', $input.attr('autocorrect'));\n      }\n\n      if ($input.attr('autocapitalize')) {\n        $control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n      }\n\n      self.$wrapper = $wrapper;\n      self.$control = $control;\n      self.$control_input = $control_input;\n      self.$dropdown = $dropdown;\n      self.$dropdown_content = $dropdown_content;\n\n      $dropdown.on('mouseenter', '[data-selectable]', function () {\n        return self.onOptionHover.apply(self, arguments);\n      });\n      $dropdown.on('mousedown click', '[data-selectable]', function () {\n        return self.onOptionSelect.apply(self, arguments);\n      });\n      watchChildEvent($control, 'mousedown', '*:not(input)', function () {\n        return self.onItemSelect.apply(self, arguments);\n      });\n      autoGrow($control_input);\n\n      $control.on({\n        mousedown: function () {\n          return self.onMouseDown.apply(self, arguments);\n        },\n        click: function () {\n          return self.onClick.apply(self, arguments);\n        },\n      });\n\n      $control_input.on({\n        mousedown: function (e) {\n          e.stopPropagation();\n        },\n        keydown: function () {\n          return self.onKeyDown.apply(self, arguments);\n        },\n        keyup: function () {\n          return self.onKeyUp.apply(self, arguments);\n        },\n        keypress: function () {\n          return self.onKeyPress.apply(self, arguments);\n        },\n        resize: function () {\n          self.positionDropdown.apply(self, []);\n        },\n        blur: function () {\n          return self.onBlur.apply(self, arguments);\n        },\n        focus: function () {\n          self.ignoreBlur = false;\n          return self.onFocus.apply(self, arguments);\n        },\n        paste: function () {\n          return self.onPaste.apply(self, arguments);\n        },\n      });\n\n      $document.on('keydown' + eventNS, function (e) {\n        self.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n        self.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n        self.isShiftDown = e.shiftKey;\n      });\n\n      $document.on('keyup' + eventNS, function (e) {\n        if (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n        if (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n        if (e.keyCode === KEY_CMD) self.isCmdDown = false;\n      });\n\n      $document.on('mousedown' + eventNS, function (e) {\n        if (self.isFocused) {\n          // prevent events on the dropdown scrollbar from causing the control to blur\n          if (\n            e.target === self.$dropdown[0] ||\n            e.target.parentNode === self.$dropdown[0]\n          ) {\n            return false;\n          }\n          // blur on click outside\n          if (\n            !self.$control.has(e.target).length &&\n            e.target !== self.$control[0]\n          ) {\n            self.blur(e.target);\n          }\n        }\n      });\n\n      $window.on(\n        ['scroll' + eventNS, 'resize' + eventNS].join(' '),\n        function () {\n          if (self.isOpen) {\n            self.positionDropdown.apply(self, arguments);\n          }\n        },\n      );\n      $window.on('mousemove' + eventNS, function () {\n        self.ignoreHover = false;\n      });\n\n      // store original children and tab index so that they can be\n      // restored when the destroy() method is called.\n      this.revertSettings = {\n        $children: $input.children().detach(),\n        tabindex: $input.attr('tabindex'),\n      };\n\n      $input.attr('tabindex', -1).hide().after(self.$wrapper);\n\n      if ($.isArray(settings.items)) {\n        self.setValue(settings.items);\n        delete settings.items;\n      }\n\n      // feature detect for the validation API\n      if (SUPPORTS_VALIDITY_API) {\n        $input.on('invalid' + eventNS, function (e) {\n          e.preventDefault();\n          self.isInvalid = true;\n          self.refreshState();\n        });\n      }\n\n      self.updateOriginalInput();\n      self.refreshItems();\n      self.refreshState();\n      self.updatePlaceholder();\n      self.isSetup = true;\n\n      if ($input.is(':disabled')) {\n        self.disable();\n      }\n\n      self.on('change', this.onChange);\n\n      $input.data('selectize', self);\n      $input.addClass('selectized');\n      self.trigger('initialize');\n\n      // preload options\n      if (settings.preload === true) {\n        self.onSearchChange('');\n      }\n    },\n\n    /**\n     * Sets up default rendering functions.\n     */\n    setupTemplates: function () {\n      var self = this;\n      var field_label = self.settings.labelField;\n      var field_optgroup = self.settings.optgroupLabelField;\n\n      var templates = {\n        optgroup: function (data) {\n          return '<div class=\"optgroup\">' + data.html + '</div>';\n        },\n        optgroup_header: function (data, escape) {\n          return (\n            '<div class=\"optgroup-header\">' +\n            escape(data[field_optgroup]) +\n            '</div>'\n          );\n        },\n        option: function (data, escape) {\n          return '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n        },\n        item: function (data, escape) {\n          return '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n        },\n        option_create: function (data, escape) {\n          return (\n            '<div class=\"create\">Add <strong>' +\n            escape(data.input) +\n            '</strong>&hellip;</div>'\n          );\n        },\n      };\n\n      self.settings.render = $.extend({}, templates, self.settings.render);\n    },\n\n    /**\n     * Maps fired events to callbacks provided\n     * in the settings used when creating the control.\n     */\n    setupCallbacks: function () {\n      var key,\n        fn,\n        callbacks = {\n          initialize: 'onInitialize',\n          change: 'onChange',\n          item_add: 'onItemAdd',\n          item_remove: 'onItemRemove',\n          clear: 'onClear',\n          option_add: 'onOptionAdd',\n          option_remove: 'onOptionRemove',\n          option_clear: 'onOptionClear',\n          optgroup_add: 'onOptionGroupAdd',\n          optgroup_remove: 'onOptionGroupRemove',\n          optgroup_clear: 'onOptionGroupClear',\n          dropdown_open: 'onDropdownOpen',\n          dropdown_close: 'onDropdownClose',\n          type: 'onType',\n          load: 'onLoad',\n          focus: 'onFocus',\n          blur: 'onBlur',\n        };\n\n      for (key in callbacks) {\n        if (callbacks.hasOwnProperty(key)) {\n          fn = this.settings[callbacks[key]];\n          if (fn) this.on(key, fn);\n        }\n      }\n    },\n\n    /**\n     * Triggered when the main control element\n     * has a click event.\n     *\n     * @param {object} e\n     * @return {boolean}\n     */\n    onClick: function (e) {\n      var self = this;\n\n      // necessary for mobile webkit devices (manual focus triggering\n      // is ignored unless invoked within a click event)\n      if (!self.isFocused) {\n        self.focus();\n        e.preventDefault();\n      }\n    },\n\n    /**\n     * Triggered when the main control element\n     * has a mouse down event.\n     *\n     * @param {object} e\n     * @return {boolean}\n     */\n    onMouseDown: function (e) {\n      var self = this;\n      var defaultPrevented = e.isDefaultPrevented();\n      var $target = $(e.target);\n\n      if (self.isFocused) {\n        // retain focus by preventing native handling. if the\n        // event target is the input it should not be modified.\n        // otherwise, text selection within the input won't work.\n        if (e.target !== self.$control_input[0]) {\n          if (self.settings.mode === 'single') {\n            // toggle dropdown\n            self.isOpen ? self.close() : self.open();\n          } else if (!defaultPrevented) {\n            self.setActiveItem(null);\n          }\n          return false;\n        }\n      } else {\n        // give control focus\n        if (!defaultPrevented) {\n          window.setTimeout(function () {\n            self.focus();\n          }, 0);\n        }\n      }\n    },\n\n    /**\n     * Triggered when the value of the control has been changed.\n     * This should propagate the event to the original DOM\n     * input / select element.\n     */\n    onChange: function () {\n      this.$input.trigger('change');\n    },\n\n    /**\n     * Triggered on <input> paste.\n     *\n     * @param {object} e\n     * @returns {boolean}\n     */\n    onPaste: function (e) {\n      var self = this;\n      if (self.isFull() || self.isInputHidden || self.isLocked) {\n        e.preventDefault();\n      } else {\n        // If a regex or string is included, this will split the pasted\n        // input and create Items for each separate value\n        if (self.settings.splitOn) {\n          setTimeout(function () {\n            var splitInput = $.trim(self.$control_input.val() || '').split(\n              self.settings.splitOn,\n            );\n            for (var i = 0, n = splitInput.length; i < n; i++) {\n              self.createItem(splitInput[i]);\n            }\n          }, 0);\n        }\n      }\n    },\n\n    /**\n     * Triggered on <input> keypress.\n     *\n     * @param {object} e\n     * @returns {boolean}\n     */\n    onKeyPress: function (e) {\n      if (this.isLocked) return e && e.preventDefault();\n      var character = String.fromCharCode(e.keyCode || e.which);\n      if (\n        this.settings.create &&\n        this.settings.mode === 'multi' &&\n        character === this.settings.delimiter\n      ) {\n        this.createItem();\n        e.preventDefault();\n        return false;\n      }\n    },\n\n    /**\n     * Triggered on <input> keydown.\n     *\n     * @param {object} e\n     * @returns {boolean}\n     */\n    onKeyDown: function (e) {\n      var isInput = e.target === this.$control_input[0];\n      var self = this;\n\n      if (self.isLocked) {\n        if (e.keyCode !== KEY_TAB) {\n          e.preventDefault();\n        }\n        return;\n      }\n\n      switch (e.keyCode) {\n        case KEY_A:\n          if (self.isCmdDown) {\n            self.selectAll();\n            return;\n          }\n          break;\n        case KEY_ESC:\n          if (self.isOpen) {\n            e.preventDefault();\n            e.stopPropagation();\n            self.close();\n          }\n          return;\n        case KEY_N:\n          if (!e.ctrlKey || e.altKey) break;\n        case KEY_DOWN:\n          if (!self.isOpen && self.hasOptions) {\n            self.open();\n          } else if (self.$activeOption) {\n            self.ignoreHover = true;\n            var $next = self.getAdjacentOption(self.$activeOption, 1);\n            if ($next.length) self.setActiveOption($next, true, true);\n          }\n          e.preventDefault();\n          return;\n        case KEY_P:\n          if (!e.ctrlKey || e.altKey) break;\n        case KEY_UP:\n          if (self.$activeOption) {\n            self.ignoreHover = true;\n            var $prev = self.getAdjacentOption(self.$activeOption, -1);\n            if ($prev.length) self.setActiveOption($prev, true, true);\n          }\n          e.preventDefault();\n          return;\n        case KEY_RETURN:\n          if (self.isOpen && self.$activeOption) {\n            self.onOptionSelect({currentTarget: self.$activeOption});\n            e.preventDefault();\n          }\n          return;\n        case KEY_LEFT:\n          self.advanceSelection(-1, e);\n          return;\n        case KEY_RIGHT:\n          self.advanceSelection(1, e);\n          return;\n        case KEY_TAB:\n          if (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n            self.onOptionSelect({currentTarget: self.$activeOption});\n\n            // Default behaviour is to jump to the next field, we only want this\n            // if the current field doesn't accept any more entries\n            if (!self.isFull()) {\n              e.preventDefault();\n            }\n          }\n          if (self.settings.create && self.createItem()) {\n            e.preventDefault();\n          }\n          return;\n        case KEY_BACKSPACE:\n        case KEY_DELETE:\n          self.deleteSelection(e);\n          return;\n      }\n\n      if (\n        (self.isFull() || self.isInputHidden) &&\n        !(IS_MAC ? e.metaKey : e.ctrlKey)\n      ) {\n        e.preventDefault();\n        return;\n      }\n    },\n\n    /**\n     * Triggered on <input> keyup.\n     *\n     * @param {object} e\n     * @returns {boolean}\n     */\n    onKeyUp: function (e) {\n      var self = this;\n\n      if (self.isLocked) return e && e.preventDefault();\n      var value = self.$control_input.val() || '';\n      if (self.lastValue !== value) {\n        self.lastValue = value;\n        self.onSearchChange(value);\n        self.refreshOptions();\n        self.trigger('type', value);\n      }\n    },\n\n    /**\n     * Invokes the user-provide option provider / loader.\n     *\n     * Note: this function is debounced in the Selectize\n     * constructor (by `settings.loadDelay` milliseconds)\n     *\n     * @param {string} value\n     */\n    onSearchChange: function (value) {\n      var self = this;\n      var fn = self.settings.load;\n      if (!fn) return;\n      if (self.loadedSearches.hasOwnProperty(value)) return;\n      self.loadedSearches[value] = true;\n      self.load(function (callback) {\n        fn.apply(self, [value, callback]);\n      });\n    },\n\n    /**\n     * Triggered on <input> focus.\n     *\n     * @param {object} e (optional)\n     * @returns {boolean}\n     */\n    onFocus: function (e) {\n      var self = this;\n      var wasFocused = self.isFocused;\n\n      if (self.isDisabled) {\n        self.blur();\n        e && e.preventDefault();\n        return false;\n      }\n\n      if (self.ignoreFocus) return;\n      self.isFocused = true;\n      if (self.settings.preload === 'focus') self.onSearchChange('');\n\n      if (!wasFocused) self.trigger('focus');\n\n      if (!self.$activeItems.length) {\n        self.showInput();\n        self.setActiveItem(null);\n        self.refreshOptions(!!self.settings.openOnFocus);\n      }\n\n      self.refreshState();\n    },\n\n    /**\n     * Triggered on <input> blur.\n     *\n     * @param {object} e\n     * @param {Element} dest\n     */\n    onBlur: function (e, dest) {\n      var self = this;\n      if (!self.isFocused) return;\n      self.isFocused = false;\n\n      if (self.ignoreFocus) {\n        return;\n      } else if (\n        !self.ignoreBlur &&\n        document.activeElement === self.$dropdown_content[0]\n      ) {\n        // necessary to prevent IE closing the dropdown when the scrollbar is clicked\n        self.ignoreBlur = true;\n        self.onFocus(e);\n        return;\n      }\n\n      var deactivate = function () {\n        self.close();\n        self.setTextboxValue('');\n        self.setActiveItem(null);\n        self.setActiveOption(null);\n        self.setCaret(self.items.length);\n        self.refreshState();\n\n        // IE11 bug: element still marked as active\n        (dest || document.body).focus();\n\n        self.ignoreFocus = false;\n        self.trigger('blur');\n      };\n\n      self.ignoreFocus = true;\n      if (self.settings.create && self.settings.createOnBlur) {\n        self.createItem(null, false, deactivate);\n      } else {\n        deactivate();\n      }\n    },\n\n    /**\n     * Triggered when the user rolls over\n     * an option in the autocomplete dropdown menu.\n     *\n     * @param {object} e\n     * @returns {boolean}\n     */\n    onOptionHover: function (e) {\n      if (this.ignoreHover) return;\n      this.setActiveOption(e.currentTarget, false);\n    },\n\n    /**\n     * Triggered when the user clicks on an option\n     * in the autocomplete dropdown menu.\n     *\n     * @param {object} e\n     * @returns {boolean}\n     */\n    onOptionSelect: function (e) {\n      var value,\n        $target,\n        $option,\n        self = this;\n\n      if (e.preventDefault) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      $target = $(e.currentTarget);\n      if ($target.hasClass('create')) {\n        self.createItem(null, function () {\n          if (self.settings.closeAfterSelect) {\n            self.close();\n          }\n        });\n      } else {\n        value = $target.attr('data-value');\n        if (typeof value !== 'undefined') {\n          self.lastQuery = null;\n          self.setTextboxValue('');\n          self.addItem(value);\n          if (self.settings.closeAfterSelect) {\n            self.close();\n          } else if (\n            !self.settings.hideSelected &&\n            e.type &&\n            /mouse/.test(e.type)\n          ) {\n            self.setActiveOption(self.getOption(value));\n          }\n        }\n      }\n    },\n\n    /**\n     * Triggered when the user clicks on an item\n     * that has been selected.\n     *\n     * @param {object} e\n     * @returns {boolean}\n     */\n    onItemSelect: function (e) {\n      var self = this;\n\n      if (self.isLocked) return;\n      if (self.settings.mode === 'multi') {\n        e.preventDefault();\n        self.setActiveItem(e.currentTarget, e);\n      }\n    },\n\n    /**\n     * Invokes the provided method that provides\n     * results to a callback---which are then added\n     * as options to the control.\n     *\n     * @param {function} fn\n     */\n    load: function (fn) {\n      var self = this;\n      var $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\n      self.loading++;\n      fn.apply(self, [\n        function (results) {\n          self.loading = Math.max(self.loading - 1, 0);\n          if (results && results.length) {\n            self.addOption(results);\n            self.refreshOptions(self.isFocused && !self.isInputHidden);\n          }\n          if (!self.loading) {\n            $wrapper.removeClass(self.settings.loadingClass);\n          }\n          self.trigger('load', results);\n        },\n      ]);\n    },\n\n    /**\n     * Sets the input field of the control to the specified value.\n     *\n     * @param {string} value\n     */\n    setTextboxValue: function (value) {\n      var $input = this.$control_input;\n      var changed = $input.val() !== value;\n      if (changed) {\n        $input.val(value).triggerHandler('update');\n        this.lastValue = value;\n      }\n    },\n\n    /**\n     * Returns the value of the control. If multiple items\n     * can be selected (e.g. <select multiple>), this returns\n     * an array. If only one item can be selected, this\n     * returns a string.\n     *\n     * @returns {mixed}\n     */\n    getValue: function () {\n      if (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n        return this.items;\n      } else {\n        return this.items.join(this.settings.delimiter);\n      }\n    },\n\n    /**\n     * Resets the selected items to the given value.\n     *\n     * @param {mixed} value\n     */\n    setValue: function (value, silent) {\n      var events = silent ? [] : ['change'];\n\n      debounce_events(this, events, function () {\n        this.clear(silent);\n        this.addItems(value, silent);\n      });\n    },\n\n    /**\n     * Sets the selected item.\n     *\n     * @param {object} $item\n     * @param {object} e (optional)\n     */\n    setActiveItem: function ($item, e) {\n      var self = this;\n      var eventName;\n      var i, idx, begin, end, item, swap;\n      var $last;\n\n      if (self.settings.mode === 'single') return;\n      $item = $($item);\n\n      // clear the active selection\n      if (!$item.length) {\n        $(self.$activeItems).removeClass('active');\n        self.$activeItems = [];\n        if (self.isFocused) {\n          self.showInput();\n        }\n        return;\n      }\n\n      // modify selection\n      eventName = e && e.type.toLowerCase();\n\n      if (\n        eventName === 'mousedown' &&\n        self.isShiftDown &&\n        self.$activeItems.length\n      ) {\n        $last = self.$control.children('.active:last');\n        begin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [\n          $last[0],\n        ]);\n        end = Array.prototype.indexOf.apply(self.$control[0].childNodes, [\n          $item[0],\n        ]);\n        if (begin > end) {\n          swap = begin;\n          begin = end;\n          end = swap;\n        }\n        for (i = begin; i <= end; i++) {\n          item = self.$control[0].childNodes[i];\n          if (self.$activeItems.indexOf(item) === -1) {\n            $(item).addClass('active');\n            self.$activeItems.push(item);\n          }\n        }\n        e.preventDefault();\n      } else if (\n        (eventName === 'mousedown' && self.isCtrlDown) ||\n        (eventName === 'keydown' && this.isShiftDown)\n      ) {\n        if ($item.hasClass('active')) {\n          idx = self.$activeItems.indexOf($item[0]);\n          self.$activeItems.splice(idx, 1);\n          $item.removeClass('active');\n        } else {\n          self.$activeItems.push($item.addClass('active')[0]);\n        }\n      } else {\n        $(self.$activeItems).removeClass('active');\n        self.$activeItems = [$item.addClass('active')[0]];\n      }\n\n      // ensure control has focus\n      self.hideInput();\n      if (!this.isFocused) {\n        self.focus();\n      }\n    },\n\n    /**\n     * Sets the selected item in the dropdown menu\n     * of available options.\n     *\n     * @param {object} $object\n     * @param {boolean} scroll\n     * @param {boolean} animate\n     */\n    setActiveOption: function ($option, scroll, animate) {\n      var height_menu, height_item, y;\n      var scroll_top, scroll_bottom;\n      var self = this;\n\n      if (self.$activeOption) self.$activeOption.removeClass('active');\n      self.$activeOption = null;\n\n      $option = $($option);\n      if (!$option.length) return;\n\n      self.$activeOption = $option.addClass('active');\n\n      if (scroll || !isset(scroll)) {\n        height_menu = self.$dropdown_content.height();\n        height_item = self.$activeOption.outerHeight(true);\n        scroll = self.$dropdown_content.scrollTop() || 0;\n        y =\n          self.$activeOption.offset().top -\n          self.$dropdown_content.offset().top +\n          scroll;\n        scroll_top = y;\n        scroll_bottom = y - height_menu + height_item;\n\n        if (y + height_item > height_menu + scroll) {\n          self.$dropdown_content\n            .stop()\n            .animate(\n              {scrollTop: scroll_bottom},\n              animate ? self.settings.scrollDuration : 0,\n            );\n        } else if (y < scroll) {\n          self.$dropdown_content\n            .stop()\n            .animate(\n              {scrollTop: scroll_top},\n              animate ? self.settings.scrollDuration : 0,\n            );\n        }\n      }\n    },\n\n    /**\n     * Selects all items (CTRL + A).\n     */\n    selectAll: function () {\n      var self = this;\n      if (self.settings.mode === 'single') return;\n\n      self.$activeItems = Array.prototype.slice.apply(\n        self.$control.children(':not(input)').addClass('active'),\n      );\n      if (self.$activeItems.length) {\n        self.hideInput();\n        self.close();\n      }\n      self.focus();\n    },\n\n    /**\n     * Hides the input element out of view, while\n     * retaining its focus.\n     */\n    hideInput: function () {\n      var self = this;\n\n      self.setTextboxValue('');\n      self.$control_input.css({\n        opacity: 0,\n        position: 'absolute',\n        left: self.rtl ? 10000 : -10000,\n      });\n      self.isInputHidden = true;\n    },\n\n    /**\n     * Restores input visibility.\n     */\n    showInput: function () {\n      this.$control_input.css({opacity: 1, position: 'relative', left: 0});\n      this.isInputHidden = false;\n    },\n\n    /**\n     * Gives the control focus.\n     */\n    focus: function () {\n      var self = this;\n      if (self.isDisabled) return;\n\n      self.ignoreFocus = true;\n      self.$control_input[0].focus();\n      window.setTimeout(function () {\n        self.ignoreFocus = false;\n        self.onFocus();\n      }, 0);\n    },\n\n    /**\n     * Forces the control out of focus.\n     *\n     * @param {Element} dest\n     */\n    blur: function (dest) {\n      this.$control_input[0].blur();\n      this.onBlur(null, dest);\n    },\n\n    /**\n     * Returns a function that scores an object\n     * to show how good of a match it is to the\n     * provided query.\n     *\n     * @param {string} query\n     * @param {object} options\n     * @return {function}\n     */\n    getScoreFunction: function (query) {\n      return this.sifter.getScoreFunction(query, this.getSearchOptions());\n    },\n\n    /**\n     * Returns search options for sifter (the system\n     * for scoring and sorting results).\n     *\n     * @see https://github.com/brianreavis/sifter.js\n     * @return {object}\n     */\n    getSearchOptions: function () {\n      var settings = this.settings;\n      var sort = settings.sortField;\n      if (typeof sort === 'string') {\n        sort = [{field: sort}];\n      }\n\n      return {\n        fields: settings.searchField,\n        conjunction: settings.searchConjunction,\n        sort: sort,\n      };\n    },\n\n    /**\n     * Searches through available options and returns\n     * a sorted array of matches.\n     *\n     * Returns an object containing:\n     *\n     *   - query {string}\n     *   - tokens {array}\n     *   - total {int}\n     *   - items {array}\n     *\n     * @param {string} query\n     * @returns {object}\n     */\n    search: function (query) {\n      var i, value, score, result, calculateScore;\n      var self = this;\n      var settings = self.settings;\n      var options = this.getSearchOptions();\n\n      // validate user-provided result scoring function\n      if (settings.score) {\n        calculateScore = self.settings.score.apply(this, [query]);\n        if (typeof calculateScore !== 'function') {\n          throw new Error(\n            'Selectize \"score\" setting must be a function that returns a function',\n          );\n        }\n      }\n\n      // perform search\n      if (query !== self.lastQuery) {\n        self.lastQuery = query;\n        result = self.sifter.search(\n          query,\n          $.extend(options, {score: calculateScore}),\n        );\n        self.currentResults = result;\n      } else {\n        result = $.extend(true, {}, self.currentResults);\n      }\n\n      // filter out selected items\n      if (settings.hideSelected) {\n        for (i = result.items.length - 1; i >= 0; i--) {\n          if (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n            result.items.splice(i, 1);\n          }\n        }\n      }\n\n      return result;\n    },\n\n    /**\n     * Refreshes the list of available options shown\n     * in the autocomplete dropdown menu.\n     *\n     * @param {boolean} triggerDropdown\n     */\n    refreshOptions: function (triggerDropdown) {\n      var i,\n        j,\n        k,\n        n,\n        groups,\n        groups_order,\n        option,\n        option_html,\n        optgroup,\n        optgroups,\n        html,\n        html_children,\n        has_create_option;\n      var $active, $active_before, $create;\n\n      if (typeof triggerDropdown === 'undefined') {\n        triggerDropdown = true;\n      }\n\n      var self = this;\n      var query = $.trim(self.$control_input.val());\n      var results = self.search(query);\n      var $dropdown_content = self.$dropdown_content;\n      var active_before =\n        self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\n      // build markup\n      n = results.items.length;\n      if (typeof self.settings.maxOptions === 'number') {\n        n = Math.min(n, self.settings.maxOptions);\n      }\n\n      // render and group available options individually\n      groups = {};\n      groups_order = [];\n\n      for (i = 0; i < n; i++) {\n        option = self.options[results.items[i].id];\n        option_html = self.render('option', option);\n        optgroup = option[self.settings.optgroupField] || '';\n        optgroups = $.isArray(optgroup) ? optgroup : [optgroup];\n\n        for (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n          optgroup = optgroups[j];\n          if (!self.optgroups.hasOwnProperty(optgroup)) {\n            optgroup = '';\n          }\n          if (!groups.hasOwnProperty(optgroup)) {\n            groups[optgroup] = [];\n            groups_order.push(optgroup);\n          }\n          groups[optgroup].push(option_html);\n        }\n      }\n\n      // sort optgroups\n      if (this.settings.lockOptgroupOrder) {\n        groups_order.sort(function (a, b) {\n          var a_order = self.optgroups[a].$order || 0;\n          var b_order = self.optgroups[b].$order || 0;\n          return a_order - b_order;\n        });\n      }\n\n      // render optgroup headers & join groups\n      html = [];\n      for (i = 0, n = groups_order.length; i < n; i++) {\n        optgroup = groups_order[i];\n        if (\n          self.optgroups.hasOwnProperty(optgroup) &&\n          groups[optgroup].length\n        ) {\n          // render the optgroup header and options within it,\n          // then pass it to the wrapper template\n          html_children =\n            self.render('optgroup_header', self.optgroups[optgroup]) || '';\n          html_children += groups[optgroup].join('');\n          html.push(\n            self.render(\n              'optgroup',\n              $.extend({}, self.optgroups[optgroup], {\n                html: html_children,\n              }),\n            ),\n          );\n        } else {\n          html.push(groups[optgroup].join(''));\n        }\n      }\n\n      $dropdown_content.html(html.join(''));\n\n      // highlight matching terms inline\n      if (\n        self.settings.highlight &&\n        results.query.length &&\n        results.tokens.length\n      ) {\n        for (i = 0, n = results.tokens.length; i < n; i++) {\n          highlight($dropdown_content, results.tokens[i].regex);\n        }\n      }\n\n      // add \"selected\" class to selected options\n      if (!self.settings.hideSelected) {\n        for (i = 0, n = self.items.length; i < n; i++) {\n          self.getOption(self.items[i]).addClass('selected');\n        }\n      }\n\n      // add create option\n      has_create_option = self.canCreate(query);\n      if (has_create_option) {\n        $dropdown_content.prepend(self.render('option_create', {input: query}));\n        $create = $($dropdown_content[0].childNodes[0]);\n      }\n\n      // activate\n      self.hasOptions = results.items.length > 0 || has_create_option;\n      if (self.hasOptions) {\n        if (results.items.length > 0) {\n          $active_before = active_before && self.getOption(active_before);\n          if ($active_before && $active_before.length) {\n            $active = $active_before;\n          } else if (self.settings.mode === 'single' && self.items.length) {\n            $active = self.getOption(self.items[0]);\n          }\n          if (!$active || !$active.length) {\n            if ($create && !self.settings.addPrecedence) {\n              $active = self.getAdjacentOption($create, 1);\n            } else {\n              $active = $dropdown_content.find('[data-selectable]:first');\n            }\n          }\n        } else {\n          $active = $create;\n        }\n        self.setActiveOption($active);\n        if (triggerDropdown && !self.isOpen) {\n          self.open();\n        }\n      } else {\n        self.setActiveOption(null);\n        if (triggerDropdown && self.isOpen) {\n          self.close();\n        }\n      }\n    },\n\n    /**\n     * Adds an available option. If it already exists,\n     * nothing will happen. Note: this does not refresh\n     * the options list dropdown (use `refreshOptions`\n     * for that).\n     *\n     * Usage:\n     *\n     *   this.addOption(data)\n     *\n     * @param {object|array} data\n     */\n    addOption: function (data) {\n      var i,\n        n,\n        value,\n        self = this;\n\n      if ($.isArray(data)) {\n        for (i = 0, n = data.length; i < n; i++) {\n          self.addOption(data[i]);\n        }\n        return;\n      }\n\n      if ((value = self.registerOption(data))) {\n        self.userOptions[value] = true;\n        self.lastQuery = null;\n        self.trigger('option_add', value, data);\n      }\n    },\n\n    /**\n     * Registers an option to the pool of options.\n     *\n     * @param {object} data\n     * @return {boolean|string}\n     */\n    registerOption: function (data) {\n      var key = hash_key(data[this.settings.valueField]);\n      // CHANGE\n      if (\n        typeof key === 'undefined' ||\n        key === null ||\n        this.options.hasOwnProperty(key)\n      )\n        return false;\n      data.$order = data.$order || ++this.order;\n      this.options[key] = data;\n      return key;\n    },\n\n    /**\n     * Registers an option group to the pool of option groups.\n     *\n     * @param {object} data\n     * @return {boolean|string}\n     */\n    registerOptionGroup: function (data) {\n      var key = hash_key(data[this.settings.optgroupValueField]);\n      if (!key) return false;\n\n      data.$order = data.$order || ++this.order;\n      this.optgroups[key] = data;\n      return key;\n    },\n\n    /**\n     * Registers a new optgroup for options\n     * to be bucketed into.\n     *\n     * @param {string} id\n     * @param {object} data\n     */\n    addOptionGroup: function (id, data) {\n      data[this.settings.optgroupValueField] = id;\n      if ((id = this.registerOptionGroup(data))) {\n        this.trigger('optgroup_add', id, data);\n      }\n    },\n\n    /**\n     * Removes an existing option group.\n     *\n     * @param {string} id\n     */\n    removeOptionGroup: function (id) {\n      if (this.optgroups.hasOwnProperty(id)) {\n        delete this.optgroups[id];\n        this.renderCache = {};\n        this.trigger('optgroup_remove', id);\n      }\n    },\n\n    /**\n     * Clears all existing option groups.\n     */\n    clearOptionGroups: function () {\n      this.optgroups = {};\n      this.renderCache = {};\n      this.trigger('optgroup_clear');\n    },\n\n    /**\n     * Updates an option available for selection. If\n     * it is visible in the selected items or options\n     * dropdown, it will be re-rendered automatically.\n     *\n     * @param {string} value\n     * @param {object} data\n     */\n    updateOption: function (value, data) {\n      var self = this;\n      var $item, $item_new;\n      var value_new, index_item, cache_items, cache_options, order_old;\n\n      value = hash_key(value);\n      value_new = hash_key(data[self.settings.valueField]);\n\n      // sanity checks\n      if (value === null) return;\n      if (!self.options.hasOwnProperty(value)) return;\n      if (typeof value_new !== 'string')\n        throw new Error('Value must be set in option data');\n\n      order_old = self.options[value].$order;\n\n      // update references\n      if (value_new !== value) {\n        delete self.options[value];\n        index_item = self.items.indexOf(value);\n        if (index_item !== -1) {\n          self.items.splice(index_item, 1, value_new);\n        }\n      }\n      data.$order = data.$order || order_old;\n      self.options[value_new] = data;\n\n      // invalidate render cache\n      cache_items = self.renderCache['item'];\n      cache_options = self.renderCache['option'];\n\n      if (cache_items) {\n        delete cache_items[value];\n        delete cache_items[value_new];\n      }\n      if (cache_options) {\n        delete cache_options[value];\n        delete cache_options[value_new];\n      }\n\n      // update the item if it's selected\n      if (self.items.indexOf(value_new) !== -1) {\n        $item = self.getItem(value);\n        $item_new = $(self.render('item', data));\n        if ($item.hasClass('active')) $item_new.addClass('active');\n        $item.replaceWith($item_new);\n      }\n\n      // invalidate last query because we might have updated the sortField\n      self.lastQuery = null;\n\n      // update dropdown contents\n      if (self.isOpen) {\n        self.refreshOptions(false);\n      }\n    },\n\n    /**\n     * Removes a single option.\n     *\n     * @param {string} value\n     * @param {boolean} silent\n     */\n    removeOption: function (value, silent) {\n      var self = this;\n      value = hash_key(value);\n\n      var cache_items = self.renderCache['item'];\n      var cache_options = self.renderCache['option'];\n      if (cache_items) delete cache_items[value];\n      if (cache_options) delete cache_options[value];\n\n      delete self.userOptions[value];\n      delete self.options[value];\n      self.lastQuery = null;\n      self.trigger('option_remove', value);\n      self.removeItem(value, silent);\n    },\n\n    /**\n     * Clears all options.\n     */\n    clearOptions: function () {\n      var self = this;\n\n      self.loadedSearches = {};\n      self.userOptions = {};\n      self.renderCache = {};\n      self.options = self.sifter.items = {};\n      self.lastQuery = null;\n      self.trigger('option_clear');\n      self.clear();\n    },\n\n    /**\n     * Returns the jQuery element of the option\n     * matching the given value.\n     *\n     * @param {string} value\n     * @returns {object}\n     */\n    getOption: function (value) {\n      return this.getElementWithValue(\n        value,\n        this.$dropdown_content.find('[data-selectable]'),\n      );\n    },\n\n    /**\n     * Returns the jQuery element of the next or\n     * previous selectable option.\n     *\n     * @param {object} $option\n     * @param {int} direction  can be 1 for next or -1 for previous\n     * @return {object}\n     */\n    getAdjacentOption: function ($option, direction) {\n      var $options = this.$dropdown.find('[data-selectable]');\n      var index = $options.index($option) + direction;\n\n      return index >= 0 && index < $options.length ? $options.eq(index) : $();\n    },\n\n    /**\n     * Finds the first element with a \"data-value\" attribute\n     * that matches the given value.\n     *\n     * @param {mixed} value\n     * @param {object} $els\n     * @return {object}\n     */\n    getElementWithValue: function (value, $els) {\n      value = hash_key(value);\n\n      if (typeof value !== 'undefined' && value !== null) {\n        for (var i = 0, n = $els.length; i < n; i++) {\n          if ($els[i].getAttribute('data-value') === value) {\n            return $($els[i]);\n          }\n        }\n      }\n\n      return $();\n    },\n\n    /**\n     * Returns the jQuery element of the item\n     * matching the given value.\n     *\n     * @param {string} value\n     * @returns {object}\n     */\n    getItem: function (value) {\n      return this.getElementWithValue(value, this.$control.children());\n    },\n\n    /**\n     * \"Selects\" multiple items at once. Adds them to the list\n     * at the current caret position.\n     *\n     * @param {string} value\n     * @param {boolean} silent\n     */\n    addItems: function (values, silent) {\n      var items = $.isArray(values) ? values : [values];\n      for (var i = 0, n = items.length; i < n; i++) {\n        this.isPending = i < n - 1;\n        this.addItem(items[i], silent);\n      }\n    },\n\n    /**\n     * \"Selects\" an item. Adds it to the list\n     * at the current caret position.\n     *\n     * @param {string} value\n     * @param {boolean} silent\n     */\n    addItem: function (value, silent) {\n      var events = silent ? [] : ['change'];\n\n      debounce_events(this, events, function () {\n        var $item, $option, $options;\n        var self = this;\n        var inputMode = self.settings.mode;\n        var i, active, value_next, wasFull;\n        value = hash_key(value);\n\n        if (self.items.indexOf(value) !== -1) {\n          if (inputMode === 'single') self.close();\n          return;\n        }\n\n        if (!self.options.hasOwnProperty(value)) return;\n        if (inputMode === 'single') self.clear(silent);\n        if (inputMode === 'multi' && self.isFull()) return;\n\n        $item = $(self.render('item', self.options[value]));\n        wasFull = self.isFull();\n        self.items.splice(self.caretPos, 0, value);\n        self.insertAtCaret($item);\n        if (!self.isPending || (!wasFull && self.isFull())) {\n          self.refreshState();\n        }\n\n        if (self.isSetup) {\n          $options = self.$dropdown_content.find('[data-selectable]');\n\n          // update menu / remove the option (if this is not one item being added as part of series)\n          if (!self.isPending) {\n            $option = self.getOption(value);\n            value_next = self.getAdjacentOption($option, 1).attr('data-value');\n            self.refreshOptions(self.isFocused && inputMode !== 'single');\n            if (value_next) {\n              self.setActiveOption(self.getOption(value_next));\n            }\n          }\n\n          // hide the menu if the maximum number of items have been selected or no options are left\n          if (!$options.length || self.isFull()) {\n            self.close();\n          } else {\n            self.positionDropdown();\n          }\n\n          self.updatePlaceholder();\n          self.trigger('item_add', value, $item);\n          self.updateOriginalInput({silent: silent});\n        }\n      });\n    },\n\n    /**\n     * Removes the selected item matching\n     * the provided value.\n     *\n     * @param {string} value\n     */\n    removeItem: function (value, silent) {\n      var self = this;\n      var $item, i, idx;\n\n      $item = typeof value === 'object' ? value : self.getItem(value);\n      value = hash_key($item.attr('data-value'));\n      i = self.items.indexOf(value);\n\n      if (i !== -1) {\n        $item.remove();\n        if ($item.hasClass('active')) {\n          idx = self.$activeItems.indexOf($item[0]);\n          self.$activeItems.splice(idx, 1);\n        }\n\n        self.items.splice(i, 1);\n        self.lastQuery = null;\n        if (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n          self.removeOption(value, silent);\n        }\n\n        if (i < self.caretPos) {\n          self.setCaret(self.caretPos - 1);\n        }\n\n        self.refreshState();\n        self.updatePlaceholder();\n        self.updateOriginalInput({silent: silent});\n        self.positionDropdown();\n        self.trigger('item_remove', value, $item);\n      }\n    },\n\n    /**\n     * Invokes the `create` method provided in the\n     * selectize options that should provide the data\n     * for the new item, given the user input.\n     *\n     * Once this completes, it will be added\n     * to the item list.\n     *\n     * @param {string} value\n     * @param {boolean} [triggerDropdown]\n     * @param {function} [callback]\n     * @return {boolean}\n     */\n    createItem: function (input, triggerDropdown) {\n      var self = this;\n      var caret = self.caretPos;\n      input = input || $.trim(self.$control_input.val() || '');\n\n      var callback = arguments[arguments.length - 1];\n      if (typeof callback !== 'function') callback = function () {};\n\n      if (typeof triggerDropdown !== 'boolean') {\n        triggerDropdown = true;\n      }\n\n      if (!self.canCreate(input)) {\n        callback();\n        return false;\n      }\n\n      self.lock();\n\n      var setup =\n        typeof self.settings.create === 'function'\n          ? this.settings.create\n          : function (input) {\n              var data = {};\n              data[self.settings.labelField] = input;\n              data[self.settings.valueField] = input;\n              return data;\n            };\n\n      var create = once(function (data) {\n        self.unlock();\n\n        if (!data || typeof data !== 'object') return callback();\n        var value = hash_key(data[self.settings.valueField]);\n        if (typeof value !== 'string') return callback();\n\n        self.setTextboxValue('');\n        self.addOption(data);\n        self.setCaret(caret);\n        self.addItem(value);\n        self.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n        callback(data);\n      });\n\n      var output = setup.apply(this, [input, create]);\n      if (typeof output !== 'undefined') {\n        create(output);\n      }\n\n      return true;\n    },\n\n    /**\n     * Re-renders the selected item lists.\n     */\n    refreshItems: function () {\n      this.lastQuery = null;\n\n      if (this.isSetup) {\n        this.addItem(this.items);\n      }\n\n      this.refreshState();\n      this.updateOriginalInput();\n    },\n\n    /**\n     * Updates all state-dependent attributes\n     * and CSS classes.\n     */\n    refreshState: function () {\n      var invalid,\n        self = this;\n      if (self.isRequired) {\n        if (self.items.length) self.isInvalid = false;\n        self.$control_input.prop('required', invalid);\n      }\n      self.refreshClasses();\n    },\n\n    /**\n     * Updates all state-dependent CSS classes.\n     */\n    refreshClasses: function () {\n      var self = this;\n      var isFull = self.isFull();\n      var isLocked = self.isLocked;\n\n      self.$wrapper.toggleClass('rtl', self.rtl);\n\n      self.$control\n        .toggleClass('focus', self.isFocused)\n        .toggleClass('disabled', self.isDisabled)\n        .toggleClass('required', self.isRequired)\n        .toggleClass('invalid', self.isInvalid)\n        .toggleClass('locked', isLocked)\n        .toggleClass('full', isFull)\n        .toggleClass('not-full', !isFull)\n        .toggleClass('input-active', self.isFocused && !self.isInputHidden)\n        .toggleClass('dropdown-active', self.isOpen)\n        .toggleClass('has-options', !$.isEmptyObject(self.options))\n        .toggleClass('has-items', self.items.length > 0);\n\n      self.$control_input.data('grow', !isFull && !isLocked);\n    },\n\n    /**\n     * Determines whether or not more items can be added\n     * to the control without exceeding the user-defined maximum.\n     *\n     * @returns {boolean}\n     */\n    isFull: function () {\n      return (\n        this.settings.maxItems !== null &&\n        this.items.length >= this.settings.maxItems\n      );\n    },\n\n    /**\n     * Refreshes the original <select> or <input>\n     * element to reflect the current state.\n     */\n    updateOriginalInput: function (opts) {\n      var i,\n        n,\n        options,\n        label,\n        self = this;\n      opts = opts || {};\n\n      if (self.tagType === TAG_SELECT) {\n        options = [];\n        for (i = 0, n = self.items.length; i < n; i++) {\n          label = self.options[self.items[i]][self.settings.labelField] || '';\n          options.push(\n            '<option value=\"' +\n              escape_html(self.items[i]) +\n              '\" selected=\"selected\">' +\n              escape_html(label) +\n              '</option>',\n          );\n        }\n        if (!options.length && !this.$input.attr('multiple')) {\n          options.push('<option value=\"\" selected=\"selected\"></option>');\n        }\n        self.$input.html(options.join(''));\n      } else {\n        self.$input.val(self.getValue());\n        self.$input.attr('value', self.$input.val());\n      }\n\n      if (self.isSetup) {\n        if (!opts.silent) {\n          self.trigger('change', self.$input.val());\n        }\n      }\n    },\n\n    /**\n     * Shows/hide the input placeholder depending\n     * on if there items in the list already.\n     */\n    updatePlaceholder: function () {\n      if (!this.settings.placeholder) return;\n      var $input = this.$control_input;\n\n      if (this.items.length) {\n        $input.removeAttr('placeholder');\n      } else {\n        $input.attr('placeholder', this.settings.placeholder);\n      }\n      $input.triggerHandler('update', {force: true});\n    },\n\n    /**\n     * Shows the autocomplete dropdown containing\n     * the available options.\n     */\n    open: function () {\n      var self = this;\n\n      if (\n        self.isLocked ||\n        self.isOpen ||\n        (self.settings.mode === 'multi' && self.isFull())\n      )\n        return;\n      self.focus();\n      self.isOpen = true;\n      self.refreshState();\n      self.$dropdown.css({visibility: 'hidden', display: 'block'});\n      self.positionDropdown();\n      self.$dropdown.css({visibility: 'visible'});\n      self.trigger('dropdown_open', self.$dropdown);\n    },\n\n    /**\n     * Closes the autocomplete dropdown menu.\n     */\n    close: function () {\n      var self = this;\n      var trigger = self.isOpen;\n\n      if (self.settings.mode === 'single' && self.items.length) {\n        self.hideInput();\n      }\n\n      self.isOpen = false;\n      self.$dropdown.hide();\n      self.setActiveOption(null);\n      self.refreshState();\n\n      if (trigger) self.trigger('dropdown_close', self.$dropdown);\n    },\n\n    /**\n     * Calculates and applies the appropriate\n     * position of the dropdown.\n     */\n    positionDropdown: function () {\n      var $control = this.$control;\n      var offset =\n        this.settings.dropdownParent === 'body'\n          ? $control.offset()\n          : $control.position();\n      offset.top += $control.outerHeight(true);\n\n      this.$dropdown.css({\n        width: $control.outerWidth(),\n        top: offset.top,\n        left: offset.left,\n      });\n    },\n\n    /**\n     * Resets / clears all selected items\n     * from the control.\n     *\n     * @param {boolean} silent\n     */\n    clear: function (silent) {\n      var self = this;\n\n      if (!self.items.length) return;\n      self.$control.children(':not(input)').remove();\n      self.items = [];\n      self.lastQuery = null;\n      self.setCaret(0);\n      self.setActiveItem(null);\n      self.updatePlaceholder();\n      self.updateOriginalInput({silent: silent});\n      self.refreshState();\n      self.showInput();\n      self.trigger('clear');\n    },\n\n    /**\n     * A helper method for inserting an element\n     * at the current caret position.\n     *\n     * @param {object} $el\n     */\n    insertAtCaret: function ($el) {\n      var caret = Math.min(this.caretPos, this.items.length);\n      if (caret === 0) {\n        this.$control.prepend($el);\n      } else {\n        $(this.$control[0].childNodes[caret]).before($el);\n      }\n      this.setCaret(caret + 1);\n    },\n\n    /**\n     * Removes the current selected item(s).\n     *\n     * @param {object} e (optional)\n     * @returns {boolean}\n     */\n    deleteSelection: function (e) {\n      var i,\n        n,\n        direction,\n        selection,\n        values,\n        caret,\n        option_select,\n        $option_select,\n        $tail;\n      var self = this;\n\n      direction = e && e.keyCode === KEY_BACKSPACE ? -1 : 1;\n      selection = getSelection(self.$control_input[0]);\n\n      if (self.$activeOption && !self.settings.hideSelected) {\n        option_select = self\n          .getAdjacentOption(self.$activeOption, -1)\n          .attr('data-value');\n      }\n\n      // determine items that will be removed\n      values = [];\n\n      if (self.$activeItems.length) {\n        $tail = self.$control.children(\n          '.active:' + (direction > 0 ? 'last' : 'first'),\n        );\n        caret = self.$control.children(':not(input)').index($tail);\n        if (direction > 0) {\n          caret++;\n        }\n\n        for (i = 0, n = self.$activeItems.length; i < n; i++) {\n          values.push($(self.$activeItems[i]).attr('data-value'));\n        }\n        if (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      } else if (\n        (self.isFocused || self.settings.mode === 'single') &&\n        self.items.length\n      ) {\n        if (direction < 0 && selection.start === 0 && selection.length === 0) {\n          values.push(self.items[self.caretPos - 1]);\n        } else if (\n          direction > 0 &&\n          selection.start === self.$control_input.val().length\n        ) {\n          values.push(self.items[self.caretPos]);\n        }\n      }\n\n      // allow the callback to abort\n      if (\n        !values.length ||\n        (typeof self.settings.onDelete === 'function' &&\n          self.settings.onDelete.apply(self, [values]) === false)\n      ) {\n        return false;\n      }\n\n      // perform removal\n      if (typeof caret !== 'undefined') {\n        self.setCaret(caret);\n      }\n      while (values.length) {\n        self.removeItem(values.pop());\n      }\n\n      self.showInput();\n      self.positionDropdown();\n      self.refreshOptions(true);\n\n      // select previous option\n      if (option_select) {\n        $option_select = self.getOption(option_select);\n        if ($option_select.length) {\n          self.setActiveOption($option_select);\n        }\n      }\n\n      return true;\n    },\n\n    /**\n     * Selects the previous / next item (depending\n     * on the `direction` argument).\n     *\n     * > 0 - right\n     * < 0 - left\n     *\n     * @param {int} direction\n     * @param {object} e (optional)\n     */\n    advanceSelection: function (direction, e) {\n      var tail, selection, idx, valueLength, cursorAtEdge, $tail;\n      var self = this;\n\n      if (direction === 0) return;\n      if (self.rtl) direction *= -1;\n\n      tail = direction > 0 ? 'last' : 'first';\n      selection = getSelection(self.$control_input[0]);\n\n      if (self.isFocused && !self.isInputHidden) {\n        valueLength = self.$control_input.val().length;\n        cursorAtEdge =\n          direction < 0\n            ? selection.start === 0 && selection.length === 0\n            : selection.start === valueLength;\n\n        if (cursorAtEdge && !valueLength) {\n          self.advanceCaret(direction, e);\n        }\n      } else {\n        $tail = self.$control.children('.active:' + tail);\n        if ($tail.length) {\n          idx = self.$control.children(':not(input)').index($tail);\n          self.setActiveItem(null);\n          self.setCaret(direction > 0 ? idx + 1 : idx);\n        }\n      }\n    },\n\n    /**\n     * Moves the caret left / right.\n     *\n     * @param {int} direction\n     * @param {object} e (optional)\n     */\n    advanceCaret: function (direction, e) {\n      var self = this,\n        fn,\n        $adj;\n\n      if (direction === 0) return;\n\n      fn = direction > 0 ? 'next' : 'prev';\n      if (self.isShiftDown) {\n        $adj = self.$control_input[fn]();\n        if ($adj.length) {\n          self.hideInput();\n          self.setActiveItem($adj);\n          e && e.preventDefault();\n        }\n      } else {\n        self.setCaret(self.caretPos + direction);\n      }\n    },\n\n    /**\n     * Moves the caret to the specified index.\n     *\n     * @param {int} i\n     */\n    setCaret: function (i) {\n      var self = this;\n\n      if (self.settings.mode === 'single') {\n        i = self.items.length;\n      } else {\n        i = Math.max(0, Math.min(self.items.length, i));\n      }\n\n      if (!self.isPending) {\n        // the input must be moved by leaving it in place and moving the\n        // siblings, due to the fact that focus cannot be restored once lost\n        // on mobile webkit devices\n        var j, n, fn, $children, $child;\n        $children = self.$control.children(':not(input)');\n        for (j = 0, n = $children.length; j < n; j++) {\n          $child = $($children[j]).detach();\n          if (j < i) {\n            self.$control_input.before($child);\n          } else {\n            self.$control.append($child);\n          }\n        }\n      }\n\n      self.caretPos = i;\n    },\n\n    /**\n     * Disables user input on the control. Used while\n     * items are being asynchronously created.\n     */\n    lock: function () {\n      this.close();\n      this.isLocked = true;\n      this.refreshState();\n    },\n\n    /**\n     * Re-enables user input on the control.\n     */\n    unlock: function () {\n      this.isLocked = false;\n      this.refreshState();\n    },\n\n    /**\n     * Disables user input on the control completely.\n     * While disabled, it cannot receive focus.\n     */\n    disable: function () {\n      var self = this;\n      self.$input.prop('disabled', true);\n      self.$control_input.prop('disabled', true).prop('tabindex', -1);\n      self.isDisabled = true;\n      self.lock();\n    },\n\n    /**\n     * Enables the control so that it can respond\n     * to focus and user input.\n     */\n    enable: function () {\n      var self = this;\n      self.$input.prop('disabled', false);\n      self.$control_input\n        .prop('disabled', false)\n        .prop('tabindex', self.tabIndex);\n      self.isDisabled = false;\n      self.unlock();\n    },\n\n    /**\n     * Completely destroys the control and\n     * unbinds all event listeners so that it can\n     * be garbage collected.\n     */\n    destroy: function () {\n      var self = this;\n      var eventNS = self.eventNS;\n      var revertSettings = self.revertSettings;\n\n      self.trigger('destroy');\n      self.off();\n      self.$wrapper.remove();\n      self.$dropdown.remove();\n\n      self.$input\n        .html('')\n        .append(revertSettings.$children)\n        .removeAttr('tabindex')\n        .removeClass('selectized')\n        .attr({tabindex: revertSettings.tabindex})\n        .show();\n\n      self.$control_input.removeData('grow');\n      self.$input.removeData('selectize');\n\n      $(window).off(eventNS);\n      $(document).off(eventNS);\n      $(document.body).off(eventNS);\n\n      delete self.$input[0].selectize;\n    },\n\n    /**\n     * A helper method for rendering \"item\" and\n     * \"option\" templates, given the data.\n     *\n     * @param {string} templateName\n     * @param {object} data\n     * @returns {string}\n     */\n    render: function (templateName, data) {\n      var value, id, label;\n      var html = '';\n      var cache = false;\n      var self = this;\n      var regex_tag =\n        /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\n      if (templateName === 'option' || templateName === 'item') {\n        value = hash_key(data[self.settings.valueField]);\n        cache = !!value;\n      }\n\n      // pull markup from cache if it exists\n      if (cache) {\n        if (!isset(self.renderCache[templateName])) {\n          self.renderCache[templateName] = {};\n        }\n        if (self.renderCache[templateName].hasOwnProperty(value)) {\n          return self.renderCache[templateName][value];\n        }\n      }\n\n      // render markup\n      html = self.settings.render[templateName].apply(this, [\n        data,\n        escape_html,\n      ]);\n\n      // add mandatory attributes\n      if (templateName === 'option' || templateName === 'option_create') {\n        html = html.replace(regex_tag, '<$1 data-selectable');\n      }\n      if (templateName === 'optgroup') {\n        id = data[self.settings.optgroupValueField] || '';\n        html = html.replace(\n          regex_tag,\n          '<$1 data-group=\"' + escape_replace(escape_html(id)) + '\"',\n        );\n      }\n      if (templateName === 'option' || templateName === 'item') {\n        html = html.replace(\n          regex_tag,\n          '<$1 data-value=\"' + escape_replace(escape_html(value || '')) + '\"',\n        );\n      }\n\n      // update cache\n      if (cache) {\n        self.renderCache[templateName][value] = html;\n      }\n\n      return html;\n    },\n\n    /**\n     * Clears the render cache for a template. If\n     * no template is given, clears all render\n     * caches.\n     *\n     * @param {string} templateName\n     */\n    clearCache: function (templateName) {\n      var self = this;\n      if (typeof templateName === 'undefined') {\n        self.renderCache = {};\n      } else {\n        delete self.renderCache[templateName];\n      }\n    },\n\n    /**\n     * Determines whether or not to display the\n     * create item prompt, given a user input.\n     *\n     * @param {string} input\n     * @return {boolean}\n     */\n    canCreate: function (input) {\n      var self = this;\n      if (!self.settings.create) return false;\n      var filter = self.settings.createFilter;\n      return (\n        input.length &&\n        (typeof filter !== 'function' || filter.apply(self, [input])) &&\n        (typeof filter !== 'string' || new RegExp(filter).test(input)) &&\n        (!(filter instanceof RegExp) || filter.test(input))\n      );\n    },\n  });\n\n  Selectize.count = 0;\n  Selectize.defaults = {\n    options: [],\n    optgroups: [],\n\n    plugins: [],\n    delimiter: ',',\n    splitOn: null, // regexp or string for splitting up values from a paste command\n    persist: true,\n    diacritics: true,\n    create: false,\n    createOnBlur: false,\n    createFilter: null,\n    highlight: true,\n    openOnFocus: true,\n    maxOptions: 1000,\n    maxItems: null,\n    hideSelected: null,\n    addPrecedence: false,\n    selectOnTab: false,\n    preload: false,\n    allowEmptyOption: false,\n    closeAfterSelect: false,\n\n    scrollDuration: 60,\n    loadThrottle: 300,\n    loadingClass: 'loading',\n\n    dataAttr: 'data-data',\n    optgroupField: 'optgroup',\n    valueField: 'value',\n    labelField: 'text',\n    optgroupLabelField: 'label',\n    optgroupValueField: 'value',\n    lockOptgroupOrder: false,\n\n    sortField: '$order',\n    searchField: ['text'],\n    searchConjunction: 'and',\n\n    mode: null,\n    wrapperClass: 'selectize-control',\n    inputClass: 'selectize-input',\n    dropdownClass: 'selectize-dropdown',\n    dropdownContentClass: 'selectize-dropdown-content',\n\n    dropdownParent: null,\n\n    copyClassesToDropdown: true,\n\n    /*\n        load                 : null, // function(query, callback) { ... }\n        score                : null, // function(search) { ... }\n        onInitialize         : null, // function() { ... }\n        onChange             : null, // function(value) { ... }\n        onItemAdd            : null, // function(value, $item) { ... }\n        onItemRemove         : null, // function(value) { ... }\n        onClear              : null, // function() { ... }\n        onOptionAdd          : null, // function(value, data) { ... }\n        onOptionRemove       : null, // function(value) { ... }\n        onOptionClear        : null, // function() { ... }\n        onOptionGroupAdd     : null, // function(id, data) { ... }\n        onOptionGroupRemove  : null, // function(id) { ... }\n        onOptionGroupClear   : null, // function() { ... }\n        onDropdownOpen       : null, // function($dropdown) { ... }\n        onDropdownClose      : null, // function($dropdown) { ... }\n        onType               : null, // function(str) { ... }\n        onDelete             : null, // function(values) { ... }\n        */\n\n    render: {\n      /*\n            item: null,\n            optgroup: null,\n            optgroup_header: null,\n            option: null,\n            option_create: null\n            */\n    },\n  };\n\n  $.fn.selectize = function (settings_user) {\n    var defaults = $.fn.selectize.defaults;\n    var settings = $.extend({}, defaults, settings_user);\n    var attr_data = settings.dataAttr;\n    var field_label = settings.labelField;\n    var field_value = settings.valueField;\n    var field_optgroup = settings.optgroupField;\n    var field_optgroup_label = settings.optgroupLabelField;\n    var field_optgroup_value = settings.optgroupValueField;\n\n    /**\n     * Initializes selectize from a <input type=\"text\"> element.\n     *\n     * @param {object} $input\n     * @param {object} settings_element\n     */\n    var init_textbox = function ($input, settings_element) {\n      var i, n, values, option;\n\n      var data_raw = $input.attr(attr_data);\n\n      if (!data_raw) {\n        var value = $.trim($input.val() || '');\n        if (!settings.allowEmptyOption && !value.length) return;\n        values = value.split(settings.delimiter);\n        for (i = 0, n = values.length; i < n; i++) {\n          option = {};\n          option[field_label] = values[i];\n          option[field_value] = values[i];\n          settings_element.options.push(option);\n        }\n        settings_element.items = values;\n      } else {\n        settings_element.options = JSON.parse(data_raw);\n        for (i = 0, n = settings_element.options.length; i < n; i++) {\n          settings_element.items.push(settings_element.options[i][field_value]);\n        }\n      }\n    };\n\n    /**\n     * Initializes selectize from a <select> element.\n     *\n     * @param {object} $input\n     * @param {object} settings_element\n     */\n    var init_select = function ($input, settings_element) {\n      var i,\n        n,\n        tagName,\n        $children,\n        order = 0;\n      var options = settings_element.options;\n      var optionsMap = {};\n\n      var readData = function ($el) {\n        var data = attr_data && $el.attr(attr_data);\n        if (typeof data === 'string' && data.length) {\n          return JSON.parse(data);\n        }\n        return null;\n      };\n\n      var addOption = function ($option, group) {\n        $option = $($option);\n\n        var value = hash_key($option.attr('value'));\n        if (!value && !settings.allowEmptyOption) return;\n\n        // if the option already exists, it's probably been\n        // duplicated in another optgroup. in this case, push\n        // the current group to the \"optgroup\" property on the\n        // existing option so that it's rendered in both places.\n        if (optionsMap.hasOwnProperty(value)) {\n          if (group) {\n            var arr = optionsMap[value][field_optgroup];\n            if (!arr) {\n              optionsMap[value][field_optgroup] = group;\n            } else if (!$.isArray(arr)) {\n              optionsMap[value][field_optgroup] = [arr, group];\n            } else {\n              arr.push(group);\n            }\n          }\n          return;\n        }\n\n        var option = readData($option) || {};\n        option[field_label] = option[field_label] || $option.text();\n        option[field_value] = option[field_value] || value;\n        option[field_optgroup] = option[field_optgroup] || group;\n\n        optionsMap[value] = option;\n        options.push(option);\n\n        if ($option.is(':selected')) {\n          settings_element.items.push(value);\n        }\n      };\n\n      var addGroup = function ($optgroup) {\n        var i, n, id, optgroup, $options;\n\n        $optgroup = $($optgroup);\n        id = $optgroup.attr('label');\n\n        if (id) {\n          optgroup = readData($optgroup) || {};\n          optgroup[field_optgroup_label] = id;\n          optgroup[field_optgroup_value] = id;\n          settings_element.optgroups.push(optgroup);\n        }\n\n        $options = $('option', $optgroup);\n        for (i = 0, n = $options.length; i < n; i++) {\n          addOption($options[i], id);\n        }\n      };\n\n      settings_element.maxItems = $input.attr('multiple') ? null : 1;\n\n      $children = $input.children();\n      for (i = 0, n = $children.length; i < n; i++) {\n        tagName = $children[i].tagName.toLowerCase();\n        if (tagName === 'optgroup') {\n          addGroup($children[i]);\n        } else if (tagName === 'option') {\n          addOption($children[i]);\n        }\n      }\n    };\n\n    return this.each(function () {\n      if (this.selectize) return;\n\n      var instance;\n      var $input = $(this);\n      var tag_name = this.tagName.toLowerCase();\n      var placeholder =\n        $input.attr('placeholder') || $input.attr('data-placeholder');\n      if (!placeholder && !settings.allowEmptyOption) {\n        placeholder = $input.children('option[value=\"\"]').text();\n      }\n\n      var settings_element = {\n        placeholder: placeholder,\n        options: [],\n        optgroups: [],\n        items: [],\n      };\n\n      if (tag_name === 'select') {\n        init_select($input, settings_element);\n      } else {\n        init_textbox($input, settings_element);\n      }\n\n      instance = new Selectize(\n        $input,\n        $.extend(true, {}, defaults, settings_element, settings_user),\n      );\n    });\n  };\n\n  $.fn.selectize.defaults = Selectize.defaults;\n  $.fn.selectize.support = {\n    validity: SUPPORTS_VALIDITY_API,\n  };\n\n  Selectize.define('drag_drop', function (options) {\n    if (!$.fn.sortable)\n      throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n    if (this.settings.mode !== 'multi') return;\n    var self = this;\n\n    self.lock = (function () {\n      var original = self.lock;\n      return function () {\n        var sortable = self.$control.data('sortable');\n        if (sortable) sortable.disable();\n        return original.apply(self, arguments);\n      };\n    })();\n\n    self.unlock = (function () {\n      var original = self.unlock;\n      return function () {\n        var sortable = self.$control.data('sortable');\n        if (sortable) sortable.enable();\n        return original.apply(self, arguments);\n      };\n    })();\n\n    self.setup = (function () {\n      var original = self.setup;\n      return function () {\n        original.apply(this, arguments);\n\n        var $control = self.$control.sortable({\n          items: '[data-value]',\n          forcePlaceholderSize: true,\n          disabled: self.isLocked,\n          start: function (e, ui) {\n            ui.placeholder.css('width', ui.helper.css('width'));\n            $control.css({overflow: 'visible'});\n          },\n          stop: function () {\n            $control.css({overflow: 'hidden'});\n            var active = self.$activeItems ? self.$activeItems.slice() : null;\n            var values = [];\n            $control.children('[data-value]').each(function () {\n              values.push($(this).attr('data-value'));\n            });\n            self.setValue(values);\n            self.setActiveItem(active);\n          },\n        });\n      };\n    })();\n  });\n\n  Selectize.define('dropdown_header', function (options) {\n    var self = this;\n\n    options = $.extend(\n      {\n        title: 'Untitled',\n        headerClass: 'selectize-dropdown-header',\n        titleRowClass: 'selectize-dropdown-header-title',\n        labelClass: 'selectize-dropdown-header-label',\n        closeClass: 'selectize-dropdown-header-close',\n\n        html: function (data) {\n          return (\n            '<div class=\"' +\n            data.headerClass +\n            '\">' +\n            '<div class=\"' +\n            data.titleRowClass +\n            '\">' +\n            '<span class=\"' +\n            data.labelClass +\n            '\">' +\n            data.title +\n            '</span>' +\n            '<a href=\"javascript:void(0)\" class=\"' +\n            data.closeClass +\n            '\">&times;</a>' +\n            '</div>' +\n            '</div>'\n          );\n        },\n      },\n      options,\n    );\n\n    self.setup = (function () {\n      var original = self.setup;\n      return function () {\n        original.apply(self, arguments);\n        self.$dropdown_header = $(options.html(options));\n        self.$dropdown.prepend(self.$dropdown_header);\n      };\n    })();\n  });\n\n  Selectize.define('optgroup_columns', function (options) {\n    var self = this;\n\n    options = $.extend(\n      {\n        equalizeWidth: true,\n        equalizeHeight: true,\n      },\n      options,\n    );\n\n    this.getAdjacentOption = function ($option, direction) {\n      var $options = $option.closest('[data-group]').find('[data-selectable]');\n      var index = $options.index($option) + direction;\n\n      return index >= 0 && index < $options.length ? $options.eq(index) : $();\n    };\n\n    this.onKeyDown = (function () {\n      var original = self.onKeyDown;\n      return function (e) {\n        var index, $option, $options, $optgroup;\n\n        if (\n          this.isOpen &&\n          (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)\n        ) {\n          self.ignoreHover = true;\n          $optgroup = this.$activeOption.closest('[data-group]');\n          index = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\n          if (e.keyCode === KEY_LEFT) {\n            $optgroup = $optgroup.prev('[data-group]');\n          } else {\n            $optgroup = $optgroup.next('[data-group]');\n          }\n\n          $options = $optgroup.find('[data-selectable]');\n          $option = $options.eq(Math.min($options.length - 1, index));\n          if ($option.length) {\n            this.setActiveOption($option);\n          }\n          return;\n        }\n\n        return original.apply(this, arguments);\n      };\n    })();\n\n    var getScrollbarWidth = function () {\n      var div;\n      var width = getScrollbarWidth.width;\n      var doc = document;\n\n      if (typeof width === 'undefined') {\n        div = doc.createElement('div');\n        div.innerHTML =\n          '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n        div = div.firstChild;\n        doc.body.appendChild(div);\n        width = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n        doc.body.removeChild(div);\n      }\n      return width;\n    };\n\n    var equalizeSizes = function () {\n      var i, n, height_max, width, width_last, width_parent, $optgroups;\n\n      $optgroups = $('[data-group]', self.$dropdown_content);\n      n = $optgroups.length;\n      if (!n || !self.$dropdown_content.width()) return;\n\n      if (options.equalizeHeight) {\n        height_max = 0;\n        for (i = 0; i < n; i++) {\n          height_max = Math.max(height_max, $optgroups.eq(i).height());\n        }\n        $optgroups.css({height: height_max});\n      }\n\n      if (options.equalizeWidth) {\n        width_parent =\n          self.$dropdown_content.innerWidth() - getScrollbarWidth();\n        width = Math.round(width_parent / n);\n        $optgroups.css({width: width});\n        if (n > 1) {\n          width_last = width_parent - width * (n - 1);\n          $optgroups.eq(n - 1).css({width: width_last});\n        }\n      }\n    };\n\n    if (options.equalizeHeight || options.equalizeWidth) {\n      hook.after(this, 'positionDropdown', equalizeSizes);\n      hook.after(this, 'refreshOptions', equalizeSizes);\n    }\n  });\n\n  Selectize.define('remove_button', function (options) {\n    if (this.settings.mode === 'single') return;\n\n    options = $.extend(\n      {\n        label: '&times;',\n        title: 'Remove',\n        className: 'remove',\n        append: true,\n      },\n      options,\n    );\n\n    var self = this;\n    var html =\n      '<a href=\"javascript:void(0)\" class=\"' +\n      options.className +\n      '\" tabindex=\"-1\" title=\"' +\n      escape_html(options.title) +\n      '\">' +\n      options.label +\n      '</a>';\n\n    /**\n     * Appends an element as a child (with raw HTML).\n     *\n     * @param {string} html_container\n     * @param {string} html_element\n     * @return {string}\n     */\n    var append = function (html_container, html_element) {\n      var pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n      return (\n        html_container.substring(0, pos) +\n        html_element +\n        html_container.substring(pos)\n      );\n    };\n\n    this.setup = (function () {\n      var original = self.setup;\n      return function () {\n        // override the item rendering method to add the button to each\n        if (options.append) {\n          var render_item = self.settings.render.item;\n          self.settings.render.item = function (data) {\n            return append(render_item.apply(this, arguments), html);\n          };\n        }\n\n        original.apply(this, arguments);\n\n        // add event listener\n        this.$control.on('click', '.' + options.className, function (e) {\n          e.preventDefault();\n          if (self.isLocked) return;\n\n          var $item = $(e.currentTarget).parent();\n          self.setActiveItem($item);\n          if (self.deleteSelection()) {\n            self.setCaret(self.items.length);\n          }\n        });\n      };\n    })();\n  });\n\n  Selectize.define('restore_on_backspace', function (options) {\n    var self = this;\n\n    options.text =\n      options.text ||\n      function (option) {\n        return option[this.settings.labelField];\n      };\n\n    this.onKeyDown = (function () {\n      var original = self.onKeyDown;\n      return function (e) {\n        var index, option;\n        if (\n          e.keyCode === KEY_BACKSPACE &&\n          this.$control_input.val() === '' &&\n          !this.$activeItems.length\n        ) {\n          index = this.caretPos - 1;\n          if (index >= 0 && index < this.items.length) {\n            option = this.options[this.items[index]];\n            if (this.deleteSelection(e)) {\n              this.setTextboxValue(options.text.apply(this, [option]));\n              this.refreshOptions(true);\n            }\n            e.preventDefault();\n            return;\n          }\n        }\n        return original.apply(this, arguments);\n      };\n    })();\n  });\n\n  return Selectize;\n});\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[3].use[1]!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[4]!./feed-me.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5431c7e0\", content, true, {});","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"names":["$","_typeof","Craft","FeedMe","document","on","e","preventDefault","row","this","parents","data","toggle","$disableLabel","next","originalDisableLabel","text","$disableInstructions","siblings","originalDisableInstructions","hide","value","val","replace","show","t","trigger","sections","groupId","entryTypes","currentValue","newOptions","each","index","html","children","attr","elementType","elementTypes","groups","isSingleton","checked","disabled","length","prop","match","$selectParent","parent","$elementCreateContainer","find","hasClass","$options","$label","$filenameNode","css","opacity","visibility","$container","selectedTypeId","entryType","undefined","selectize","allowEmptyOption","nextUntil","element","rowValues","rowHasValue","i","v","prevUntil","addBack","prev","turnOn","key","toggleClass","$form","action","submit","define","Sifter","items","settings","diacritics","prototype","tokenize","query","trim","String","toLowerCase","n","regex","letter","tokens","words","split","escape_regex","DIACRITICS","hasOwnProperty","RegExp","push","string","iterator","object","callback","is_array","Array","forEach","apply","getScoreFunction","search","options","fields","token_count","prepareSearch","field_count","scoreValue","token","score","pos","scoreObject","sum","conjunction","getSortFunction","self","field","fields_count","multiplier","multipliers","get_field","implicit_score","sort","sort_empty","name","result","id","unshift","direction","splice","a","b","cmp","option_fields","extend","option_sort","option_sort_empty","total","fn_sort","fn_score","item","filter","limit","slice","asciifold","k","arguments","str","isArray","Object","toString","call","c","d","l","o","r","s","u","y","z","chunk","foreignletters","lookup","substring","charAt","regexp","foreignletter","MicroPlugin","Interface","plugins","initializePlugins","queue","names","requested","loaded","utils","require","shift","loadPlugin","plugin","Error","fn","vArg","highlight","$element","pattern","node","skip","nodeType","spannode","createElement","className","middlebit","splitText","middleclone","cloneNode","appendChild","parentNode","replaceChild","childNodes","test","tagName","MicroEvent","event","fct","_events","off","indexOf","mixin","destObject","props","IS_MAC","navigator","userAgent","KEY_CMD","KEY_CTRL","SUPPORTS_VALIDITY_API","window","validity","isset","hash_key","escape_html","escape_replace","hook","method","original","debounce_events","types","type","event_args","getSelection","input","start","selectionStart","selectionEnd","selection","focus","sel","createRange","selLen","moveStart","autoGrow","$input","currentWidth","update","keyCode","printable","placeholder","width","character","metaKey","altKey","force","shiftKey","fromCharCode","toUpperCase","$parent","$test","position","top","left","padding","whiteSpace","appendTo","$from","$to","properties","styles","transferStyles","remove","measureString","triggerHandler","Selectize","dir","delay","timeout","computedStyle","getComputedStyle","getPropertyValue","currentStyle","order","tabIndex","tagType","rtl","eventNS","count","highlightedValue","isOpen","isDisabled","isRequired","is","isInvalid","isLocked","isFocused","isInputHidden","isSetup","isShiftDown","isCmdDown","isCtrlDown","ignoreFocus","ignoreBlur","ignoreHover","hasOptions","currentResults","lastValue","caretPos","loading","loadedSearches","$activeOption","$activeItems","optgroups","userOptions","renderCache","onSearchChange","loadThrottle","args","clearTimeout","setTimeout","sifter","registerOption","registerOptionGroup","mode","maxItems","hideSelected","setupCallbacks","setupTemplates","setup","$wrapper","$control","$control_input","$dropdown","$dropdown_content","$dropdown_parent","inputMode","classes","classes_plugins","selector","$window","$document","addClass","wrapperClass","inputClass","dropdownParent","dropdownClass","dropdownContentClass","copyClassesToDropdown","style","join","splitOn","delimiter","delimiterEscaped","onOptionHover","onOptionSelect","onItemSelect","child","target","currentTarget","mousedown","onMouseDown","click","onClick","stopPropagation","keydown","onKeyDown","keyup","onKeyUp","keypress","onKeyPress","resize","positionDropdown","blur","onBlur","onFocus","paste","onPaste","has","revertSettings","$children","detach","tabindex","after","setValue","refreshState","updateOriginalInput","refreshItems","updatePlaceholder","disable","onChange","preload","field_label","labelField","field_optgroup","optgroupLabelField","templates","optgroup","optgroup_header","escape","option","option_create","render","callbacks","initialize","change","item_add","item_remove","clear","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","load","defaultPrevented","isDefaultPrevented","close","open","setActiveItem","isFull","splitInput","createItem","which","create","selectAll","ctrlKey","$next","getAdjacentOption","setActiveOption","$prev","advanceSelection","selectOnTab","deleteSelection","refreshOptions","wasFocused","showInput","openOnFocus","dest","activeElement","deactivate","setTextboxValue","setCaret","body","createOnBlur","$target","closeAfterSelect","lastQuery","addItem","getOption","loadingClass","results","Math","max","addOption","removeClass","getValue","silent","addItems","$item","eventName","idx","begin","end","swap","$last","hideInput","$option","scroll","animate","height_menu","height_item","scroll_top","scroll_bottom","height","outerHeight","scrollTop","offset","stop","scrollDuration","getSearchOptions","sortField","searchField","searchConjunction","calculateScore","triggerDropdown","j","groups_order","option_html","html_children","has_create_option","$active","$active_before","$create","active_before","maxOptions","min","optgroupField","lockOptgroupOrder","$order","canCreate","prepend","addPrecedence","valueField","optgroupValueField","addOptionGroup","removeOptionGroup","clearOptionGroups","updateOption","$item_new","value_new","index_item","cache_items","cache_options","order_old","getItem","replaceWith","removeOption","removeItem","clearOptions","getElementWithValue","eq","$els","getAttribute","values","isPending","value_next","wasFull","insertAtCaret","persist","caret","lock","called","unlock","output","invalid","refreshClasses","isEmptyObject","opts","label","removeAttr","display","outerWidth","$el","before","option_select","$option_select","$tail","onDelete","pop","tail","valueLength","advanceCaret","$adj","$child","append","enable","destroy","removeData","templateName","cache","regex_tag","clearCache","createFilter","defaults","dataAttr","settings_user","attr_data","field_value","field_optgroup_label","field_optgroup_value","tag_name","settings_element","optionsMap","readData","JSON","parse","group","arr","addGroup","$optgroup","init_select","data_raw","init_textbox","support","sortable","forcePlaceholderSize","ui","helper","overflow","active","title","headerClass","titleRowClass","labelClass","closeClass","$dropdown_header","equalizeWidth","equalizeHeight","closest","getScrollbarWidth","div","doc","innerHTML","firstChild","offsetWidth","clientWidth","removeChild","equalizeSizes","height_max","width_last","width_parent","$optgroups","innerWidth","round","render_item","html_container","html_element","content","__esModule","default","module","locals","exports","add","listToStyles","parentId","list","newStyles","part","media","sourceMap","parts","hasDocument","DEBUG","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","ssrIdKey","isOldIE","addStylesClient","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","addStyle","createStyleElement","styleElement","obj","querySelector","styleIndex","applyToSingletonTag","bind","applyToTag","newObj","textStore","replaceText","replacement","Boolean","styleSheet","cssText","cssNode","createTextNode","insertBefore","setAttribute","ssrId","sources","btoa","unescape","encodeURIComponent","stringify","jQuery","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","defineProperty","enumerable","get"],"sourceRoot":""}